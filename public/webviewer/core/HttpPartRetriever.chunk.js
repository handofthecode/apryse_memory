/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[0],{553:function(xa,ta,f){f.r(ta);f.d(ta,"ByteRangeRequest",function(){return w});var qa=f(0),na=f(1);f.n(na);var oa=f(3),ja=f(186);xa=f(116);var la=f(310),ha=f(85),ca=f(91),ba=f(309),r=f(204);f=f(474);var h=[],b=[],a=window,n=function(){return function(){this.gp=1}}(),e;(function(y){y[y.UNSENT=0]="UNSENT";y[y.DONE=4]="DONE"})(e||(e={}));var w=function(){function y(z,x,fa,ea){var ma=this;this.url=z;this.range=x;this.wg=fa;this.withCredentials=
ea;this.sea=e;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);a.Uint8Array&&(this.request.responseType="arraybuffer");ea&&(this.request.withCredentials=ea);aa.DISABLE_RANGE_HEADER||(Object(na.isUndefined)(x.stop)?this.request.setRequestHeader("Range","bytes="+x.start):this.request.setRequestHeader("Range",["bytes=",x.start,"-",x.stop-1].join("")));fa&&Object.keys(fa).forEach(function(ka){ma.request.setRequestHeader(ka,fa[ka])});this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):
this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=ba.a.NOT_STARTED}y.prototype.start=function(z){var x=this,fa=this.request;fa.onreadystatechange=function(){if(x.aborted)return x.status=ba.a.ABORTED,z({code:ba.a.ABORTED});if(this.readyState===x.sea.DONE){x.dI();var ea=0===window.document.URL.indexOf("file:///");200===fa.status||206===fa.status||ea&&0===fa.status?(ea=a.X2(this),x.fV(ea,z)):(x.status=ba.a.ERROR,z({code:x.status,status:x.status}))}};this.request.send(null);
this.status=ba.a.STARTED};y.prototype.fV=function(z,x){this.status=ba.a.SUCCESS;if(x)return x(!1,z)};y.prototype.abort=function(){this.dI();this.aborted=!0;this.request.abort()};y.prototype.dI=function(){var z=Object(r.c)(this.url,this.range,b);-1!==z&&b.splice(z,1);if(0<h.length){z=h.shift();var x=new y(z.url,z.range,this.wg,this.withCredentials);z.request=x;b.push(z);x.start(Object(r.d)(z))}};y.prototype.extend=function(z){var x=Object.assign({},this,z.prototype);x.constructor=z;return x};return y}(),
aa=function(y){function z(x,fa,ea,ma,ka){ea=y.call(this,x,ea,ma)||this;ea.cl={};ea.mG=fa;ea.url=x;ea.DISABLE_RANGE_HEADER=!1;ea.NC=w;ea.sW=3;ea.wg=ka||{};return ea}Object(qa.c)(z,y);z.prototype.fA=function(x,fa,ea){var ma=-1===x.indexOf("?")?"?":"&";switch(ea){case !1:case ca.a.NEVER_CACHE:x=x+ma+"_="+Object(na.uniqueId)();break;case !0:case ca.a.CACHE:x=x+ma+"_="+fa.start+","+(Object(na.isUndefined)(fa.stop)?"":fa.stop)}return x};z.prototype.f0=function(x,fa,ea,ma){void 0===ea&&(ea={});return new this.NC(x,
fa,ea,ma)};z.prototype.loa=function(x,fa,ea,ma,ka){for(var ia=0;ia<h.length;ia++)if(Object(na.isEqual)(h[ia].range,fa)&&Object(na.isEqual)(h[ia].url,x))return h[ia].ki.push(ma),h[ia].rJ++,null;for(ia=0;ia<b.length;ia++)if(Object(na.isEqual)(b[ia].range,fa)&&Object(na.isEqual)(b[ia].url,x))return b[ia].ki.push(ma),b[ia].rJ++,null;ea={url:x,range:fa,mG:ea,ki:[ma],rJ:1};if(0===h.length&&b.length<this.sW)return b.push(ea),ea.request=this.f0(x,fa,ka,this.withCredentials),ea;h.push(ea);return null};z.prototype.jr=
function(x,fa,ea){var ma=this.fA(x,fa,this.mG);(x=this.loa(ma,fa,this.mG,ea,this.wg))&&x.request.start(Object(r.d)(x));return function(){var ka=Object(r.c)(ma,fa,b);if(-1!==ka){var ia=--b[ka].rJ;0===ia&&b[ka].request&&b[ka].request.abort()}else ka=Object(r.c)(ma,fa,h),-1!==ka&&(ia=--h[ka].rJ,0===ia&&h.splice(ka,1))}};z.prototype.q2=function(){return{start:-ja.a}};z.prototype.Lsa=function(){var x=-(ja.a+ja.e);return{start:x-ja.d,end:x}};z.prototype.gx=function(x){var fa=this;this.uG=!0;var ea=ja.a;
this.jr(this.url,this.q2(),function(ma,ka,ia){function ra(){var pa=fa.ze.n2();fa.jr(fa.url,pa,function(sa,ua){if(sa)return Object(oa.j)("Error loading central directory: "+sa),x(sa);ua=Object(ha.a)(ua);if(ua.length!==pa.stop-pa.start)return x("Invalid XOD file: Zip central directory data is wrong size! Should be "+(pa.stop-pa.start)+" but is "+ua.length);fa.ze.R7(ua);fa.mO=!0;fa.uG=!1;return x(!1)})}if(ma)return Object(oa.j)("Error loading end header: "+ma),x(ma,ka,ia);ka=Object(ha.a)(ka);if(ka.length!==
ea)return x("Invalid XOD file: Zip end header data is wrong size!");try{fa.ze=new la.a(ka)}catch(pa){return x(pa)}fa.ze.Xua?fa.jr(fa.url,fa.Lsa(),function(pa,sa){if(pa)return Object(oa.j)("Error loading zip64 header: "+pa),x(pa);sa=Object(ha.a)(sa);fa.ze.xva(sa);ra()}):ra()})};z.prototype.S2=function(x){x(Object.keys(this.ze.Iq))};z.prototype.lT=function(x,fa){var ea=this;if(this.ze.T_(x)){var ma=this.ze.UA(x);if(ma in this.cl){var ka=this.Ki[x];ka.Hv=this.cl[ma];ka.Hv.gp++;ka.cancel=ka.Hv.cancel}else{var ia=
this.ze.Cqa(x),ra=this.jr(this.url,ia,function(sa,ua){sa?(Object(oa.j)('Error loading part "'+x+'": '+sa),ea.jr(ea.url,ia,function(wa,Ea){if(wa)return fa(wa,x);ea.V7(Ea,ia,ma,x,fa)})):ea.V7(ua,ia,ma,x,fa)}),pa=this.Ki[x];pa&&(pa.O$=!0,pa.cancel=function(){pa.Hv.gp--;0===pa.Hv.gp&&(ra(),delete ea.cl[ma])},this.cl[ma]=new n(ma),pa.Hv=this.cl[ma],pa.Hv.cancel=pa.cancel)}}else delete this.Ki[x],fa(Error('File not found: "'+x+'"'),x)};z.prototype.V7=function(x,fa,ea,ma,ka){if(x.length!==fa.stop-fa.start)ka(Error("Part data is wrong size!"),
ma);else{do{if(!this.cl[ea])return;ma=this.cl[ea].gp;for(var ia=fa.fu.length,ra=0;ra<ia;++ra){var pa=fa.fu[ra];ka(!1,pa.cu,x["string"===typeof x?"substring":"subarray"](pa.start,pa.stop),this.ze.r4(pa.cu));pa.cu in this.Ki&&delete this.Ki[pa.cu]}}while(ma!==this.cl[ea].gp);delete this.cl[ea]}};z.DISABLE_RANGE_HEADER=!1;z.sW=3;return z}(xa.a);(function(y){function z(x,fa,ea){var ma=y.call(this)||this,ka;for(ka in x)ma[ka]=x[ka];ma.lJa=x;ma.startOffset=fa;ma.endOffset=ea;ma.f0=function(ia,ra,pa,sa){Object(na.isUndefined)(ra.stop)?
(ra.start+=ma.endOffset,ra.stop=ma.endOffset):(ra.start+=ma.startOffset,ra.stop+=ma.startOffset);ia=ma.fA(ma.url,ra,ma.mG);return new x.NC(ia,ra,pa,sa)};return ma}Object(qa.c)(z,y);return z})(aa);Object(f.a)(aa);Object(f.b)(aa);ta["default"]=aa}}]);}).call(this || window)
