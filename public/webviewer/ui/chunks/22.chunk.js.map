{"version":3,"sources":["webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabs/LeftPanelPageTabsContainer.scss?1596","webpack:///./src/ui/src/helpers/pageManipulationFunctions.js","webpack:///./src/ui/src/components/Outline/Context.js","webpack:///./src/ui/src/constants/dnd.js","webpack:///./src/ui/src/constants/bookmarksOutlinesShared.scss?470d","webpack:///./src/ui/src/components/MoreOptionsContextMenuPopup/MoreOptionsContextMenuPopup.js","webpack:///./src/ui/src/components/MoreOptionsContextMenuPopup/index.js","webpack:///./src/ui/src/components/OutlineContent/OutlineContent.js","webpack:///./src/ui/src/components/OutlineContent/index.js","webpack:///./src/ui/src/helpers/handleFreeTextAutoSizeToggle.js","webpack:///./src/ui/src/components/StylePicker/ColorPicker/ColorPicker.js","webpack:///./src/ui/src/components/StylePicker/ColorPicker/index.js","webpack:///./src/ui/src/components/Element/Element.scss?a607","webpack:///./src/ui/src/components/Element/Element.scss","webpack:///./src/ui/src/components/StylePicker/ColorPicker/ColorPicker.scss?cb36","webpack:///./src/ui/src/components/StylePicker/ColorPicker/ColorPicker.scss","webpack:///./src/ui/src/components/RichTextStyleEditor/RichTextStyleEditor.scss?bfb4","webpack:///./src/ui/src/components/RichTextStyleEditor/RichTextStyleEditor.scss","webpack:///./src/ui/src/components/OutlineControls/OutlineControls.scss?c5fd","webpack:///./src/ui/src/components/OutlineControls/OutlineControls.scss","webpack:///./src/ui/src/components/MoreOptionsContextMenuPopup/MoreOptionsContextMenuPopup.scss?afd1","webpack:///./src/ui/src/components/MoreOptionsContextMenuPopup/MoreOptionsContextMenuPopup.scss","webpack:///./src/ui/src/components/OutlineContent/OutlineContent.scss?b097","webpack:///./src/ui/src/components/OutlineContent/OutlineContent.scss","webpack:///./src/ui/src/components/Outline/Outline.scss?faae","webpack:///./src/ui/src/components/Outline/Outline.scss","webpack:///./src/ui/src/constants/bookmarksOutlinesShared.scss","webpack:///./src/ui/src/components/BookmarksPanel/BookmarksPanel.scss?a5f6","webpack:///./src/ui/src/components/BookmarksPanel/BookmarksPanel.scss","webpack:///./src/ui/src/components/ThumbnailControls/ThumbnailControls.scss?b6c7","webpack:///./src/ui/src/components/ThumbnailControls/ThumbnailControls.scss","webpack:///./src/ui/src/components/Thumbnail/Thumbnail.scss?24bb","webpack:///./src/ui/src/components/Thumbnail/Thumbnail.scss","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabs/LeftPanelPageTabsContainer.scss","webpack:///./src/ui/src/components/DocumentControls/DocumentControls.scss?a520","webpack:///./src/ui/src/components/DocumentControls/DocumentControls.scss","webpack:///./src/ui/src/components/ThumbnailsPanel/ThumbnailsPanel.scss?1157","webpack:///./src/ui/src/components/ThumbnailsPanel/ThumbnailsPanel.scss","webpack:///./src/ui/src/components/Element/Element.js","webpack:///./src/ui/src/components/Element/index.js","webpack:///./src/ui/src/components/OutlineControls/OutlineControls.js","webpack:///./src/ui/src/components/OutlineControls/index.js","webpack:///./src/ui/src/components/Outline/Outline.js","webpack:///./src/ui/src/components/Outline/index.js","webpack:///./src/ui/src/components/PageManipulationOverlayButton/PageManipulationOverlayButtonContainer.js","webpack:///./src/ui/src/components/PageManipulationOverlayButton/index.js","webpack:///./src/ui/src/components/ThumbnailControls/ThumbnailControls.js","webpack:///./src/ui/src/components/ThumbnailControls/index.js","webpack:///./src/ui/src/components/Thumbnail/Thumbnail.js","webpack:///./src/ui/src/components/Thumbnail/ThumbnailRedux.js","webpack:///./src/ui/src/components/Thumbnail/index.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsMoreSmall/LeftPanelPageTabsMoreSmall.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsInsertSmall/LeftPanelPageTabsInsertSmall.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/CustomLeftPanelOperations/CustomLeftPanelOperations.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsRotate/LeftPanelPageTabsRotate.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsSmall/LeftPanelPageTabsSmall.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsMore/LeftPanelPageTabsMore.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsMove/LeftPanelPageTabsMove.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabs/LeftPanelPageTabs.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsInsert/LeftPanelPageTabsInsert.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsOperations/LeftPanelPageTabsOperations.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsLarge/LeftPanelPageTabsLarge.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/LeftPanelPageTabsContainer.js","webpack:///./src/ui/src/components/LeftPanelPageTabs/index.js","webpack:///./src/ui/src/components/DocumentControls/DocumentControls.js","webpack:///./src/ui/src/components/DocumentControls/index.js","webpack:///./src/ui/src/helpers/pageManipulation.js","webpack:///./src/ui/src/components/ThumbnailsPanel/ThumbnailsPanel.js","webpack:///./src/ui/src/components/ThumbnailsPanel/index.js","webpack:///./src/ui/src/components/Bookmark/Bookmark.js","webpack:///./src/ui/src/components/Bookmark/index.js","webpack:///./src/ui/src/components/BookmarksPanel/BookmarksPanel.js","webpack:///./src/ui/src/components/BookmarksPanel/index.js","webpack:///./src/ui/src/components/RichTextStyleEditor/RichTextStyleEditor.js","webpack:///./src/ui/src/components/RichTextStyleEditor/index.js","webpack:///./src/ui/src/components/StylePicker/StylePicker.scss?9588","webpack:///./src/ui/src/components/StylePicker/StylePicker.scss","webpack:///./src/ui/src/components/OutlinesPanel/OutlinesPanel.scss?e27f","webpack:///./src/ui/src/components/OutlinesPanel/OutlinesPanel.scss","webpack:///./src/ui/src/components/StylePicker/SnapModeToggle/index.js","webpack:///./src/ui/src/components/StylePicker/SnapModeToggle/SnapModeToggle.js","webpack:///./src/ui/src/helpers/stylePanelHelper.js","webpack:///./src/ui/src/components/StylePicker/StylePicker.js","webpack:///./src/ui/src/components/StylePicker/index.js","webpack:///./src/ui/src/components/StylePanel/StylePanel.js","webpack:///./src/ui/src/components/OutlinesPanel/OutlinesDragLayer.js","webpack:///./src/ui/src/components/OutlinesPanel/OutlinesPanel.js","webpack:///./src/ui/src/components/OutlinesPanel/index.js","webpack:///./src/ui/src/components/ModularComponents/TabPanel/TabPanel.scss?ae6b","webpack:///./src/ui/src/components/ModularComponents/TabPanel/TabPanel.scss","webpack:///./src/ui/src/components/ModularComponents/TabPanel/TabPanel.js","webpack:///./src/ui/src/components/ModularComponents/TabPanel/index.js"],"names":["api","content","__esModule","default","module","i","options","styleTag","window","isApryseWebViewerWebComponent","document","head","appendChild","webComponents","getElementsByTagName","length","findNestedWebComponents","tagName","root","elements","querySelectorAll","forEach","el","push","shadowRoot","clonedStyleTags","webComponent","onload","styleNode","innerHTML","cloneNode","exports","locals","createAnnouncement","onClickAnnouncement","createElement","id","Date","now","setAttribute","classList","add","body","setTimeout","getElementById","innerText","removeChild","getNewRotation","curr","counterClockwise","Core","PageRotation","E_0","E_90","E_180","E_270","rotatePages","pageNumbers","doc","core","getDocument","docType","type","workerTypes","PDF","IMAGE","WEBVIEWER_SERVER","isWebViewerServerDocument","rotation","index","docViewer","getDocumentViewer","currentRotations","getPageRotations","page","setRotation","rotateClockwise","i18next","t","getPageRotation","getCurrentPage","rotateCounterClockwise","insertAbove","width","height","insertBlankPages","insertBelow","map","replace","dispatch","actions","closeElement","DataElements","PAGE_MANIPULATION_OVERLAY","openElement","extractPages","message","title","confirmBtnText","secondaryBtnText","extractAnnouncement","deleteAnnouncement","warning","onConfirm","extractPagesWithAnnotations","then","file","saveAs","onSecondary","removePages","setSelectedPageThumbnails","showWarningMessage","deletePages","isModalEnabled","setShiftKeyThumbnailsPivotIndex","getPageCount","Promise","resolve","movePagesToBottom","movePages","getTotalPages","movePagesToTop","noPagesSelectedWarning","keepOpen","exitPageInsertionWarning","closeModal","exitPageReplacementWarning","redactPages","redactionStyles","applyRedactions","createPageRedactions","annots","pageInfo","getPageInfo","pageRotation","redaction","Annotations","RedactionAnnotation","PageNumber","Rect","redactionTypeMap","setCustomData","Author","getCurrentUser","getAnnotationManager","addAnnotations","drawAnnotationsFromList","replacePages","sourceDocument","pagesToRemove","pagesToReplaceIntoDocument","documentLoadedInViewer","pageCountOfLoadedDocument","pagesToRemoveFromOriginal","sort","a","b","insertPages","pagesToInsert","insertBeforeThisPage","OutlineContext","React","createContext","ItemTypes","OUTLINE","PORTFOLIO","DropLocation","ON_TARGET_HORIZONTAL_MIDPOINT","ABOVE_TARGET","BELOW_TARGET","INITIAL","BUFFER_ROOM","propTypes","PropTypes","oneOf","isRequired","anchorButton","string","shouldDisplayDeleteButton","bool","onClosePopup","func","onRenameClick","onSetDestinationClick","onDownloadClick","onDeleteClick","onOpenClick","MoreOptionsContextMenuPopup","useTranslation","containerRef","useRef","useState","left","right","top","position","setPosition","Portal","children","mount","getRootNode","querySelector","style","zIndex","createPortal","useEffect","getOverlayPositionBasedOn","onClickOutside","useCallback","e","current","contains","target","useOnClickOutside","DataElementWrapper","ref","className","dataElement","Button","img","label","ariaLabel","onClick","stopPropagation","text","outlinePath","isAdding","isOutlineRenaming","setOutlineRenaming","isOutlineChangingDest","setOutlineChangingDest","setIsHovered","onCancel","textColor","OutlineContent","useContext","currentDestPage","currentDestText","editingOutlines","setEditingOutlines","isMultiSelectMode","isOutlineEditable","addNewOutline","renameOutline","updateOutlineDest","updateOutlines","removeOutlines","isDefault","setIsDefault","outlineText","setOutlineText","isContextMenuOpen","setContextMenuOpen","inputRef","onAddOutline","trim","onRenameOutline","onCancelOutline","isRenameButtonDisabled","focus","select","editingOutlinesClone","isOutlineEditing","textStyle","color","onDoubleClick","tabIndex","setToolMode","name","placeholder","aria-label","value","onKeyDown","key","onChange","fontStyle","isSubmitType","disabled","annotation","setAutoSizeFont","isAutoSizeFont","freeTextAnnot","calculatedFontSize","getCalculatedFontSize","FontSize","switchToAutoFontSize","redrawAnnotation","parseColor","parsedColor","toHexString","toLowerCase","transparentIcon","classNames","stroke","x1","y1","x2","y2","strokeWidth","strokeLinecap","any","ColorPicker","onColorChange","hasTransparentColor","store","useStore","useDispatch","colors","useSelector","state","selectors","getColors","selectedColor","setSelectedColor","isExpanded","setIsExpanded","getCustomColorAndRemove","customColor","getCustomColor","getState","setCustomColor","handleAddColor","getInstanceNode","addEventListener","Events","VISIBILITY_CHANGED","onVisibilityChanged","detail","element","isVisible","includes","newColors","setColors","removeEventListener","palette","shouldHideShowMoreButton","isAddDisabled","isDeleteDisabled","slice","active","cell","border","backgroundColor","data-element","Icon","glyph","indexToDelete","indexOf","nextIndex","splice","hidden","Element","this","props","isDisabled","PureComponent","node","connect","ownProps","isElementDisabled","OutlineControls","outlines","getOutlines","activeOutlinePath","setActiveOutlinePath","up","down","outward","inward","canMove","setCanMove","nextIndexRef","isFullPDFEnabled","outlineUtils","getCanMoveState","setCanMoveState","moveOutlineUp","moveOutlineDown","moveOutlineOutward","moveOutlineInward","OUTLINE_CONTROLS","OUTLINE_MOVE_UP_BUTTON","OUTLINE_MOVE_DOWN_BUTTON","OUTLINE_MOVE_OUTWARD_BUTTON","OUTLINE_MOVE_INWARD_BUTTON","outline","object","setMultiSelected","moveOutlineBeforeTarget","moveOutlineAfterTarget","connectDragSource","connectDragPreview","connectDropTarget","isDragging","isDraggedUpwards","isDraggedDownwards","Outline","forwardRef","isOutlineActive","setAddingNewOutline","isAddingNewOutline","isAnyOutlineRenaming","shouldAutoExpandOutlines","selectedOutlines","getPath","isSelected","setIsSelected","isRenaming","setIsRenaming","isChangingDest","setChangingDest","isHovered","setHovered","undefined","clearSingleClick","setClearSingleClick","elementRef","getEmptyImage","captureDraggingState","opacity","useImperativeHandle","getNode","startsWith","useLayoutEffect","rgbObject","rValue","gValue","bValue","toggleOutline","expand","onSingleClick","goToOutline","isMobile","isActive","clearTimeout","Choice","checked","expanded","marginLeft","getNestedLevel","getChildren","getName","child","OutlineNested","getOutlineId","DropTarget","hover","dropTargetMonitor","dropTargetContainer","dragObject","getItem","dragOutline","dragSourceNode","dropOutline","dropTargetNode","dropLocation","dragIndex","hoverIndex","parent","dropTargetBoundingRect","getBoundingClientRect","dropTargetVerticalMiddlePoint","bottom","dropTargetClientY","getClientOffset","y","isOver","shallow","remove","fireEvent","DRAG_OUTLINE","targetOutline","draggedOutline","drop","DROP_OUTLINE","dropTargetState","dropTarget","DragSource","beginDrag","dragSourceMonitor","dragSourceContainer","sourceId","canDrag","isIE","console","warn","dragSourceState","dragSource","dragPreview","PageManipulationOverlayButtonContainer","PageManipulationOverlayButton","pageIndex","selectedPageIndexes","getSelectedThumbnailPageIndexes","ToggleElementButton","PAGE_MANIPULATION_OVERLAY_BUTTON","number","ThumbnailControls","isMoreOptionDisabled","pageDeletionConfirmationModalEnabled","isPageDeletionConfirmationModalEnabled","selectedIndexes","getThumbnailControlMenuItems","shallowEqual","currentPage","pageThumbnailControlMenuItems","documentType","isXod","XOD","isOffice","OFFICE","LEGACY_OFFICE","BUTTONS_MAP","isCustomized","occurredButtons","buttons","item","component","cloneElement","display","Thumbnail","updateAnnotations","shiftKeyThumbnailPivotIndex","onFinishLoading","onLoad","onRemove","onDragStart","onDragOver","isDraggable","shouldShowControls","thumbnailSize","pageLabels","isThumbnailMultiselectEnabled","isReaderModeOrReadOnly","canLoad","isThumbnailSelectingPages","thumbnailSelectionMode","activeDocumentViewerKey","panelSelector","thumbSize","Number","dimensions","setDimensions","loaded","setLoaded","loadTimeout","loadThumbnailAsync","thumbnailContainer","pageNum","viewerRotation","getRotation","loadCanvas","pageNumber","drawComplete","thumb","childElement","ratio","Math","min","abs","cssTransform","allowUseOfOptimizedThumbnail","onPagesUpdated","changes","contentChanged","moved","added","removed","isPageAdded","didPageChange","some","changedPage","didPageMove","Object","keys","movedPage","parseInt","isPageRemoved","newPageCount","onRotationUpdated","useDidUpdate","pageLabel","checkboxRotateClass","selected","draggable","checkboxToggled","multiSelectionKeyPressed","ctrlKey","metaKey","shiftKeyPressed","shiftKey","updatedSelectedPages","setThumbnailSelectingPages","shiftKeyPivot","currSelectMinIndex","currSelectMaxIndex","max","Set","Array","from","_","thumbnailSelectionModes","filter","lastSelectedPageIndex","setCurrentPage","getPageLabels","isReaderMode","isDocumentReadOnly","getShiftKeyThumbnailPivotIndex","getThumbnailSelectionMode","getActiveDocumentViewerKey","selectionModes","LeftPanelPageTabsMoreSmall","THUMBNAILS_CONTROL_MANIPULATE_POPUP_SMALL","THUMBNAILS_CONTROL_MANIPULATE_POPUP_SMALL_TRIGGER","LeftPanelPageTabsInsertSmall","CustomLeftPanelOperations","operations","operation","LeftPanelPageTabsRotate","onRotateClockwise","onRotateCounterClockwise","InitialLeftPanelPageTabsSmall","multiPageManipulationControlsItems","childrenArray","Children","toArray","find","LeftPanelPageTabsSmall","multiPageManipulationControlsItemsSmall","LeftPanelPageTabsMore","THUMBNAILS_CONTROL_MANIPULATE_POPUP","THUMBNAILS_CONTROL_MANIPULATE_POPUP_TRIGGER","LeftPanelPageTabsMove","moveToTop","moveToBottom","InitialLeftPanelPageTabs","LeftPanelPageTabs","LeftPanelPageTabsInsert","onInsert","LeftPanelPageTabsOperations","onReplace","onExtractPages","onDeletePages","LeftPanelPageTabsLarge","LeftPanelPageTabsContainer","widthMinusMargins","parentElement","isInMobile","getPanelWidth","getLeftPanelWidth","getMultiPageManipulationControlsItems","getMultiPageManipulationControlsItemsSmall","getMultiPageManipulationControlsItemsLarge","isInDesktopOnlyMode","panelWidth","deleteModalEnabled","multiPageManipulationControlsSmall","multiPageManipulationControlsLarge","isDesktopOnlyMode","panelMinWidth","isPanelLarge","childProps","getPageString","selectedPageArray","pagesToPrint","sortedPages","prevIndex","DocumentControls","initialPagesString","pageString","setPageString","previousPageString","setPreviousPageString","enableThumbnailSelectingPages","onBlur","selectedPagesString","pages","getPageArrayFromString","pageIndexes","updatedString","pageNumberPlaceholder","arrayOf","toggleDocumentControl","mergeDocument","srcToMerge","mergeToPage","shouldFireEvent","LOADING_MODAL","reject","mergeResults","DOCUMENT_MERGED","err","ThumbnailsPanel","isElementOpen","getIsThumbnailMergingEnabled","getIsThumbnailReorderingEnabled","getIsMultipleViewerMerging","openingPageManipulationOverlayByRightClickEnabled","isLeftPanelOpen","totalPages","isThumbnailMergingEnabled","isThumbnailReorderingEnabled","isMultipleViewerMerging","isThumbnailControlDisabled","isThumbnailSliderDisabled","totalPagesFromSecondaryDocumentViewer","isRightClickEnabled","listRef","pendingThumbs","thumbs","afterMovePageNumber","isOfficeEditor","setIsOfficeEditor","setCanLoad","setHeight","setWidth","draggingOverPageIndex","setDraggingOverPageIndex","isDraggingToPreviousPage","setDraggingToPreviousPage","numberOfColumns","setNumberOfColumns","setIsDragging","setThumbnailSize","lastTimeTriggered","setLastTimeTriggered","globalIndex","setGlobalIndex","pageCount","activeThumbRenders","thumbContainer","pageWidth","getPageWidth","pageHeight","round","getThumbnailSize","getPageHeight","annotCanvas","maxWidth","maxHeight","ctx","getContext","zoom","getCompleteRotation","multiplier","getCanvasMultiplier","setAnnotationCanvasTransform","overrideCanvas","overridePageRotation","overridePageCanvas","debounce","drawAnnotations","debouncedDraw","onBeginRendering","onFinishedRendering","needsMoreRendering","onDocumentLoaded","getType","onPageComplete","updatedPagesIndexes","scrollToRow","floor","onAnnotationChanged","indices","annot","Listable","onPageNumberUpdated","onDragEnd","scrollToRowHelper","change","time","getTime","preventDefault","thumbnail","pageX","x","pageY","hoverAreaHeight","scrollDown","scrollUp","draggingSelectedPage","pagesToMove","THUMBNAIL_DRAGGED","dataTransfer","setData","setDragImage","Image","dropEffect","effectAllowed","frameElement","extractedDataPromise","pagesExtracted","onDrop","externalPageWebViewerFrameId","files","insertTo","isIE11","getData","viewerID","mergingDocument","currentPageIndex","otherWebViewerIframe","contentWindow","docToMerge","filename","targetPageNumber","pageNumbersToMove","p","updatedPagesNumbers","offset","THUMBNAIL_DROPPED","pageNumbersBeforeMove","pagesNumbersAfterMove","numberOfPagesMoved","thumbIsLoaded","thumbIsPending","removeFromPendingThumbs","getPendingThumbIndex","cancelLoadThumbnail","findIndex","thumbStatus","canvases","c","cancel","renderThumbnails","columnsOfThumbnails","row","allowPageOperationsUI","role","fill","columnIndex","thumbIndex","allowDragAndDrop","showPlaceHolder","Fragment","onContextMenu","event","setPageManipulationOverlayAlternativePosition","openElements","updateNumberOfColumns","thumbnailHeight","thumbnailAutoScrollAreaStyle","hideTooltipShortcut","aria-valuemin","aria-valuemax","aria-valuenow","step","bounds","onResize","measureRef","rowHeight","rowCount","ceil","rowRenderer","overscanRowCount","scrollToIndex","defaultLabel","isMultiSelectionMode","setSelected","onSave","Bookmark","isEditing","setIsEditing","bookmarkText","setBookmarkText","onSaveBookmark","onCancelBookmark","BookmarksPanel","BOOKMARK_PANEL","getBookmarks","isBookmarkIconShortcutVisible","bookmarks","isAddingNewBookmark","setAddingNewBookmark","setMultiSelectionMode","selectingBookmarks","setSelectingBookmarks","setBookmarkIconShortcutVisibility","bm","onRemoveBookmarks","confirmationWarning","removeBookmark","BOOKMARK_MULTI_SELECT","BOOKMARK_SHORTCUT_OPTION","isSwitch","newText","addBookmark","editBookmark","val","BOOKMARK_ADD_NEW_BUTTON_CONTAINER","BOOKMARK_ADD_NEW_BUTTON","editor","shape","TextColor","RichTextStyle","isFreeTextAutoSize","onFreeTextSizeToggle","onPropertyChange","onRichTextStyleChange","RichTextStyleEditor","fonts","getFonts","isRichTextEditMode","setIsRichTextEditMode","format","setFormat","editorRef","annotationRef","propertiesRef","oldSelectionRef","handleSelectionChange","range","oldRange","setSelection","getFormat","handleTextChange","getSelection","disableElements","ANNOTATION_STYLE_POPUP","enableElements","StrokeStyle","error","stylesTemp","getRichTextStyle","Font","TextAlign","TextVerticalAlign","bold","italic","underline","strikeout","handleEditorBlur","handleEditorFocus","properties","Color","isArray","lastSelectedColor","applyFormat","formatKey","defulats","strike","onMouseDown","TextStylePicker","property","blur","FreeTextAnnotation","getAutoSizeType","AutoSizeTypes","NONE","pageMatrix","getPageMatrix","fitText","adjustFreeTextBoundingBox","getEditBoxManager","focusBox","newSelection","currentFormat","handleTextFormatChange","stateless","isFreeText","handleColorChange","memo","SnapModeToggle","Scale","Precision","isSnapModeEnabled","wasDocumentSwappedToClientSide","isEligibleDocumentForSnapping","showMeasurementSnappingOption","enableSnapping","mode","SnapMode","e_DefaultSnapMode","POINT_ON_LINE","getMeasurementTools","tool","setSnapMode","setEnableSnapMode","Tools","shouldHideStylePanelOptions","toolName","SignatureFormFieldCreateTool","CheckBoxFormFieldCreateTool","RadioButtonFormFieldCreateTool","getTool","shouldHideOpacitySlider","TextFormFieldCreateTool","withCloudyStyle","defaultStrokeStyles","concat","cloudyStrokeStyle","onStyleChange","sliderProperties","isEllipse","isRedaction","isFreeHand","showLineStyleOptions","isArc","isInFormFieldCreationMode","startLineStyle","endLineStyle","strokeStyle","onLineStyleChange","handleRichTextStyleChange","StylePicker","StrokeColor","strokeColor","setStrokeColor","startingLineStyle","setStartingLineStyle","endingLineStyle","setEndingLineStyle","strokeLineStyle","setStrokeLineStyle","FillColor","fillColor","setFillColor","showFillColorAndCollapsablePanelSections","RectangleCreateTool","EllipseCreateTool","PolygonCreateTool","PolygonCloudCreateTool","EllipseMeasurementCreateTool","AreaMeasurementCreateTool","FreeTextCreateTool","CalloutCreateTool","hasFillColorAndCollapsablePanelSections","hideStrokeSlider","TextUnderlineCreateTool","TextHighlightCreateTool","TextSquigglyCreateTool","TextStrikeoutCreateTool","CountMeasurementCreateTool","RubberStampCreateTool","shouldHideStrokeSlider","showSnapModeCheckbox","DistanceMeasurementCreateTool","ArcMeasurementCreateTool","PerimeterMeasurementCreateTool","RectangularAreaMeasurementCreateTool","CloudyRectangularAreaMeasurementCreateTool","hasSnapModeCheckbox","showTextStyle","shouldTextStyle","RICH_TEXT_STYLE_CONTAINER","STROKE_STYLE_CONTAINER","onSliderChange","Opacity","StrokeThickness","STYLE_OPTION","FILL_COLOR_CONTAINER","OPACITY_CONTAINER","isStyleOptionDisabled","isStrokeStyleContainerActive","isFillColorContainerActive","isOpacityContainerActive","isTextStyleContainerActive","panelItems","togglePanelItem","openTextStyleContainer","RICH_TEXT_EDITOR","openStrokeStyleContainer","openFillColorContainer","openOpacityContainer","renderSlider","shouldHideSliderTitle","sliderProps","lineStart","circleRadius","displayProperty","getDisplayValue","OPACITY_SLIDER","getCirclePosition","lineLength","convertRelativeCirclePositionToValue","circlePosition","withInputField","inputFieldType","getLocalValue","strokeThickness","placeOfDecimal","toString","split","parseFloat","toFixed","STROKE_THICKNESS_SLIDER","getSliderProps","Slider","renderDivider","onOpenProps","useOnFreeTextEdit","onTouchStart","colorMapKey","Dropdown","images","defaultStartLineStyles","onClickItem","currentSelectionKey","defaultEndLineStyles","StylePanel","getToolButtonObjects","isAnnotationToolStyleSyncingEnabled","isPanelOpen","toolButtonObject","colorProperties","showPanel","setShowPanel","noToolStyle","setNoToolStyle","selectedAnnotation","setSelectedAnnotation","setIsEllipse","setIsFreeText","setIsRedaction","setIsFreeHand","setIsArc","setIsInFormFieldCreationMode","setStyle","setStartLineStyle","setEndLineStyle","setStrokeStyle","panelTitle","setPanelTitle","annotationCreateToolNames","getAnnotationCreateToolNames","setShowLineStyleOptions","setIsAutoSizeFont","getToolMode","onAnnotationSelected","annotations","action","ToolName","EllipseAnnotation","FreeHandAnnotation","ArcAnnotation","getFormFieldCreationManager","getDataWithKey","mapToolNameToKey","hasLineEndings","currentTool","AnnotationEditTool","handleToolModeChange","newTool","ToolNames","ELLIPSE","FREE_TEXT","REDACTION","FREEHAND","FREEHAND_HIGHLIGHT","ARC","toolStyles","getToolStyles","StartLineStyle","EndLineStyle","extraStyles","getStartStyle","getEndStyle","dashes","getStrokeStyle","noToolSelected","newStyle","annotationsToUpdate","getSelectedAnnotations","colorRGB","hexToRGBA","r","g","setToolStyles","getEditor","hasFocus","background","section","sectionPropertyMap","start","middle","end","setStartStyle","lineStyle","shift","Style","Dashes","setEndStyle","handleFreeTextAutoSizeToggle","originalProperty","originalValue","activeToolRichTextStyle","getTextDecoration","richTextStyle","0","updateAnnotationRichTextStyle","complete","layerStyles","pointerEvents","getItemStyles","initialOffset","currentOffset","transform","WebkitTransform","OutlinesDragLayer","useDragLayer","dragLayerState","itemType","getItemType","getInitialSourceClientOffset","renderDragItem","OutlinesPanel","OUTLINE_PANEL","isOutlineControlVisible","getOutlineEditingEnabled","outlineControlVisibility","outlineEditingEnabled","defaultDestText","areaDestinationText","defaultDestCoord","setCurrentDestText","currentDestCoord","setCurrentDestCoord","setCurrentDestPage","setOutlineEditable","setAnyOutlineRenaming","setMultiSelectMode","setSelectedOutlines","nextPathRef","TOOL_NAME","isAnyEditing","values","onSetDestination","getCustomData","onOutlinesBookmarksChanged","setOutlines","getCurrentDestViewerCoord","getViewerCoordinates","outlineName","tmp","addRootOutline","nextPath","clearOutlineDestination","defaultTool","setOutlineDestination","generalMoveOutlineAction","moveDirection","dragPath","dropPath","call","path","moveOutlineInTarget","newName","setOutlineName","outlinesToRemove","reverse","fullIndex","deleteOutline","OUTLINE_MULTI_SELECT","Provider","DndProvider","backend","isMobileDevice","TouchBackEnd","HTML5Backend","OUTLINE_ADD_NEW_BUTTON_CONTAINER","OUTLINE_ADD_NEW_BUTTON","TabPanel","tabPanelDataElement","tabPanelHeaderRef","moreButtonRef","FLYOUT_NAME","panelsObject","setPanelsObject","visiblePanelTabs","setVisiblePanelTabs","overflowItems","setOverflowItems","headerContainerPrevWidth","setHeaderContainerPrevWidth","headerContainerWidth","setHeaderContainerWidth","getCustomFlxPanels","getActiveCustomPanel","getFlyoutMap","customFlxPanels","activeCustomPanel","flyoutMap","panelsList","panel","renderPanel","panelNames","THUMBNAIL","BOOKMARKS","LAYERS","LayersPanel","STYLE","SIGNATURE","TEXT_EDITING","createCustomElement","CustomElement","render","setOverflowFlyout","flyout","items","flyoutItem","setActiveCustomPanel","closeElements","updateFlyout","addFlyout","moveItemsToContainer","itemsToKeepInOverflow","handleTabPanelElements","itemsShown","availableSpace","headerRect","lastItemRect","lastItemEnd","getAvailableSpace","sizeNeededForButton","itemsToKeepVisible","moveItemsToOverflow","itemsDom","missingSpace","spaceToFree","allItems","itemsToHide","activeIndex","lastIndex","lastIndexToHide","lastItem","lastItemSpace","getAttribute","getItemsToHide","reduce","largestItem","panelsToRender","presetPanels","panelInfo","panelData","icon","customPanel","addPanel","overflowItemsToKeep","handleActiveTabPanel","firstPanel","itemsToMove","activePanel","innerRef","tab","renderTabs","toggleElement"],"mappings":"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","file":"chunks/22.chunk.js","sourcesContent":["var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../../node_modules/sass-loader/dist/cjs.js!./LeftPanelPageTabsContainer.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","import extractPagesWithAnnotations from 'helpers/extractPagesWithAnnotations';\nimport core from 'core';\nimport { saveAs } from 'file-saver';\nimport actions from 'actions';\nimport i18next from 'i18next';\nimport { workerTypes } from 'constants/types';\nimport { redactionTypeMap } from 'constants/redactionTypes';\nimport DataElements from 'constants/dataElement';\n\nconst createAnnouncement = (onClickAnnouncement) => {\n  if (onClickAnnouncement) {\n    const el = document.createElement('div');\n    const id = `speak-${Date.now()}`;\n    el.setAttribute('id', id);\n    el.setAttribute('aria-live', 'assertive');\n    el.classList.add('visually-hidden');\n    document.body.appendChild(el);\n\n    window.setTimeout(function() {\n      document.getElementById(id).innerText = onClickAnnouncement;\n    }, 100);\n\n    window.setTimeout(function() {\n      document.body.removeChild(document.getElementById(id));\n    }, 1000);\n  }\n};\n\nconst getNewRotation = (curr, counterClockwise = false) => {\n  const { E_0, E_90, E_180, E_270 } = window.Core.PageRotation;\n  switch (curr) {\n    case E_270:\n      return counterClockwise ? E_180 : E_0;\n    case E_180:\n      return counterClockwise ? E_90 : E_270;\n    case E_90:\n      return counterClockwise ? E_0 : E_180;\n    default:\n      return counterClockwise ? E_270 : E_90;\n  }\n};\n\nconst canRotateLoadedDocument = () => {\n  const doc = core.getDocument();\n  const docType = doc?.type;\n\n  return (\n    workerTypes.PDF === docType ||\n    workerTypes.IMAGE === docType ||\n    (docType === workerTypes.WEBVIEWER_SERVER && !doc.isWebViewerServerDocument())\n  );\n};\n\nconst rotatePages = (pageNumbers, counterClockwise) => {\n  if (canRotateLoadedDocument()) {\n    const rotation = counterClockwise ? window.Core.PageRotation.E_270 : window.Core.PageRotation.E_90;\n    pageNumbers.forEach((index) => {\n      core.rotatePages([index], rotation);\n    });\n  } else {\n    const docViewer = core.getDocumentViewer();\n    const currentRotations = docViewer.getPageRotations();\n    for (const page of pageNumbers) {\n      docViewer.setRotation(getNewRotation(currentRotations[page], counterClockwise), page);\n    }\n  }\n};\n\nconst rotateClockwise = (pageNumbers) => {\n  rotatePages(pageNumbers, false);\n  createAnnouncement(`${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.rotatedClockwise')} ${i18next.t('action.rotationIs')} ${(core.getDocument().getPageRotation(core.getCurrentPage()) + 90) % 360} degrees`);\n};\n\nconst rotateCounterClockwise = (pageNumbers) => {\n  rotatePages(pageNumbers, true);\n  createAnnouncement(`${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.rotatedCounterClockwise')} ${i18next.t('action.rotationIs')} ${(core.getDocument().getPageRotation(core.getCurrentPage()) + 270) % 360} degrees`);\n};\n\nconst insertAbove = (pageNumbers, width, height) => {\n  core.insertBlankPages(pageNumbers, width, height);\n};\n\nconst insertBelow = (pageNumbers, width, height) => {\n  core.insertBlankPages(pageNumbers.map((i) => i + 1), width, height);\n};\n\nconst replace = (dispatch) => {\n  dispatch(actions.closeElement(DataElements.PAGE_MANIPULATION_OVERLAY));\n  dispatch(actions.openElement('pageReplacementModal'));\n};\n\nconst extractPages = (pageNumbers, dispatch) => {\n  const message = i18next.t('warning.extractPage.message');\n  const title = i18next.t('warning.extractPage.title');\n  const confirmBtnText = i18next.t('warning.extractPage.confirmBtn');\n  const secondaryBtnText = i18next.t('warning.extractPage.secondaryBtn');\n  const extractAnnouncement = `${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.extracted')}`;\n  const deleteAnnouncement = `${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.deleted')}`;\n\n  const warning = {\n    message,\n    title,\n    confirmBtnText,\n    onConfirm: () => extractPagesWithAnnotations(pageNumbers).then((file) => {\n      saveAs(file, 'extractedDocument.pdf');\n      createAnnouncement(extractAnnouncement + deleteAnnouncement);\n    }),\n    secondaryBtnText,\n    onSecondary: () => {\n      extractPagesWithAnnotations(pageNumbers).then((file) => {\n        saveAs(file, 'extractedDocument.pdf');\n        core.removePages(pageNumbers).then(() => {\n          dispatch(actions.setSelectedPageThumbnails([]));\n        });\n        createAnnouncement(extractAnnouncement);\n      });\n    },\n  };\n\n  dispatch(actions.showWarningMessage(warning));\n};\n\nconst deletePages = (pageNumbers, dispatch, isModalEnabled = true) => {\n  const deleteAnnouncement = `${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.deleted')}`;\n  if (isModalEnabled) {\n    let message = i18next.t('warning.deletePage.deleteMessage');\n    const title = i18next.t('warning.deletePage.deleteTitle');\n    const confirmBtnText = i18next.t('action.ok');\n\n    let warning = {\n      message,\n      title,\n      confirmBtnText,\n      onConfirm: () => core.removePages(pageNumbers).then(() => {\n        dispatch(actions.setSelectedPageThumbnails([]));\n        dispatch(actions.setShiftKeyThumbnailsPivotIndex());\n        createAnnouncement(deleteAnnouncement);\n      }),\n    };\n\n    if (core.getDocumentViewer().getPageCount() === pageNumbers.length) {\n      message = i18next.t('warning.deletePage.deleteLastPageMessage');\n\n      warning = {\n        message,\n        title,\n        confirmBtnText,\n        onConfirm: () => Promise.resolve(),\n      };\n    }\n\n    dispatch(actions.showWarningMessage(warning));\n  } else {\n    core.removePages(pageNumbers).then(() => {\n      dispatch(actions.setSelectedPageThumbnails([]));\n      dispatch(actions.setShiftKeyThumbnailsPivotIndex());\n      createAnnouncement(deleteAnnouncement);\n    });\n  }\n};\n\nconst movePagesToBottom = (pageNumbers) => {\n  core.movePages(pageNumbers, core.getTotalPages() + 1);\n  createAnnouncement(`${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.movedToBottomOfDocument')}`);\n};\n\nconst movePagesToTop = (pageNumbers) => {\n  core.movePages(pageNumbers, 0);\n  createAnnouncement(`${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.movedToTopofDocument')}`);\n};\n\nconst noPagesSelectedWarning = (pageNumbers, dispatch) => {\n  if (pageNumbers.length === 0) {\n    const title = i18next.t('warning.selectPage.selectTitle');\n    const message = i18next.t('warning.selectPage.selectMessage');\n    const confirmBtnText = i18next.t('action.ok');\n\n    const warning = {\n      message,\n      title,\n      confirmBtnText,\n      onConfirm: () => Promise.resolve(),\n      keepOpen: ['leftPanel'],\n    };\n\n    dispatch(actions.showWarningMessage(warning));\n    return true;\n  }\n  return false;\n};\n\nconst exitPageInsertionWarning = (closeModal, dispatch) => {\n  const title = i18next.t('insertPageModal.warning.title');\n  const message = i18next.t('insertPageModal.warning.message');\n  const confirmBtnText = i18next.t('action.ok');\n\n  const warning = {\n    message,\n    title,\n    confirmBtnText,\n    onConfirm: closeModal,\n    keepOpen: ['leftPanel'],\n  };\n\n  dispatch(actions.showWarningMessage(warning));\n};\n\nconst exitPageReplacementWarning = (closeModal, dispatch) => {\n  const title = i18next.t('option.pageReplacementModal.warning.title');\n  const message = i18next.t('option.pageReplacementModal.warning.message');\n  const confirmBtnText = i18next.t('action.ok');\n\n  const warning = {\n    message,\n    title,\n    confirmBtnText,\n    onConfirm: closeModal,\n    keepOpen: ['leftPanel'],\n  };\n\n  dispatch(actions.showWarningMessage(warning));\n};\n\nconst redactPages = (pageNumbers, redactionStyles) => {\n  core.applyRedactions(createPageRedactions(pageNumbers, redactionStyles));\n};\n\nconst createPageRedactions = (pageNumbers, redactionStyles) => {\n  const annots = [];\n  const document = core.getDocument();\n  for (const page of pageNumbers) {\n    const pageInfo = document.getPageInfo(page);\n    const pageRotation = document.getPageRotation(page);\n    if (pageInfo) {\n      let width;\n      let height;\n      if (pageRotation === 90 || pageRotation === 270) {\n        width = pageInfo.height;\n        height = pageInfo.width;\n      } else {\n        width = pageInfo.width;\n        height = pageInfo.height;\n      }\n      const redaction = new window.Core.Annotations.RedactionAnnotation({\n        PageNumber: page,\n        Rect: new window.Core.Annotations.Rect(0, 0, width, height),\n        ...redactionStyles\n      });\n      redaction.type = redactionTypeMap['FULL_PAGE'];\n      redaction.setCustomData('trn-redaction-type', redactionTypeMap['FULL_PAGE']);\n      redaction.Author = core.getCurrentUser();\n      annots.push(redaction);\n    }\n  }\n  core.getAnnotationManager().addAnnotations(annots);\n  core.getAnnotationManager().drawAnnotationsFromList(annots);\n  return annots;\n};\n\nconst replacePages = async (sourceDocument, pagesToRemove, pagesToReplaceIntoDocument) => {\n  const documentLoadedInViewer = core.getDocument();\n  const pageCountOfLoadedDocument = documentLoadedInViewer.getPageCount();\n  const pagesToRemoveFromOriginal = pagesToRemove.sort((a, b) => a - b);\n\n  // If document to replace into has only one page, or we are replacing all pages\n  // then we can insert pages at the end, and then remove the pages to avoid an error of removing all pages\n  if (pageCountOfLoadedDocument === 1 || pagesToRemoveFromOriginal.length === pageCountOfLoadedDocument) {\n    await documentLoadedInViewer.insertPages(sourceDocument, pagesToReplaceIntoDocument);\n    await documentLoadedInViewer.removePages(pagesToRemoveFromOriginal);\n  } else {\n    // If document to replace into has > 1 page we need insert the new pages at the spot of the first removed page\n    // pagesToRemoveFromOriginal is sorted in ascending order. Interleaving pages would be complex.\n    await documentLoadedInViewer.removePages(pagesToRemoveFromOriginal);\n    await documentLoadedInViewer.insertPages(sourceDocument, pagesToReplaceIntoDocument, pagesToRemoveFromOriginal[0]);\n  }\n};\n\nconst insertPages = async (sourceDocument, pagesToInsert, insertBeforeThisPage = null) => {\n  const documentLoadedInViewer = core.getDocument();\n  await documentLoadedInViewer.insertPages(sourceDocument, pagesToInsert, insertBeforeThisPage);\n};\n\nexport {\n  rotateClockwise,\n  rotateCounterClockwise,\n  insertAbove,\n  insertBelow,\n  replace,\n  extractPages,\n  deletePages,\n  movePagesToBottom,\n  movePagesToTop,\n  noPagesSelectedWarning,\n  redactPages,\n  createPageRedactions,\n  replacePages,\n  insertPages,\n  exitPageInsertionWarning,\n  exitPageReplacementWarning\n};","import React from 'react';\n\nconst OutlineContext = React.createContext();\n\nexport default OutlineContext;","export const ItemTypes = {\n  OUTLINE: 'outline',\n  PORTFOLIO: 'portfolio',\n};\n\nexport const DropLocation = {\n  ON_TARGET_HORIZONTAL_MIDPOINT: 'onTargetHorizontalMidPoint',\n  ABOVE_TARGET: 'aboveTarget',\n  BELOW_TARGET: 'belowTarget',\n  INITIAL: 'initial',\n};\n\nexport const BUFFER_ROOM = 8;","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../node_modules/sass-loader/dist/cjs.js!./bookmarksOutlinesShared.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport DataElementWrapper from 'components/DataElementWrapper';\n\nimport useOnClickOutside from 'hooks/useOnClickOutside';\nimport getOverlayPositionBasedOn from 'helpers/getOverlayPositionBasedOn';\n\nimport './MoreOptionsContextMenuPopup.scss';\nimport Button from '../Button';\nimport getRootNode from 'helpers/getRootNode';\n\nconst propTypes = {\n  type: PropTypes.oneOf(['bookmark', 'outline', 'portfolio']).isRequired,\n  anchorButton: PropTypes.string.isRequired,\n  shouldDisplayDeleteButton: PropTypes.bool,\n  onClosePopup: PropTypes.func.isRequired,\n  onRenameClick: PropTypes.func,\n  onSetDestinationClick: PropTypes.func,\n  onDownloadClick: PropTypes.func,\n  onDeleteClick: PropTypes.func,\n  onOpenClick: PropTypes.func,\n};\n\nconst MoreOptionsContextMenuPopup = ({\n  type,\n  anchorButton,\n  shouldDisplayDeleteButton,\n  onClosePopup,\n  onRenameClick,\n  onSetDestinationClick,\n  onDownloadClick,\n  onDeleteClick,\n  onOpenClick,\n}) => {\n  const [t] = useTranslation();\n  const containerRef = useRef(null);\n  const [position, setPosition] = useState({ left: -100, right: 'auto', top: 'auto' });\n\n  const Portal = ({ children, position }) => {\n    const mount = getRootNode().querySelector('#outline-edit-popup-portal');\n    mount.style.position = 'absolute';\n    mount.style.top = position.top === 'auto' ? position.top : `${position.top}px`;\n    mount.style.left = position.left === 'auto' ? position.left : `${position.left}px`;\n    mount.style.right = position.right === 'auto' ? position.right : `${position.right}px`;\n    mount.style.zIndex = 999;\n\n    return createPortal(children, mount);\n  };\n\n  useEffect(() => {\n    const position = getOverlayPositionBasedOn(anchorButton, containerRef);\n    setPosition(position);\n  }, [anchorButton]);\n\n  const onClickOutside = useCallback((e) => {\n    if (!containerRef?.current.contains(e.target)) {\n      onClosePopup();\n    }\n  });\n\n  useOnClickOutside(containerRef, onClickOutside);\n\n  return (\n    <Portal position={position}>\n      <DataElementWrapper\n        ref={containerRef}\n        className=\"more-options-context-menu-popup\"\n        dataElement={`${type}EditPopup`}\n      >\n        {type === 'portfolio' && onOpenClick &&\n          <Button\n            className=\"option-button\"\n            dataElement={`${type}OpenFileButton`}\n            img=\"icon-portfolio-file\"\n            label={t('portfolio.openFile')}\n            ariaLabel={t('portfolio.openFile')}\n            onClick={(e) => {\n              e.stopPropagation();\n              onOpenClick();\n            }}\n          />\n        }\n        <Button\n          className=\"option-button\"\n          dataElement={`${type}RenameButton`}\n          img=\"ic_edit_page_24px\"\n          label={t('action.rename')}\n          ariaLabel={t('action.rename')}\n          onClick={(e) => {\n            e.stopPropagation();\n            onRenameClick();\n          }}\n        />\n        {type === 'outline' &&\n          <Button\n            className=\"option-button\"\n            dataElement={`${type}SetDestinationButton`}\n            img=\"icon-thumbtack\"\n            label={t('action.setDestination')}\n            ariaLabel={t('action.setDestination')}\n            onClick={(e) => {\n              e.stopPropagation();\n              onSetDestinationClick();\n            }}\n          />\n        }\n        {type === 'portfolio' &&\n          <Button\n            className=\"option-button\"\n            dataElement={`${type}DownloadButton`}\n            img=\"icon-download\"\n            label={t('action.download')}\n            ariaLabel={t('action.download')}\n            onClick={(e) => {\n              e.stopPropagation();\n              onDownloadClick();\n            }}\n          />\n        }\n        {shouldDisplayDeleteButton &&\n          <Button\n            className=\"option-button\"\n            dataElement={`${type}DeleteButton`}\n            img=\"icon-delete-line\"\n            label={t('action.delete')}\n            ariaLabel={t('action.delete')}\n            onClick={(e) => {\n              e.stopPropagation();\n              onDeleteClick();\n            }}\n          />\n        }\n      </DataElementWrapper>\n    </Portal>\n  );\n};\n\nMoreOptionsContextMenuPopup.propTypes = propTypes;\n\nexport default MoreOptionsContextMenuPopup;\n","import MoreOptionsContextMenuPopup from './MoreOptionsContextMenuPopup';\n\nexport default MoreOptionsContextMenuPopup;\n","import React, { useContext, useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport PropTypes from 'prop-types';\nimport core from 'core';\n\nimport Button from '../Button';\nimport MoreOptionsContextMenuPopup from '../MoreOptionsContextMenuPopup';\nimport OutlineContext from '../Outline/Context';\nimport './OutlineContent.scss';\n\nconst propTypes = {\n  text: PropTypes.string.isRequired,\n  outlinePath: PropTypes.string,\n  isAdding: PropTypes.bool,\n  isOutlineRenaming: PropTypes.bool,\n  setOutlineRenaming: PropTypes.func,\n  isOutlineChangingDest: PropTypes.bool,\n  setOutlineChangingDest: PropTypes.func,\n  setIsHovered: PropTypes.func,\n  onCancel: PropTypes.func,\n  textColor: PropTypes.string,\n};\n\nconst OutlineContent = ({\n  text,\n  outlinePath,\n  isAdding,\n  isOutlineRenaming,\n  setOutlineRenaming,\n  isOutlineChangingDest,\n  setOutlineChangingDest,\n  setIsHovered,\n  onCancel,\n  textColor,\n}) => {\n  const {\n    currentDestPage,\n    currentDestText,\n    editingOutlines,\n    setEditingOutlines,\n    isMultiSelectMode,\n    isOutlineEditable,\n    addNewOutline,\n    renameOutline,\n    updateOutlineDest,\n    updateOutlines,\n    removeOutlines,\n  } = useContext(OutlineContext);\n\n  const [t] = useTranslation();\n  const TOOL_NAME = 'OutlineDestinationCreateTool';\n\n  const [isDefault, setIsDefault] = useState(false);\n  const [outlineText, setOutlineText] = useState(text);\n  const [isContextMenuOpen, setContextMenuOpen] = useState(false);\n  const inputRef = useRef();\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      e.stopPropagation();\n      if (isAdding) {\n        onAddOutline();\n      }\n      if (isOutlineRenaming && !isRenameButtonDisabled()) {\n        onRenameOutline();\n      }\n    }\n    if (e.key === 'Escape') {\n      onCancelOutline();\n    }\n  };\n\n  const onAddOutline = () => {\n    addNewOutline(outlineText.trim() === '' ? '' : outlineText);\n  };\n\n  const onRenameOutline = () => {\n    setOutlineRenaming(false);\n    renameOutline(outlinePath, outlineText);\n  };\n\n  const onCancelOutline = () => {\n    updateOutlines();\n    if (isOutlineRenaming) {\n      setOutlineRenaming(false);\n      setOutlineText(text);\n    }\n    if (isOutlineChangingDest) {\n      setOutlineChangingDest(false);\n    }\n    if (isAdding) {\n      onCancel();\n    }\n  };\n\n  const isRenameButtonDisabled = () => {\n    return !outlineText || text === outlineText;\n  };\n\n  useEffect(() => {\n    if (outlineText !== text) {\n      setOutlineText(text);\n    }\n  }, [text]);\n\n  useEffect(() => {\n    if (isAdding || isOutlineRenaming) {\n      inputRef.current.focus();\n      inputRef.current.select();\n    }\n\n    setIsDefault(!isAdding && !isOutlineRenaming && !isOutlineChangingDest);\n  }, [isOutlineRenaming, isOutlineChangingDest]);\n\n  useEffect(() => {\n    const editingOutlinesClone = { ...editingOutlines };\n    const isOutlineEditing = isOutlineRenaming || isOutlineChangingDest;\n    if (isOutlineEditing) {\n      editingOutlinesClone[outlinePath] = (isOutlineEditing);\n    } else {\n      delete editingOutlinesClone[outlinePath];\n    }\n    setEditingOutlines({ ...editingOutlinesClone });\n  }, [isOutlineRenaming, isOutlineChangingDest]);\n\n  useEffect(() => {\n    if (!isAdding) {\n      setIsHovered(isContextMenuOpen);\n    }\n  }, [isContextMenuOpen]);\n\n  const textStyle = {\n    color: textColor || 'auto'\n  };\n\n  return (\n    <div className=\"bookmark-outline-label-row\">\n      {isAdding &&\n        <div className=\"bookmark-outline-label\">\n          {t('component.newOutlineTitle')}\n        </div>\n      }\n\n      {isDefault &&\n        <>\n          <div\n            className=\"bookmark-outline-text outline-text\"\n            onDoubleClick={() => {\n              if (isOutlineEditable) {\n                setOutlineRenaming(true);\n              }\n            }}\n            style={textStyle}\n          >\n            {text}\n          </div>\n\n          {isOutlineEditable &&\n            <Button\n              className=\"bookmark-outline-more-button\"\n              dataElement={`outline-more-button-${outlinePath}`}\n              img=\"icon-tool-more\"\n              tabIndex={-1}\n              onClick={(e) => {\n                e.stopPropagation();\n                setContextMenuOpen(true);\n              }}\n            />\n          }\n          {isContextMenuOpen &&\n            <MoreOptionsContextMenuPopup\n              type={'outline'}\n              anchorButton={`outline-more-button-${outlinePath}`}\n              shouldDisplayDeleteButton={!isMultiSelectMode}\n              onClosePopup={() => setContextMenuOpen(false)}\n              onRenameClick={() => {\n                setContextMenuOpen(false);\n                setOutlineRenaming(true);\n              }}\n              onSetDestinationClick={() => {\n                setContextMenuOpen(false);\n                setOutlineChangingDest(true);\n                core.setToolMode(TOOL_NAME);\n              }}\n              onDeleteClick={() => {\n                setContextMenuOpen(false);\n                removeOutlines([outlinePath]);\n              }}\n            />\n          }\n        </>\n      }\n\n      {isOutlineChangingDest &&\n        <div\n          className=\"bookmark-outline-text outline-text\"\n          style={textStyle}\n        >\n          {text}\n        </div>\n      }\n\n      {(isAdding || isOutlineRenaming) &&\n        <input\n          type=\"text\"\n          name=\"outline\"\n          ref={inputRef}\n          className=\"bookmark-outline-input\"\n          placeholder={t('component.outlineTitle')}\n          aria-label={t('action.name')}\n          value={outlineText}\n          onKeyDown={handleKeyDown}\n          onChange={(e) => setOutlineText(e.target.value)}\n        />\n      }\n\n      {(isAdding || isOutlineChangingDest) &&\n        <div className=\"outline-destination\">\n          {t('component.destination')}: {t('component.bookmarkPage')} {currentDestPage},\n          <span style={{ fontStyle: 'italic' }}> {currentDestText}</span>\n        </div>\n      }\n\n      {(isAdding || isOutlineRenaming || isOutlineChangingDest) &&\n        <div className=\"bookmark-outline-editing-controls\">\n          <Button\n            className=\"bookmark-outline-cancel-button\"\n            label={t('action.cancel')}\n            onClick={onCancelOutline}\n          />\n          {isAdding &&\n            <Button\n              className=\"bookmark-outline-save-button\"\n              label={t('action.add')}\n              isSubmitType={true}\n              onClick={onAddOutline}\n            />\n          }\n          {isOutlineRenaming &&\n            <Button\n              className=\"bookmark-outline-save-button\"\n              label={t('action.save')}\n              isSubmitType={true}\n              disabled={isRenameButtonDisabled()}\n              onClick={onRenameOutline}\n            />\n          }\n          {isOutlineChangingDest &&\n            <Button\n              className=\"bookmark-outline-save-button\"\n              label={t('action.save')}\n              isSubmitType={true}\n              onClick={() => {\n                setOutlineChangingDest(false);\n                updateOutlineDest(outlinePath);\n              }}\n            />\n          }\n        </div>\n      }\n    </div>\n  );\n};\n\nOutlineContent.propTypes = propTypes;\n\nexport default OutlineContent;\n","import OutlineContent from './OutlineContent';\n\nexport default OutlineContent;\n","import core from 'core';\n\n/**\n * @ignore\n * handler for auto size font toggle\n * @param {FreeTextAnnotation} annotation annotation to toggle auto size font\n * @param {function} setAutoSizeFont function to set auto size font\n * @param {boolean} isAutoSizeFont current auto size font value\n */\nexport default (annotation, setAutoSizeFont, isAutoSizeFont) => {\n  const freeTextAnnot = annotation;\n  const calculatedFontSize = freeTextAnnot.getCalculatedFontSize();\n  if (isAutoSizeFont) {\n    freeTextAnnot.FontSize = calculatedFontSize;\n  } else {\n    freeTextAnnot.switchToAutoFontSize();\n  }\n\n  setAutoSizeFont(!isAutoSizeFont);\n  core.getAnnotationManager().redrawAnnotation(freeTextAnnot);\n};\n\n","import React, { useState, useCallback, useEffect } from 'react';\nimport classNames from 'classnames';\nimport './ColorPicker.scss';\nimport { useTranslation } from 'react-i18next';\nimport PropTypes from 'prop-types';\nimport Icon from 'components/Icon';\nimport actions from 'actions';\nimport { useDispatch, useStore, useSelector } from 'react-redux';\nimport Events from 'constants/events';\nimport { getInstanceNode } from 'helpers/getRootNode';\nimport selectors from 'selectors';\n\nconst parseColor = (color) => {\n  if (!color) {\n    return color;\n  }\n  let parsedColor = color;\n  if (parsedColor?.toHexString) {\n    parsedColor = parsedColor.toHexString();\n  }\n  if (parsedColor?.toLowerCase) {\n    parsedColor = parsedColor.toLowerCase();\n  }\n\n  return parsedColor;\n};\n\nconst TRANSPARENT_COLOR = 'transparent';\n\nconst transparentIcon = (\n  <svg\n    width=\"100%\"\n    height=\"100%\"\n    className={classNames('transparent')}\n  >\n    <line stroke=\"#d82e28\" x1=\"0\" y1=\"100%\" x2=\"100%\" y2=\"0\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n  </svg>\n);\n\n\nconst propTypes = {\n  color: PropTypes.any\n};\n\nconst ColorPicker = ({\n  onColorChange,\n  hasTransparentColor = false,\n  color\n}) => {\n  const store = useStore();\n  const { t } = useTranslation();\n  const dispatch = useDispatch();\n  const [colors] = useSelector((state) => [\n    selectors.getColors(state),\n  ]);\n  const [selectedColor, setSelectedColor] = useState();\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  useEffect(() => {\n    if (color) {\n      setSelectedColor(parseColor(color));\n    }\n  }, [color]);\n\n  const getCustomColorAndRemove = () => {\n    const customColor = selectors.getCustomColor(store.getState());\n    dispatch(actions.setCustomColor(null));\n    return customColor;\n  };\n\n  const handleAddColor = useCallback(() => {\n    dispatch(actions.openElement('ColorPickerModal'));\n    const onVisibilityChanged = (e) => {\n      const { element, isVisible } = e.detail;\n      if (element === 'ColorPickerModal' && !isVisible) {\n        const color = parseColor(getCustomColorAndRemove());\n        if (color) {\n          if (colors.includes(color)) {\n            setSelectedColor(color);\n            onColorChange(color);\n          } else {\n            const newColors = [...colors, color];\n            dispatch(actions.setColors(newColors));\n            setSelectedColor(color);\n            onColorChange(color);\n          }\n        }\n      }\n      getInstanceNode().removeEventListener(Events.VISIBILITY_CHANGED, onVisibilityChanged);\n    };\n    getInstanceNode().addEventListener(Events.VISIBILITY_CHANGED, onVisibilityChanged);\n  }, [colors?.length, dispatch, setSelectedColor, onColorChange, getCustomColorAndRemove]);\n\n  const handleDelete = () => {\n    const color = parseColor(selectedColor);\n    const newColors = [...colors];\n    const indexToDelete = newColors.indexOf(color);\n    if (indexToDelete > -1) {\n      const nextIndex = indexToDelete === newColors.length - 1 ? 0 : indexToDelete + 1;\n      setSelectedColor(colors[nextIndex]);\n      onColorChange(colors[nextIndex]);\n      newColors.splice(indexToDelete, 1);\n      dispatch(actions.setColors(newColors));\n    }\n  };\n\n  const toggleExpanded = () => {\n    setIsExpanded(!isExpanded);\n  };\n\n  let palette = [\n    ...colors\n  ];\n  if (hasTransparentColor) {\n    palette.push(TRANSPARENT_COLOR);\n  }\n  if (selectedColor && !palette.includes(selectedColor)) {\n    palette.push(selectedColor);\n  }\n\n  if (!selectedColor) {\n    setSelectedColor(palette[0]);\n  }\n\n  const shouldHideShowMoreButton = palette.length <= 7;\n  const isAddDisabled = palette.length >= 21;\n  const isDeleteDisabled = palette.length <= 1;\n\n  if (!isExpanded) {\n    palette = palette.slice(0, 7);\n  }\n\n  return (\n    <>\n      <div className={classNames('ColorPalette')}>\n        {palette.map((color) => parseColor(color)).map((color, i) => (\n          !color\n            ? <div key={i} className=\"dummy-cell\"/>\n            : <button\n              key={i}\n              className=\"cell-container\"\n              onClick={() => {\n                setSelectedColor(color);\n                onColorChange(color);\n              }}\n              aria-label={`${t('option.colorPalette.colorLabel')} ${i + 1}`}\n            >\n              <div\n                className={classNames({\n                  'cell-outer': true,\n                  active: parseColor(selectedColor) === color || (!parseColor(selectedColor) && color === TRANSPARENT_COLOR),\n                })}\n              >\n                <div\n                  className={classNames({\n                    cell: true,\n                    border: color === '#ffffff' || color === TRANSPARENT_COLOR,\n                  })}\n                  style={{ backgroundColor: color }}\n                >\n                  {color === TRANSPARENT_COLOR && transparentIcon}\n                </div>\n              </div>\n            </button>\n        ))}\n      </div>\n      <div className=\"palette-controls\">\n        <div className=\"button-container\">\n          <button\n            className=\"control-button\"\n            data-element=\"addCustomColor\"\n            onClick={handleAddColor}\n            disabled={isAddDisabled}\n          >\n            <Icon glyph=\"icon-header-zoom-in-line\"/>\n          </button>\n          <button\n            className=\"control-button\"\n            data-element=\"removeCustomColor\"\n            disabled={isDeleteDisabled}\n            onClick={handleDelete}\n          >\n            <Icon glyph=\"icon-delete-line\"/>\n          </button>\n        </div>\n        <button className={classNames('show-more-button control-button', {\n          hidden: shouldHideShowMoreButton,\n        })} onClick={toggleExpanded}>\n          {t(isExpanded ? 'message.showLess' : 'message.showMore')}\n        </button>\n      </div>\n    </>\n  );\n};\n\nColorPicker.propTypes = propTypes;\n\nexport default ColorPicker;","import ColorPicker from './ColorPicker';\n\nexport default ColorPicker;","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./Element.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../../node_modules/sass-loader/dist/cjs.js!./ColorPicker.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.StylePicker .ColorPalette{display:flex;flex-wrap:wrap;display:grid;grid-template-columns:repeat(7,1fr);grid-row-gap:8px;row-gap:8px;justify-items:center}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.StylePicker .ColorPalette{width:196px}}.StylePicker .ColorPalette.padding{padding:4px 12px 8px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .StylePicker .ColorPalette{max-width:450px;width:auto}}@media(max-width:640px)and (-ms-high-contrast:active),(max-width:640px)and (-ms-high-contrast:none){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .StylePicker .ColorPalette{width:308px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .StylePicker .ColorPalette{max-width:450px;width:auto}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.App.is-web-component:not(.is-in-desktop-only-mode) .StylePicker .ColorPalette{width:308px}}}.StylePicker .ColorPalette .cell-container{padding:0;border:none;background-color:transparent;flex:1 0 14%;cursor:pointer;width:28px;height:28px;display:flex;align-items:center;justify-content:center}:host(:not([data-tabbing=true])) .StylePicker .ColorPalette .cell-container,html:not([data-tabbing=true]) .StylePicker .ColorPalette .cell-container{outline:none}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .StylePicker .ColorPalette .cell-container{width:44px;height:44px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .StylePicker .ColorPalette .cell-container{width:44px;height:44px}}.StylePicker .ColorPalette .cell-container .cell-outer.active{border:1px solid var(--color-palette-border);width:26px;height:26px;border-radius:10000000px;display:flex;align-items:center;justify-content:center}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .StylePicker .ColorPalette .cell-container .cell-outer.active{width:36px;height:36px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .StylePicker .ColorPalette .cell-container .cell-outer.active{width:36px;height:36px}}.StylePicker .ColorPalette .cell-container .cell-outer .cell{width:18px;height:18px;border-radius:10000000px}.StylePicker .ColorPalette .cell-container .cell-outer .cell .transparent{border:2px solid var(--faded-text);border-radius:10000000px}.StylePicker .ColorPalette .cell-container .cell-outer .cell.border{border:1px solid var(--white-color-palette-border)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .StylePicker .ColorPalette .cell-container .cell-outer .cell{width:24px;height:24px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .StylePicker .ColorPalette .cell-container .cell-outer .cell{width:24px;height:24px}}.StylePicker .palette-controls{padding-right:12px;padding-left:2px;display:flex;justify-content:space-between}.StylePicker .palette-controls .button-container{display:flex;grid-gap:8px;gap:8px}.StylePicker .palette-controls .control-button{display:flex;align-items:center;justify-content:center;text-align:center;min-width:32px;min-height:32px;padding:0;border:none;background-color:transparent;cursor:pointer;border-radius:4px}:host(:not([data-tabbing=true])) .StylePicker .palette-controls .control-button,html:not([data-tabbing=true]) .StylePicker .palette-controls .control-button{outline:none}.StylePicker .palette-controls .control-button.show-more-button{color:var(--ribbon-active-color)}.StylePicker .palette-controls .control-button.show-more-button:hover{background:none;color:var(--primary-button-hover)}.StylePicker .palette-controls .control-button:disabled{opacity:.5}.StylePicker .palette-controls .control-button.hidden{display:none}.StylePicker .palette-controls .control-button:hover{background:var(--view-header-button-hover)}.StylePicker .palette-controls .control-button:hover .Icon{color:var(--icon-color)}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./RichTextStyleEditor.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}@-webkit-keyframes bottom-up{0%{transform:translateY(100%)}to{transform:translateY(0)}}@keyframes bottom-up{0%{transform:translateY(100%)}to{transform:translateY(0)}}@-webkit-keyframes up-bottom{0%{transform:translateY(0)}to{transform:translateY(100%)}}@keyframes up-bottom{0%{transform:translateY(0)}to{transform:translateY(100%)}}.RichTextStyleEditor{padding-bottom:16px}.RichTextStyleEditor .Dropdown__wrapper{width:100%}.RichTextStyleEditor .Dropdown__wrapper .Dropdown{width:100%!important}.RichTextStyleEditor .Dropdown__wrapper .Dropdown__items{right:unset}.RichTextStyleEditor .FontSizeDropdown{width:100%}.RichTextStyleEditor .palette-controls{margin-top:8px}.RichTextStyleEditor .auto-size-checkbox{padding-top:16px;padding-bottom:16px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./OutlineControls.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.OutlineControls{display:flex;justify-content:center;align-items:center;margin-left:var(--padding);margin-right:var(--padding);border-bottom:1px solid var(--border);padding-top:4px;padding-bottom:4px;color:var(--faded-text)}.OutlineControls .Button{height:30px;padding:0;width:30px;margin:0 4px}.OutlineControls .Button .Icon{height:24px;width:24px;color:var(--icon-color)}.OutlineControls .Button:hover{background:var(--view-header-button-hover);border-radius:4px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./MoreOptionsContextMenuPopup.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".more-options-context-menu-popup{padding-top:var(--padding-small);padding-bottom:var(--padding-small);background-color:var(--component-background);box-shadow:0 0 3px var(--document-box-shadow);border-radius:4px}.more-options-context-menu-popup .option-button{justify-content:flex-start;width:100%;padding:var(--padding-small) var(--padding-medium);border-radius:0}.more-options-context-menu-popup .option-button:not(:first-child){margin-top:var(--padding-small)}.more-options-context-menu-popup .option-button:hover{background-color:var(--tools-header-background)}.more-options-context-menu-popup .option-button .Icon{width:20px;height:auto;margin-right:10px}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./OutlineContent.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".outline-destination,.outline-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.outline-destination{flex-basis:100%;font-size:10px;color:var(--faded-text);margin-top:var(--padding-small)}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./Outline.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.outline-drag-container{border-radius:4px}.outline-drag-container.isNesting>.bookmark-outline-single-container{background-color:var(--popup-button-active);border-color:var(--focus-border)}.outline-treeview-toggle{flex-grow:0;flex-shrink:0;margin-right:var(--padding-small);min-width:14px;transition:transform .1s ease}.outline-treeview-toggle.expanded{transform:rotate(90deg)}.outline-treeview-toggle .Button{width:auto;height:auto}.outline-treeview-toggle .Button .Icon{width:14px;height:auto}.outline-drag-line{margin-left:var(--padding);margin-right:var(--padding);border-top:1px solid var(--focus-border);position:relative}.outline-drag-line:before{content:\\\"\\\";display:block;position:absolute;width:5px;height:5px;top:-3px;left:0;background-color:var(--focus-border);border-radius:50%}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".bookmark-outline-panel{display:flex;padding-left:var(--padding);padding-right:var(--padding-small)}.bookmark-outline-control-button{width:auto}.bookmark-outline-control-button span{color:inherit}.bookmark-outline-control-button,.bookmark-outline-control-button.disabled,.bookmark-outline-control-button[disabled]{color:var(--secondary-button-text)}.bookmark-outline-control-button.disabled,.bookmark-outline-control-button[disabled]{opacity:.5}.bookmark-outline-control-button.disabled span,.bookmark-outline-control-button[disabled] span{color:inherit}.bookmark-outline-control-button:not(.disabled):active,.bookmark-outline-control-button:not(.disabled):focus,.bookmark-outline-control-button:not(.disabled):hover,.bookmark-outline-control-button:not([disabled]):active,.bookmark-outline-control-button:not([disabled]):focus,.bookmark-outline-control-button:not([disabled]):hover{color:var(--secondary-button-hover)}.bookmark-outline-panel-header{display:flex;flex-flow:row nowrap;justify-content:space-between;align-items:center;padding-bottom:var(--padding-tiny);border-bottom:1px solid var(--border)}.bookmark-outline-panel-header .header-title{font-size:16px}.bookmark-outline-row{flex-grow:1;overflow-y:auto}.msg-no-bookmark-outline{color:var(--placeholder-text);text-align:center}.bookmark-outline-single-container{display:flex;flex-flow:row nowrap;align-items:flex-start;border-radius:4px}.bookmark-outline-single-container.default{padding:var(--padding-small) var(--padding-tiny);border:1px solid transparent}.bookmark-outline-single-container.default.hover,.bookmark-outline-single-container.default:hover{cursor:pointer}.bookmark-outline-single-container.default.hover .bookmark-outline-more-button,.bookmark-outline-single-container.default:hover .bookmark-outline-more-button{display:flex}.bookmark-outline-single-container.default:hover{background-color:var(--outline-selected)}.bookmark-outline-single-container.default.hover,.bookmark-outline-single-container.default.selected{background-color:var(--popup-button-active)}.bookmark-outline-single-container.default .bookmark-outline-label-row{overflow:hidden}.bookmark-outline-single-container.editing{background-color:var(--faded-component-background);padding:var(--padding-medium) 20px}.bookmark-outline-single-container.preview{display:inline-flex;margin-top:0;padding:var(--padding-small);background-color:var(--component-background);box-shadow:0 0 3px var(--note-box-shadow)}.bookmark-outline-single-container .bookmark-outline-checkbox{flex-grow:0;flex-shrink:0;margin-top:1px;margin-bottom:0;margin-right:var(--padding-small)}.bookmark-outline-single-container .bookmark-outline-label-row{flex-grow:1;flex-shrink:1;display:flex;flex-flow:row wrap;align-items:flex-start;position:relative;overflow:hidden}.bookmark-outline-single-container .bookmark-outline-label{font-weight:600;flex-grow:1;flex-shrink:1;margin-bottom:var(--padding-small)}.bookmark-outline-single-container .bookmark-outline-input,.bookmark-outline-single-container .bookmark-outline-text{flex-grow:1;flex-shrink:1;flex-basis:calc(100% - 18px)}.bookmark-outline-single-container .bookmark-text-input{margin-left:var(--padding-large)}.bookmark-outline-single-container .bookmark-outline-input{color:var(--text-color);width:calc(100% - var(--padding-large));padding:var(--padding-small);border:1px solid var(--border)}.bookmark-outline-single-container .bookmark-outline-input:focus{border-color:var(--outline-color)}.bookmark-outline-single-container .bookmark-outline-input::-moz-placeholder{color:var(--placeholder-text)}.bookmark-outline-single-container .bookmark-outline-input:-ms-input-placeholder{color:var(--placeholder-text)}.bookmark-outline-single-container .bookmark-outline-input::placeholder{color:var(--placeholder-text)}.bookmark-outline-single-container .bookmark-outline-more-button{display:none;flex-grow:0;flex-shrink:0;width:auto;height:auto;margin-left:var(--padding-tiny);margin-right:0}.bookmark-outline-single-container .bookmark-outline-more-button .Icon{width:14px;height:14px}.bookmark-outline-single-container .bookmark-outline-editing-controls{flex-basis:100%;display:flex;flex-flow:row wrap;justify-content:flex-end;align-items:center;margin-top:var(--padding-medium)}.bookmark-outline-single-container .bookmark-outline-cancel-button,.bookmark-outline-single-container .bookmark-outline-save-button{width:auto;padding:6px var(--padding)}.bookmark-outline-single-container .bookmark-outline-cancel-button{color:var(--secondary-button-text)}.bookmark-outline-single-container .bookmark-outline-cancel-button:hover{color:var(--secondary-button-hover)}.bookmark-outline-single-container .bookmark-outline-save-button{color:var(--primary-button-text);background-color:var(--primary-button);margin-left:var(--padding-tiny);border-radius:4px}.bookmark-outline-single-container .bookmark-outline-save-button:hover{background-color:var(--primary-button-hover)}.bookmark-outline-single-container .bookmark-outline-save-button.disabled,.bookmark-outline-single-container .bookmark-outline-save-button:disabled{background-color:var(--primary-button)!important;opacity:.5}.bookmark-outline-footer{border-top:1.5px solid var(--border);padding-top:var(--padding-medium);padding-bottom:var(--padding-medium);display:flex;justify-content:center;align-items:center}.bookmark-outline-footer .add-new-button .Icon{width:14px;height:14px;margin-right:var(--padding-tiny);color:inherit;fill:currentColor}.bookmark-outline-footer .add-new-button.disabled .Icon.disabled,.bookmark-outline-footer .add-new-button.disabled .Icon.disabled path,.bookmark-outline-footer .add-new-button[disabled] .Icon.disabled,.bookmark-outline-footer .add-new-button[disabled] .Icon.disabled path{color:inherit;fill:currentColor}.bookmark-outline-footer .multi-selection-button{width:auto;padding:7px}.bookmark-outline-footer .multi-selection-button .Icon{width:18px;height:18px}.bookmark-outline-footer .multi-selection-button:not(:first-child){margin-left:var(--padding-tiny)}.bookmark-outline-footer .multi-selection-button:hover{background-color:var(--view-header-button-hover)}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./BookmarksPanel.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.BookmarksPanel{display:flex;flex-direction:column;flex:1}.BookmarksPanel .bookmark-switch{-webkit-font-smoothing:antialiased;margin-top:var(--padding-medium);padding-left:4px}.BookmarksPanel .bookmark-switch label{font-size:11px}.BookmarksPanel .bookmark-outline-single-container{margin-top:var(--padding-medium)}.BookmarksPanel .msg-no-bookmark-outline{margin-top:var(--padding)}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./ThumbnailControls.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.thumbnailControls-overlay{display:grid;text-align:center;z-index:2;margin-top:5px;grid-template-areas:\\\"rotate delete . more\\\";grid-template-columns:repeat(3,1fr)}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.thumbnailControls-overlay{display:flex}}.thumbnailControls-overlay .Button{height:32px;padding:0;width:32px}.thumbnailControls-overlay .Button .Icon{height:24px;width:24px;color:var(--icon-color)}.thumbnailControls-overlay .Button:hover{background:var(--view-header-button-hover);border-radius:4px}.thumbnailControls-overlay .Button.active{background:var(--view-header-button-active)}.thumbnailControls-overlay .Button.active .Icon{color:var(--selected-icon-color)}.thumbnailControls-overlay .rotate-button{grid-area:rotate}.thumbnailControls-overlay .delete-button{grid-area:delete}.thumbnailControls-overlay .more-options{grid-area:more}.thumbnailControls-overlay.custom-buttons .Button{grid-area:auto}.thumbnailControls{display:flex;flex-direction:row;text-align:center;z-index:2;margin-top:5px}.thumbnailControls .Button{height:32px;padding:0;width:32px;margin:0 4px}.thumbnailControls .Button .Icon{height:24px;width:24px;color:var(--icon-color)}.thumbnailControls .Button:hover{background:var(--view-header-button-hover);border-radius:4px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./Thumbnail.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.Thumbnail{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;cursor:pointer}.Thumbnail.active .container .page-image{border:2px solid var(--focus-border);box-shadow:none;box-sizing:content-box}.Thumbnail .container{position:relative;display:flex;justify-content:center;align-items:center;cursor:pointer}.Thumbnail .container .page-image{box-shadow:0 0 3px 0 var(--box-shadow)}.Thumbnail .container .annotation-image,.Thumbnail .container .page-image{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.Thumbnail .container .checkbox{position:absolute;border-radius:4px;z-index:4}.Thumbnail .container .default{top:3%;right:15%}.Thumbnail .container .rotated{top:15%;right:3%}.Thumbnail .page-label{margin-top:11px}.Thumbnail.selected .container .thumbnail:before{color:#fff;background:var(--focus-border);width:16px;height:16px;position:absolute;z-index:10}.Thumbnail.selected .container canvas{background:hsla(0,0%,100%,.6)}.Thumbnail.active .page-label{color:var(--focus-border)!important}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.documentControlsContainer .PageControlContainer{display:flex;background-color:var(--gray-2);justify-content:center;align-content:center;margin:0 8px 0 16px;border-radius:4px}.documentControlsContainer .PageControlContainer .dropdown-menu{position:relative}.documentControlsContainer .PageControlContainer .dropdown-menu .indicator{position:absolute;bottom:1px;right:1px;width:0;height:0;border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid #c4c4c4;transform:rotateY(0deg) rotate(315deg)}.documentControlsContainer .PageControlContainer button .Icon{height:21px;width:21px;color:var(--icon-color)}.documentControlsContainer .PageControlContainer .button-hover:hover{background:var(--view-header-button-hover);border-radius:4px}.documentControlsContainer .PageControlContainer .divider{height:20px;width:1px;background:var(--divider);margin:6px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./DocumentControls.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.documentControls{display:flex;flex-direction:column}.documentControls .divider{height:1px;background:var(--divider);margin:16px 8px 8px 16px}.documentControls .documentControlsInput{display:flex;flex-direction:row;padding:8px 8px 16px 16px}.documentControls .documentControlsInput .pagesInput{width:100%;height:30px;border:1px solid var(--border);border-radius:4px;color:var(--text-color);padding:4px 8px}.documentControls .documentControlsInput .pagesInput:focus{outline:none;border:1px solid var(--focus-border)}.documentControls .documentControlsInput .pagesInput::-moz-placeholder{color:var(--placeholder-text)}.documentControls .documentControlsInput .pagesInput:-ms-input-placeholder{color:var(--placeholder-text)}.documentControls .documentControlsInput .pagesInput::placeholder{color:var(--placeholder-text)}.documentControls .documentControlsInput .documentControlsButton{display:flex;flex-direction:row;padding-left:2px}.documentControls .documentControlsInput .documentControlsButton .Button{height:30px;padding:0;width:30px;margin:0 4px}.documentControls .documentControlsInput .documentControlsButton .Button .Icon{height:24px;width:24px;color:var(--icon-color)}.documentControls .documentControlsInput .documentControlsButton .Button:hover{background:var(--view-header-button-hover);border-radius:4px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./ThumbnailsPanel.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.thumbnail-slider-container{display:flex;align-items:center;width:230px;margin:0 auto}.thumbnail-slider-container .thumbnail-slider{width:100%;height:20px;padding:0;color:transparent;background-color:transparent;border:0 transparent}.thumbnail-slider-container input[type=range]{-webkit-appearance:none;margin:10px 0;width:100%}.thumbnail-slider-container input[type=range]:focus{outline:none;box-shadow:0 0 5px var(--focus-border)}.thumbnail-slider-container input[type=range]::-webkit-slider-runnable-track{width:100%;height:3px;cursor:pointer;animate:.2s;box-shadow:0 0 0 #000;background:var(--slider-filled);border-radius:5px;border:0 solid #000}.thumbnail-slider-container input[type=range]::-webkit-slider-thumb{box-shadow:0 0 1px #000;border:0 solid #000;height:15px;width:15px;border-radius:50px;background:var(--slider-filled);cursor:pointer;-webkit-appearance:none;margin-top:-5px}.thumbnail-slider-container input[type=range]:focus::-webkit-slider-runnable-track{background:var(--slider-filled)}.thumbnail-slider-container input[type=range]::-moz-range-track{width:100%;height:3px;cursor:pointer;animate:.2s;box-shadow:0 0 0 #000;background:var(--slider-filled);border-radius:5px;border:0 solid #000}.thumbnail-slider-container input[type=range]::-moz-range-thumb{box-shadow:0 0 1px #000;border:0 solid #000;height:15px;width:15px;border-radius:50px;background:var(--slider-filled);cursor:pointer}.thumbnail-slider-container input[type=range]::-ms-track{padding:5px 0 0;width:100%;height:3px;background:transparent;border-color:transparent;color:transparent;cursor:pointer;border-width:6px 0;animate:.2s}.thumbnail-slider-container input[type=range]::-ms-fill-lower,.thumbnail-slider-container input[type=range]::-ms-fill-upper{background:var(--slider-filled);border:0 solid #000;border-radius:10px;box-shadow:0 0 0 #000}.thumbnail-slider-container input[type=range]::-ms-thumb{box-shadow:0 0 1px #000;border:0 solid #000;height:15px;width:15px;border-radius:50%;background:var(--slider-filled);cursor:pointer}.thumbnail-slider-container input[type=range]:focus::-ms-fill-lower,.thumbnail-slider-container input[type=range]:focus::-ms-fill-upper{background:var(--slider-filled)}.thumbnail-slider-container Button{width:15px;height:15px;margin:2.5px;padding-top:6px}.thumbnail-slider-container Button:hover{background:var(--view-header-button-hover);border-radius:4px}.ThumbnailsPanel{overflow:hidden!important;display:flex;height:100%}.ThumbnailsPanel #virtualized-thumbnails-container{flex:1}.ThumbnailsPanel .row{display:flex;justify-content:space-around;align-items:center;flex-direction:column}.ThumbnailsPanel .thumbnailPlaceholder{width:150px;margin:2px;border:1px solid var(--focus-border)}.ThumbnailsPanel .columnsOfThumbnails.row{display:flex;justify-content:left;align-items:center;flex-direction:row}.ThumbnailsPanel .columnsOfThumbnails .cellThumbContainer{display:flex;flex-direction:row}.ThumbnailsPanel .columnsOfThumbnails .Thumbnail{display:inline-flex}.ThumbnailsPanel .columnsOfThumbnails .thumbnailPlaceholder{width:116px;min-width:116px;height:150px;margin-bottom:30px}.thumbnailAutoScrollArea{position:absolute;width:calc(100% - 55px);z-index:10;background:hsla(0,0%,100%,0)}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport selectors from 'selectors';\n\nimport './Element.scss';\n\nclass Element extends React.PureComponent {\n  static propTypes = {\n    isDisabled: PropTypes.bool,\n    className: PropTypes.string.isRequired,\n    dataElement: PropTypes.string.isRequired,\n    children: PropTypes.node,\n  }\n\n  render() {\n    const { isDisabled, className, dataElement, children } = this.props;\n\n    if (isDisabled) {\n      return null;\n    }\n\n    return (\n      <div className={className} data-element={dataElement}>\n        {children}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  isDisabled: selectors.isElementDisabled(state, ownProps.dataElement),\n});\n\nexport default connect(mapStateToProps)(Element);","import Element from './Element';\n\nexport default Element;","import React, { useContext, useState, useEffect, useRef } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport Button from 'components/Button';\nimport DataElementWrapper from 'components/DataElementWrapper';\nimport OutlineContext from 'components/Outline/Context';\n\nimport core from 'core';\nimport outlineUtils from 'helpers/OutlineUtils';\nimport selectors from 'selectors';\n\nimport './OutlineControls.scss';\nimport DataElements from 'src/constants/dataElement';\n\nconst OutlineControls = () => {\n  const outlines = useSelector((state) => selectors.getOutlines(state));\n  const {\n    activeOutlinePath,\n    setActiveOutlinePath,\n    updateOutlines\n  } = useContext(OutlineContext);\n  const [canMove, setCanMove] = useState({ up: false, down: false, outward: false, inward: false });\n  const nextIndexRef = useRef(null);\n  const [t] = useTranslation();\n\n  useEffect(() => {\n    if (!core.isFullPDFEnabled()) {\n      return;\n    }\n\n    const setCanMoveState = async () => {\n      setCanMove(await outlineUtils.getCanMoveState(activeOutlinePath));\n    };\n\n    setCanMoveState();\n  }, [activeOutlinePath]);\n\n  useEffect(() => {\n    if (nextIndexRef.current !== null) {\n      setActiveOutlinePath(nextIndexRef.current);\n      nextIndexRef.current = null;\n    }\n  }, [outlines, setActiveOutlinePath]);\n\n  const moveOutlineUp = async () => {\n    const nextIndex = await outlineUtils.moveOutlineUp(activeOutlinePath);\n    updateOutlines();\n    nextIndexRef.current = nextIndex;\n  };\n\n  const moveOutlineDown = async () => {\n    const nextIndex = await outlineUtils.moveOutlineDown(activeOutlinePath);\n    updateOutlines();\n    nextIndexRef.current = nextIndex;\n  };\n\n  const moveOutlineOutward = async () => {\n    const nextIndex = await outlineUtils.moveOutlineOutward(activeOutlinePath);\n    updateOutlines();\n    nextIndexRef.current = nextIndex;\n  };\n\n  const moveOutlineInward = async () => {\n    const nextIndex = await outlineUtils.moveOutlineInward(activeOutlinePath);\n    updateOutlines();\n    nextIndexRef.current = nextIndex;\n  };\n\n  return (\n    <DataElementWrapper\n      className=\"OutlineControls\"\n      dataElement={DataElements.OUTLINE_CONTROLS}\n    >\n      <span className=\"reorderText\">\n        {t('option.bookmarkOutlineControls.reorder')}\n      </span>\n      <Button\n        img=\"icon-arrow-up\"\n        disabled={!canMove.up}\n        onClick={moveOutlineUp}\n        dataElement={DataElements.OUTLINE_MOVE_UP_BUTTON}\n      />\n      <Button\n        img=\"icon-arrow-down\"\n        disabled={!canMove.down}\n        onClick={moveOutlineDown}\n        dataElement={DataElements.OUTLINE_MOVE_DOWN_BUTTON}\n      />\n      <Button\n        img=\"icon-arrow-left\"\n        disabled={!canMove.outward}\n        onClick={moveOutlineOutward}\n        dataElement={DataElements.OUTLINE_MOVE_OUTWARD_BUTTON}\n      />\n      <Button\n        img=\"icon-arrow-right\"\n        disabled={!canMove.inward}\n        onClick={moveOutlineInward}\n        dataElement={DataElements.OUTLINE_MOVE_INWARD_BUTTON}\n      />\n    </DataElementWrapper>\n  );\n};\n\nexport default OutlineControls;\n","import OutlineControls from './OutlineControls';\n\nexport default OutlineControls;","import React, { useState, useCallback, useContext, useEffect, useLayoutEffect, forwardRef, useImperativeHandle, useRef } from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { DragSource, DropTarget } from 'react-dnd';\nimport { getEmptyImage } from 'react-dnd-html5-backend';\nimport { ItemTypes, DropLocation, BUFFER_ROOM } from 'constants/dnd';\nimport core from 'core';\nimport actions from 'actions';\nimport selectors from 'selectors';\n\nimport Events from 'constants/events';\nimport fireEvent from 'helpers/fireEvent';\nimport outlineUtils from 'helpers/OutlineUtils';\nimport { isMobile, isIE } from 'helpers/device';\nimport OutlineContext from './Context';\nimport OutlineContent from 'src/components/OutlineContent';\nimport DataElementWrapper from '../DataElementWrapper';\nimport Choice from '../Choice';\nimport Button from '../Button';\n\nimport './Outline.scss';\n\nconst propTypes = {\n  outline: PropTypes.object.isRequired,\n  setMultiSelected: PropTypes.func,\n  moveOutlineInward: PropTypes.func.isRequired,\n  moveOutlineBeforeTarget: PropTypes.func.isRequired,\n  moveOutlineAfterTarget: PropTypes.func.isRequired,\n  connectDragSource: PropTypes.func,\n  connectDragPreview: PropTypes.func,\n  connectDropTarget: PropTypes.func,\n  isDragging: PropTypes.bool,\n  isDraggedUpwards: PropTypes.bool,\n  isDraggedDownwards: PropTypes.bool,\n};\n\nconst Outline = forwardRef(\n  function Outline(\n    {\n      outline,\n      setMultiSelected,\n      isDragging,\n      isDraggedUpwards,\n      isDraggedDownwards,\n      connectDragSource,\n      connectDragPreview,\n      connectDropTarget,\n      moveOutlineInward,\n      moveOutlineBeforeTarget,\n      moveOutlineAfterTarget\n    },\n    ref\n  ) {\n    const outlines = useSelector((state) => selectors.getOutlines(state));\n    const {\n      setActiveOutlinePath,\n      activeOutlinePath,\n      isOutlineActive,\n      setAddingNewOutline,\n      isAddingNewOutline,\n      isAnyOutlineRenaming,\n      isMultiSelectMode,\n      shouldAutoExpandOutlines,\n      isOutlineEditable,\n      selectedOutlines,\n      updateOutlines,\n    } = useContext(OutlineContext);\n\n    const outlinePath = outlineUtils.getPath(outline);\n\n    const [isExpanded, setIsExpanded] = useState(shouldAutoExpandOutlines);\n    const [isSelected, setIsSelected] = useState(selectedOutlines.includes(outlinePath));\n    const [isRenaming, setIsRenaming] = useState(false);\n    const [isChangingDest, setChangingDest] = useState(false);\n    const [isHovered, setHovered] = useState(false); // when the popup menu is open, the container will have a background\n    const [clearSingleClick, setClearSingleClick] = useState(undefined);\n\n    const dispatch = useDispatch();\n\n    const elementRef = useRef(null);\n    connectDragSource(elementRef);\n    connectDragPreview(getEmptyImage(), { captureDraggingState: true });\n    connectDropTarget(elementRef);\n    const opacity = isDragging ? 0.5 : 1;\n    useImperativeHandle(ref, () => ({\n      getNode: () => elementRef.current,\n    }));\n\n    useEffect(() => {\n      const shouldExpandOutline =\n        activeOutlinePath !== null\n        && activeOutlinePath !== outlinePath\n        && activeOutlinePath.startsWith(outlinePath);\n      if (shouldExpandOutline) {\n        setIsExpanded(true);\n      }\n    }, [activeOutlinePath, isAddingNewOutline, outline]);\n\n    useLayoutEffect(() => {\n      setIsExpanded(shouldAutoExpandOutlines);\n    }, [shouldAutoExpandOutlines]);\n\n    useLayoutEffect(() => {\n      setIsRenaming(false);\n      setChangingDest(false);\n    }, [outlines]);\n\n    useEffect(() => {\n      setIsSelected(selectedOutlines.includes(outlinePath));\n    }, [selectedOutlines]);\n\n    const toggleOutline = useCallback(() => {\n      setIsExpanded((expand) => !expand);\n    }, []);\n\n    const onSingleClick = useCallback(() => {\n      core.goToOutline(outline);\n\n      outlinePath === activeOutlinePath\n        ? setActiveOutlinePath(null)\n        : setActiveOutlinePath(outlinePath);\n\n\n      if (isAddingNewOutline) {\n        setAddingNewOutline(false);\n        updateOutlines();\n      }\n\n      if (isMobile()) {\n        dispatch(actions.closeElement('leftPanel'));\n      }\n    }, [dispatch, setActiveOutlinePath, activeOutlinePath, isAddingNewOutline, outline]);\n\n    const isActive = isOutlineActive(outline);\n\n    const convertRgbObjectToRgbString = (rgbObject) => {\n      const rValue = rgbObject['r'] * 255;\n      const gValue = rgbObject['g'] * 255;\n      const bValue = rgbObject['b'] * 255;\n      return `rgb(${rValue}, ${gValue}, ${bValue})`;\n    };\n\n    return (\n      <div\n        ref={(!isAddingNewOutline && !isAnyOutlineRenaming && isMultiSelectMode && isOutlineEditable) ? elementRef : null}\n        className=\"outline-drag-container\"\n        style={{ opacity }}\n      >\n        <div className=\"outline-drag-line\" style={{ opacity: isDraggedUpwards ? 1 : 0 }} />\n        <DataElementWrapper\n          className={classNames({\n            'bookmark-outline-single-container': true,\n            'editing': isRenaming || isChangingDest,\n            'default': !isRenaming && !isChangingDest,\n            'selected': isActive,\n            'hover': isHovered && !isActive,\n          })}\n          tabIndex={0}\n          onKeyDown={(e) => e.key === 'Enter' && onSingleClick()}\n          onClick={(e) => {\n            if (!isRenaming && !isChangingDest && e.detail === 1) {\n              setClearSingleClick(setTimeout(onSingleClick, 300));\n            }\n          }}\n          onDoubleClick={() => {\n            if (!isRenaming && !isChangingDest) {\n              clearTimeout(clearSingleClick);\n            }\n          }}\n        >\n          {isMultiSelectMode &&\n            <Choice\n              type=\"checkbox\"\n              className=\"bookmark-outline-checkbox\"\n              id={`outline-checkbox-${outlinePath}`}\n              checked={isSelected}\n              onClick={(e) => e.stopPropagation()}\n              onChange={(e) => {\n                setIsSelected(e.target.checked);\n                setMultiSelected(outlinePath, e.target.checked);\n              }}\n            />\n          }\n\n          <div\n            className={classNames({\n              'outline-treeview-toggle': true,\n              expanded: isExpanded,\n            })}\n            style={{ marginLeft: outlineUtils.getNestedLevel(outline) * 12 }}\n          >\n            {outline.getChildren().length > 0 &&\n              <Button\n                img=\"icon-chevron-right\"\n                tabIndex={0}\n                onClick={(e) => {\n                  e.stopPropagation();\n                  toggleOutline();\n                }}\n              />\n            }\n          </div>\n\n          <OutlineContent\n            text={outline.getName()}\n            outlinePath={outlinePath}\n            isOutlineRenaming={isRenaming}\n            setOutlineRenaming={setIsRenaming}\n            isOutlineChangingDest={isChangingDest}\n            setOutlineChangingDest={setChangingDest}\n            setIsHovered={setHovered}\n            textColor={outline.color ? convertRgbObjectToRgbString(outline.color) : null}\n          />\n        </DataElementWrapper>\n\n        <div className=\"outline-drag-line\" style={{ opacity: isDraggedDownwards ? 1 : 0 }} />\n\n        {isExpanded &&\n          outline.getChildren().map((child) => (\n            <OutlineNested\n              outline={child}\n              key={outlineUtils.getOutlineId(child)}\n              setMultiSelected={setMultiSelected}\n              moveOutlineInward={moveOutlineInward}\n              moveOutlineBeforeTarget={moveOutlineBeforeTarget}\n              moveOutlineAfterTarget={moveOutlineAfterTarget}\n            />\n          ))\n        }\n        {isAddingNewOutline && isActive && (\n          <DataElementWrapper className=\"bookmark-outline-single-container editing\">\n            <div\n              className=\"outline-treeview-toggle\"\n              style={{ marginLeft: outlineUtils.getNestedLevel(outline) * 12 }}\n            ></div>\n            <OutlineContent\n              isAdding={true}\n              text={''}\n              onCancel={() => setAddingNewOutline(false)}\n            />\n          </DataElementWrapper>\n        )}\n      </div>\n    );\n  }\n);\n\nOutline.propTypes = propTypes;\n\nconst OutlineNested = DropTarget(\n  ItemTypes.OUTLINE,\n  {\n    hover(props, dropTargetMonitor, dropTargetContainer) {\n      if (!dropTargetContainer) {\n        return;\n      }\n\n      const dragObject = dropTargetMonitor.getItem();\n      if (!dragObject) {\n        return;\n      }\n\n      const { dragOutline, dragSourceNode } = dragObject;\n      const { outline: dropOutline } = props;\n\n      const dropTargetNode = dropTargetContainer.getNode();\n      if (!dragSourceNode || !dropTargetNode) {\n        return;\n      }\n\n      const outlineIsBeingDraggedIntoDescendant = dragSourceNode.contains(dropTargetNode);\n      if (outlineIsBeingDraggedIntoDescendant) {\n        dragObject.dropTargetNode = undefined;\n        dragObject.dropLocation = DropLocation.INITIAL;\n        return;\n      }\n\n      dragObject.dropTargetNode = dropTargetNode;\n      const dragIndex = dragOutline.index;\n      const hoverIndex = dropOutline.index;\n      if (dragOutline.parent === dropOutline.parent && dragIndex === hoverIndex) {\n        return;\n      }\n\n      const dropTargetBoundingRect = dropTargetNode.getBoundingClientRect();\n      const dropTargetVerticalMiddlePoint = (dropTargetBoundingRect.bottom - dropTargetBoundingRect.top) / 2;\n      const clientOffset = dropTargetMonitor.getClientOffset();\n      const dropTargetClientY = clientOffset.y - dropTargetBoundingRect.top;\n      switch (true) {\n        case dropTargetClientY <= dropTargetVerticalMiddlePoint + BUFFER_ROOM && dropTargetClientY >= dropTargetVerticalMiddlePoint - BUFFER_ROOM:\n          dragObject.dropLocation = DropLocation.ON_TARGET_HORIZONTAL_MIDPOINT;\n          if (dropTargetMonitor.isOver({ shallow: true })) {\n            dropTargetNode.classList.add('isNesting');\n          }\n          setTimeout(() => {\n            if (dragObject?.dropTargetNode !== dropTargetNode) {\n              dropTargetNode.classList.remove('isNesting');\n            }\n          }, 100);\n          break;\n        case dropTargetClientY > dropTargetVerticalMiddlePoint + BUFFER_ROOM:\n          dragObject.dropLocation = DropLocation.BELOW_TARGET;\n          dropTargetNode.classList.remove('isNesting');\n          break;\n        case dropTargetClientY < dropTargetVerticalMiddlePoint - BUFFER_ROOM:\n          dragObject.dropLocation = DropLocation.ABOVE_TARGET;\n          dropTargetNode.classList.remove('isNesting');\n          break;\n        default:\n          dragObject.dropLocation = DropLocation.INITIAL;\n          dropTargetNode.classList.remove('isNesting');\n          break;\n      }\n      fireEvent(Events.DRAG_OUTLINE,\n        {\n          targetOutline: dropOutline,\n          draggedOutline: dragObject.dragOutline,\n          dropLocation: dragObject.dropLocation\n        }\n      );\n    },\n    drop(props, dropTargetMonitor, dropTargetContainer) {\n      if (!dropTargetContainer) {\n        return;\n      }\n      const dragObject = dropTargetMonitor.getItem();\n      const { dragOutline, dropTargetNode } = dragObject;\n      const { outline: dropOutline, moveOutlineInward, moveOutlineBeforeTarget, moveOutlineAfterTarget } = props;\n\n      if (!dropTargetNode) {\n        return;\n      }\n\n      switch (dragObject.dropLocation) {\n        case DropLocation.ON_TARGET_HORIZONTAL_MIDPOINT:\n          moveOutlineInward(dragOutline, dropOutline);\n          break;\n        case DropLocation.ABOVE_TARGET:\n          moveOutlineBeforeTarget(dragOutline, dropOutline);\n          break;\n        case DropLocation.BELOW_TARGET:\n          moveOutlineAfterTarget(dragOutline, dropOutline);\n          break;\n        default:\n          break;\n      }\n      dropTargetNode.classList.remove('isNesting');\n      fireEvent(Events.DROP_OUTLINE,\n        {\n          targetOutline: dropOutline,\n          draggedOutline: dragOutline,\n          dropLocation: dragObject.dropLocation\n        }\n      );\n      dragObject.dropLocation = DropLocation.INITIAL;\n    }\n  },\n  (connect, dropTargetState) => ({\n    connectDropTarget: connect.dropTarget(),\n    isDraggedUpwards: dropTargetState.isOver({ shallow: true }) && (dropTargetState.getItem()?.dropLocation === DropLocation.ABOVE_TARGET),\n    isDraggedDownwards: dropTargetState.isOver({ shallow: true }) && (dropTargetState.getItem()?.dropLocation === DropLocation.BELOW_TARGET),\n  })\n)(DragSource(\n  ItemTypes.OUTLINE,\n  {\n    beginDrag: (props, dragSourceMonitor, dragSourceContainer) => ({\n      sourceId: dragSourceMonitor.sourceId,\n      dragOutline: props.outline,\n      dragSourceNode: dragSourceContainer.getNode(),\n      dropLocation: DropLocation.INITIAL,\n    }),\n    canDrag() {\n      if (isIE) {\n        console.warn('Drag and drop outlines for IE11 is not supported');\n        return false;\n      }\n      if (!core.isFullPDFEnabled()) {\n        console.warn('Full API must be enabled to drag and drop outlines');\n        return false;\n      }\n      return true;\n    }\n  },\n  (connect, dragSourceState) => ({\n    connectDragSource: connect.dragSource(),\n    connectDragPreview: connect.dragPreview(),\n    isDragging: dragSourceState.isDragging(),\n  })\n)(Outline));\n\nOutlineNested.propTypes = propTypes;\n\nexport default OutlineNested;\n","import Outline from './Outline';\n\nexport default Outline;\n","import React from 'react';\nimport ToggleElementButton from '../ToggleElementButton';\nimport { useDispatch, useSelector } from 'react-redux';\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport DataElements from 'constants/dataElement';\n\nfunction PageManipulationOverlayButtonContainer(props) {\n  const { className, pageIndex } = props;\n\n  const dispatch = useDispatch();\n  const selectedPageIndexes = useSelector((state) => selectors.getSelectedThumbnailPageIndexes(state));\n\n  const onClickPageManipulationOverlayButton = () => {\n    if (selectedPageIndexes.indexOf(pageIndex) === -1) {\n      dispatch(actions.setSelectedPageThumbnails([pageIndex]));\n    }\n  };\n\n  return (\n    <div\n      className={className}\n      onClick={onClickPageManipulationOverlayButton}\n    >\n      <ToggleElementButton\n        dataElement={DataElements.PAGE_MANIPULATION_OVERLAY_BUTTON}\n        element={DataElements.PAGE_MANIPULATION_OVERLAY}\n        img=\"icon-tool-more\"\n        title=\"option.thumbnailPanel.moreOptions\"\n      />\n    </div>\n  );\n}\n\nexport default PageManipulationOverlayButtonContainer;","import PageManipulationOverlayButton from './PageManipulationOverlayButtonContainer';\n\nexport default PageManipulationOverlayButton;","import React from 'react';\nimport { useDispatch, shallowEqual, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { deletePages, rotateClockwise, rotateCounterClockwise } from 'helpers/pageManipulationFunctions';\nimport Button from 'components/Button';\nimport selectors from 'selectors';\nimport './ThumbnailControls.scss';\nimport PageManipulationOverlayButton from 'components/PageManipulationOverlayButton';\nimport { workerTypes } from 'constants/types';\nimport core from 'src/core';\nimport DataElements from 'constants/dataElement';\nimport { useTranslation } from 'react-i18next';\n\nconst propTypes = {\n  index: PropTypes.number.isRequired,\n};\n\nconst dataElementName = 'thumbnailControl';\n\nconst ThumbnailControls = ({ index }) => {\n  const { t } = useTranslation();\n  const [isElementDisabled] = useSelector((state) => [selectors.isElementDisabled(state, dataElementName)]);\n  const [isMoreOptionDisabled] = useSelector((state) => [selectors.isElementDisabled(state, DataElements.PAGE_MANIPULATION_OVERLAY_BUTTON)]);\n  const [isPageDeletionConfirmationModalEnabled, selectedIndexes] = useSelector((state) => [\n    selectors.pageDeletionConfirmationModalEnabled(state),\n    selectors.getSelectedThumbnailPageIndexes(state),\n  ]);\n  const dispatch = useDispatch();\n\n  const [\n    currentPage,\n    pageThumbnailControlMenuItems,\n  ] = useSelector((state) => [\n    selectors.getCurrentPage(state),\n    selectors.getThumbnailControlMenuItems(state),\n  ], shallowEqual);\n\n  let pageNumbers = selectedIndexes.length > 0 ? selectedIndexes.map((i) => i + 1) : [index + 1];\n\n  const isCurrentPageInTheSelection = pageNumbers.includes(currentPage);\n\n  if (!isCurrentPageInTheSelection) {\n    pageNumbers = [currentPage];\n  }\n\n  const document = core.getDocument();\n  const documentType = document?.type;\n  const isXod = documentType === workerTypes.XOD;\n  const isOffice = documentType === workerTypes.OFFICE || documentType === workerTypes.LEGACY_OFFICE;\n\n  const BUTTONS_MAP = {\n    'thumbRotateClockwise': <Button\n      className=\"rotate-button\"\n      img=\"icon-header-page-manipulation-page-rotation-clockwise-line\"\n      onClick={() => rotateClockwise(pageNumbers)}\n      title=\"option.thumbnailPanel.rotatePageClockwise\"\n      dataElement=\"thumbRotateClockwise\"\n    />,\n    'thumbRotateCounterClockwise': <Button\n      img=\"icon-header-page-manipulation-page-rotation-counterclockwise-line\"\n      onClick={() => rotateCounterClockwise(pageNumbers)}\n      title=\"option.thumbnailPanel.rotatePageCounterClockwise\"\n      dataElement=\"thumbRotateCounterClockwise\"\n    />,\n    'thumbDelete': <Button\n      className=\"delete-button\"\n      img=\"icon-delete-line\"\n      onClick={() => deletePages(pageNumbers, dispatch, isPageDeletionConfirmationModalEnabled)}\n      title=\"option.thumbnailPanel.delete\"\n      dataElement=\"thumbDelete\"\n      onClickAnnouncement={`${t('action.delete')} ${t('action.modal')} ${t('action.isOpen')}`}\n    />,\n  };\n  let isCustomized = false;\n  const occurredButtons = [];\n  const buttons = pageThumbnailControlMenuItems.map((item) => {\n    const { dataElement } = item;\n    const key = dataElement;\n    let component = BUTTONS_MAP[dataElement];\n    if (occurredButtons.indexOf(dataElement) > -1) {\n      return null;\n    }\n    occurredButtons.push(dataElement);\n\n    /* Example button object:\n    {\n      title: 'Alert me',\n      img: '/path-to-image',\n      onClick: (selectedPageNumbers) => alert(``),\n      dataElement: 'alertMeDataElement',\n    } */\n    if (!component) {\n      isCustomized = true;\n      const { img, onClick, title } = item;\n      component = <Button\n        className={`${dataElement}-button`}\n        img={img}\n        onClick={() => onClick(currentPage)}\n        title={title}\n        dataElement={dataElement}\n      />;\n    }\n\n    return component\n      ? React.cloneElement(component, {\n        key,\n      })\n      : null;\n  });\n\n  if (isElementDisabled) {\n    return null;\n  } if (isXod || isOffice || document?.isWebViewerServerDocument()) {\n    return (\n      <div className=\"thumbnailControls-overlay\" data-element={dataElementName}\n        style={{ display: 'flex' }}\n      >\n        <Button\n          img=\"icon-header-page-manipulation-page-rotation-counterclockwise-line\"\n          onClick={() => rotateCounterClockwise(pageNumbers)}\n          title=\"option.thumbnailPanel.rotatePageCounterClockwise\"\n          dataElement=\"thumbRotateCounterClockwise\"\n        />\n        <Button\n          img=\"icon-header-page-manipulation-page-rotation-clockwise-line\"\n          onClick={() => rotateClockwise(pageNumbers)}\n          title=\"option.thumbnailPanel.rotatePageClockwise\"\n          dataElement=\"thumbRotateClockwise\"\n        />\n      </div>\n    );\n  }\n  return (\n    <div className={classNames({\n      'thumbnailControls-overlay': true,\n      'custom-buttons': isCustomized,\n    })}\n    data-element={dataElementName}\n    >\n      {buttons}\n      {\n        (isMoreOptionDisabled) ? null : <PageManipulationOverlayButton\n          className={'more-options'}\n          pageIndex={index}\n        />\n      }\n\n    </div>\n  );\n};\n\n\nThumbnailControls.propTypes = propTypes;\n\nexport default ThumbnailControls;\n","import ThumbnailControls from './ThumbnailControls';\n\nexport default ThumbnailControls;\n","import React, { useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport useDidUpdate from 'hooks/useDidUpdate';\nimport core from 'core';\nimport ThumbnailControls from 'components/ThumbnailControls';\nimport thumbnailSelectionModes from 'constants/thumbnailSelectionModes';\n\nimport './Thumbnail.scss';\nimport { Choice } from '@pdftron/webviewer-react-toolkit';\nimport getRootNode from 'helpers/getRootNode';\n\n// adds a delay in ms so thumbs that are only on the screen briefly are not loaded.\nconst THUMBNAIL_LOAD_DELAY = 50;\n\nconst Thumbnail = ({\n  index,\n  isSelected,\n  updateAnnotations,\n  shiftKeyThumbnailPivotIndex,\n  onFinishLoading,\n  onLoad,\n  onRemove = () => { },\n  onDragStart,\n  onDragOver,\n  isDraggable,\n  shouldShowControls,\n  thumbnailSize,\n  currentPage,\n  pageLabels = [],\n  selectedPageIndexes,\n  isThumbnailMultiselectEnabled,\n  isReaderModeOrReadOnly,\n  dispatch,\n  actions,\n  isMobile,\n  canLoad,\n  onCancel,\n  isThumbnailSelectingPages,\n  thumbnailSelectionMode,\n  activeDocumentViewerKey,\n  panelSelector\n}) => {\n  const thumbSize = thumbnailSize ? Number(thumbnailSize) : 150;\n\n  const [dimensions, setDimensions] = useState({ width: thumbSize, height: thumbSize });\n  // To ensure checkmark loads after thumbnail\n  const [loaded, setLoaded] = useState(false);\n\n  let loadTimeout = null;\n\n  const loadThumbnailAsync = () => {\n    loadTimeout = setTimeout(() => {\n      const thumbnailContainer = getRootNode().querySelector(`.ThumbnailsPanel.${panelSelector} #pageThumb${index}`);\n\n      const pageNum = index + 1;\n      const viewerRotation = core.getRotation(pageNum);\n\n      const doc = core.getDocument(activeDocumentViewerKey);\n      // Possible race condition can happen where we try to render a thumbnail for a page that has\n      // been deleted. Prevent that by checking if pageInfo exists\n\n      if (doc && doc.getPageInfo(pageNum)) {\n        const id = doc.loadCanvas({\n          pageNumber: pageNum,\n          width: thumbSize,\n          height: thumbSize,\n          drawComplete: async (thumb) => {\n            const thumbnailContainer = getRootNode().querySelector(`.ThumbnailsPanel.${panelSelector} #pageThumb${index}`);\n            if (thumbnailContainer) {\n              const childElement = thumbnailContainer.querySelector('.page-image');\n              if (childElement) {\n                thumbnailContainer.removeChild(childElement);\n              }\n\n              thumb.className = 'page-image';\n\n              const ratio = Math.min(thumbSize / thumb.width, thumbSize / thumb.height);\n              thumb.style.width = `${thumb.width * ratio}px`;\n              thumb.style.height = `${thumb.height * ratio}px`;\n              setDimensions({ width: Number(thumb.width), height: Number(thumb.height) });\n\n              if (Math.abs(viewerRotation)) {\n                const cssTransform = `rotate(${viewerRotation * 90}deg) translate(-50%,-50%)`;\n                const cssTransformOrigin = 'top left';\n                thumb.style['transform'] = cssTransform;\n                thumb.style['transform-origin'] = cssTransformOrigin;\n                thumb.style['ms-transform'] = cssTransform;\n                thumb.style['ms-transform-origin'] = cssTransformOrigin;\n                thumb.style['-moz-transform'] = cssTransform;\n                thumb.style['-moz-transform-origin'] = cssTransformOrigin;\n                thumb.style['-webkit-transform-origin'] = cssTransformOrigin;\n                thumb.style['-webkit-transform'] = cssTransform;\n                thumb.style['-o-transform'] = cssTransform;\n                thumb.style['-o-transform-origin'] = cssTransformOrigin;\n              }\n\n              thumbnailContainer.appendChild(thumb);\n            }\n\n            if (updateAnnotations) {\n              updateAnnotations(index);\n            }\n\n            onFinishLoading(index);\n            setLoaded(true);\n          },\n          allowUseOfOptimizedThumbnail: true,\n        });\n        onLoad(index, thumbnailContainer, id);\n      }\n    }, THUMBNAIL_LOAD_DELAY);\n  };\n\n  useEffect(() => {\n    const onPagesUpdated = (changes) => {\n      const { contentChanged, moved, added, removed } = changes;\n\n      const currentPage = index + 1;\n\n      const isPageAdded = added.includes(currentPage);\n      const didPageChange = contentChanged.some((changedPage) => currentPage === changedPage);\n      const didPageMove = Object.keys(moved).some((movedPage) => currentPage === parseInt(movedPage));\n      const isPageRemoved = removed.includes(currentPage);\n      const newPageCount = core.getTotalPages();\n\n      if (removed.length > 0 && index + 1 > newPageCount) {\n        return;\n      }\n\n      if (isPageAdded || didPageChange || didPageMove || isPageRemoved) {\n        loadThumbnailAsync();\n      }\n    };\n\n    const onRotationUpdated = () => {\n      setLoaded(false);\n      loadThumbnailAsync();\n    };\n\n    core.addEventListener('pagesUpdated', onPagesUpdated);\n    core.addEventListener('rotationUpdated', onRotationUpdated);\n    if (canLoad) {\n      loadThumbnailAsync();\n    }\n    return () => {\n      core.removeEventListener('pagesUpdated', onPagesUpdated);\n      core.removeEventListener('rotationUpdated', onRotationUpdated);\n      clearTimeout(loadTimeout);\n      onRemove(index);\n    };\n  }, []);\n\n  useDidUpdate(() => {\n    if (canLoad) {\n      loadThumbnailAsync();\n      updateAnnotations(index);\n    } else {\n      onCancel(index);\n    }\n  }, [canLoad, activeDocumentViewerKey]);\n\n  const handleClick = (e) => {\n    const checkboxToggled = e.target.type && e.target.type === 'checkbox';\n    if (isThumbnailMultiselectEnabled && !isReaderModeOrReadOnly) {\n      const multiSelectionKeyPressed = e.ctrlKey || e.metaKey;\n      const shiftKeyPressed = e.shiftKey;\n      let updatedSelectedPages = [...selectedPageIndexes];\n\n      if (shiftKeyPressed) {\n        dispatch(actions.setThumbnailSelectingPages(true));\n        // Include current page as part of selection if we just started shift-selecting\n        let shiftKeyPivot = shiftKeyThumbnailPivotIndex;\n        if (shiftKeyPivot === null) {\n          shiftKeyPivot = currentPage - 1;\n          dispatch(actions.setShiftKeyThumbnailsPivotIndex(shiftKeyPivot));\n        }\n        // get the range of the selected index and update selected page\n        const currSelectMinIndex = Math.min(shiftKeyPivot, index);\n        const currSelectMaxIndex = Math.max(shiftKeyPivot, index);\n        updatedSelectedPages = [...new Set([...Array.from(\n          { length: currSelectMaxIndex - currSelectMinIndex + 1 },\n          (_, i) => i + currSelectMinIndex,\n        )])];\n      } else if (multiSelectionKeyPressed || isThumbnailSelectingPages) {\n        dispatch(actions.setThumbnailSelectingPages(true));\n        // Only select a page if multiSelectionKeyPressed or if checkbox is checked unless in 'thumbnail' mode\n        if (multiSelectionKeyPressed || checkboxToggled || thumbnailSelectionMode === thumbnailSelectionModes['THUMBNAIL']) {\n          // Include current page as part of selection if we just started multi-selecting\n          if (selectedPageIndexes.length === 0 && !isThumbnailSelectingPages) {\n            updatedSelectedPages.push(currentPage - 1);\n          } else if (selectedPageIndexes.includes(index)) {\n            updatedSelectedPages = selectedPageIndexes.filter((pageIndex) => index !== pageIndex);\n          } else {\n            updatedSelectedPages.push(index);\n          }\n        }\n        dispatch(actions.setShiftKeyThumbnailsPivotIndex(index));\n      } else {\n        updatedSelectedPages = [index];\n      }\n      // set shiftKeyPivot when press ctr key or single key\n      const lastSelectedPageIndex = updatedSelectedPages[updatedSelectedPages.length - 1];\n      const shouldUpdateShiftKeyPivotIndex = !isThumbnailSelectingPages && !shiftKeyPressed;\n\n      if (shouldUpdateShiftKeyPivotIndex) {\n        dispatch(actions.setShiftKeyThumbnailsPivotIndex(lastSelectedPageIndex));\n      }\n\n      dispatch(actions.setSelectedPageThumbnails(updatedSelectedPages));\n    } else if (isMobile()) {\n      dispatch(actions.closeElement('leftPanel'));\n    }\n\n    // due to the race condition, we need a settimeout here\n    // otherwise, sometimes the current page will not be visible in left panel\n    setTimeout(() => {\n      // If user clicks on checkbox, it should not automatically jump to that page,\n      // only if the user clicks on thumbnail then go to page and view it, unless in 'thumbnail' mode\n      if (!checkboxToggled || thumbnailSelectionMode === thumbnailSelectionModes['THUMBNAIL']) {\n        core.setCurrentPage(index + 1);\n      }\n    }, 0);\n  };\n\n  const isActive = currentPage === index + 1;\n  const pageLabel = pageLabels[index];\n  let checkboxRotateClass = 'default';\n  const rotation = core.getRotation(index + 1);\n  if ((!rotation || rotation === 2) && dimensions.width > dimensions.height) {\n    checkboxRotateClass = 'rotated';\n  } else if ((rotation === 1 || rotation === 3) && dimensions.width < dimensions.height) {\n    checkboxRotateClass = 'rotated';\n  }\n\n  return (\n    <div\n      className={classNames({\n        Thumbnail: true,\n        active: isActive,\n        selected: isSelected && isThumbnailSelectingPages,\n      })}\n      onDragOver={(e) => onDragOver(e, index)}\n      id=\"Thumbnail-container\"\n    >\n      <div\n        className=\"container\"\n        style={{\n          width: thumbSize,\n          height: thumbSize,\n        }}\n        onDragStart={(e) => onDragStart(e, index)}\n        draggable={isDraggable}\n        onClick={handleClick}\n      >\n        <div id={`pageThumb${index}`} className=\"thumbnail\" />\n        {isThumbnailSelectingPages && loaded && (\n          <Choice className={`checkbox ${checkboxRotateClass}`} checked={selectedPageIndexes.includes(index)} />\n        )}\n      </div>\n      <div className=\"page-label\">{pageLabel}</div>\n      {!isThumbnailSelectingPages && isActive && shouldShowControls && <ThumbnailControls index={index} />}\n    </div>\n  );\n};\n\nexport default Thumbnail;\n","import React from 'react';\nimport { useSelector, shallowEqual, useDispatch } from 'react-redux';\n\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport { isMobile } from 'helpers/device';\n\nimport Thumbnail from './Thumbnail';\n\nconst ThumbnailRedux = (props) => {\n  const [\n    currentPage,\n    pageLabels,\n    selectedPageIndexes,\n    isThumbnailMultiselectEnabled,\n    isReaderMode,\n    isDocumentReadOnly,\n    shiftKeyThumbnailPivotIndex,\n    isThumbnailSelectingPages,\n    thumbnailSelectionMode,\n    activeDocumentViewerKey,\n    selectionModes\n  ] = useSelector(\n    (state) => [\n      selectors.getCurrentPage(state),\n      selectors.getPageLabels(state),\n      selectors.getSelectedThumbnailPageIndexes(state),\n      selectors.isThumbnailMultiselectEnabled(state),\n      selectors.isReaderMode(state),\n      selectors.isDocumentReadOnly(state),\n      selectors.getShiftKeyThumbnailPivotIndex(state),\n      selectors.isThumbnailSelectingPages(state),\n      selectors.getThumbnailSelectionMode(state),\n      selectors.getActiveDocumentViewerKey(state),\n    ],\n    shallowEqual,\n  );\n\n  const dispatch = useDispatch();\n\n  return <Thumbnail {...props} {...{\n    currentPage,\n    pageLabels,\n    selectedPageIndexes,\n    isThumbnailMultiselectEnabled,\n    isReaderModeOrReadOnly: isReaderMode || isDocumentReadOnly,\n    dispatch,\n    actions,\n    isMobile,\n    shiftKeyThumbnailPivotIndex,\n    isThumbnailSelectingPages,\n    thumbnailSelectionMode,\n    selectionModes,\n    activeDocumentViewerKey,\n  }}\n  />;\n};\n\nexport default ThumbnailRedux;\n","import Thumbnail from './ThumbnailRedux';\n\nexport default Thumbnail;","import React from 'react';\nimport ToggleElementButton from 'components/ToggleElementButton';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\nimport DataElements from 'constants/dataElement';\n\nfunction LeftPanelPageTabsMoreSmall() {\n  return (\n    <div className={'dropdown-menu button-hover'}>\n      <ToggleElementButton\n        title=\"action.more\"\n        className={'dropdown-menu'}\n        element={DataElements.THUMBNAILS_CONTROL_MANIPULATE_POPUP_SMALL}\n        dataElement={DataElements.THUMBNAILS_CONTROL_MANIPULATE_POPUP_SMALL_TRIGGER}\n        img=\"icon-tool-more\"\n      />\n      <div className={'indicator'} />\n    </div>\n  );\n}\n\nexport default LeftPanelPageTabsMoreSmall;\n","import React from 'react';\n\nimport ToggleElementButton from 'components/ToggleElementButton';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\n\nfunction LeftPanelPageTabsInsertSmall() {\n  return (\n    <div className={'dropdown-menu'}>\n      <ToggleElementButton\n        title=\"action.PageInsertion\"\n        className={'dropdown-menu'}\n        element=\"thumbnailsControlInsertPopup\"\n        dataElement=\"thumbnailsControlInsertPopupTrigger\"\n        img=\"icon-header-page-manipulation-insert-above\"\n      />\n      <div className={'indicator'} />\n    </div>\n  );\n}\n\nexport default LeftPanelPageTabsInsertSmall;\n","import React from 'react';\nimport Button from 'components/Button';\n\nfunction CustomLeftPanelOperations({ pageNumbers, operations }) {\n  return (\n    <>\n      {operations.map((operation, index) => {\n        return (\n          <Button\n            key={index}\n            className={'button-hover'}\n            dataElement={operation.dataElement}\n            img={operation.img}\n            onClick={() => operation.onClick(pageNumbers)}\n            title={operation.title}\n          />);\n      })\n      }\n    </>\n  );\n}\n\nexport default CustomLeftPanelOperations;\n","import React from 'react';\nimport Button from 'components/Button';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\n\nfunction LeftPanelPageTabsRotate({ onRotateClockwise, onRotateCounterClockwise }) {\n  return (\n    <>\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlRotateCounterClockwise\"\n        img=\"icon-header-page-manipulation-page-rotation-counterclockwise-line\"\n        onClick={onRotateCounterClockwise}\n        title=\"action.rotateCounterClockwise\"\n      />\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlRotateClockwise\"\n        img=\"icon-header-page-manipulation-page-rotation-clockwise-line\"\n        onClick={onRotateClockwise}\n        title=\"action.rotateClockwise\"\n      />\n    </>\n  );\n}\n\nexport default LeftPanelPageTabsRotate;\n","import React from 'react';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\nimport LeftPanelPageTabsMoreSmall from '../LeftPanelPageTabsMoreSmall/LeftPanelPageTabsMoreSmall';\nimport LeftPanelPageTabsInsertSmall from '../LeftPanelPageTabsInsertSmall/LeftPanelPageTabsInsertSmall';\nimport CustomLeftPanelOperations from '../CustomLeftPanelOperations/CustomLeftPanelOperations';\nimport LeftPanelPageTabsRotate from '../LeftPanelPageTabsRotate/LeftPanelPageTabsRotate';\n\nfunction InitialLeftPanelPageTabsSmall({ children, pageNumbers, multiPageManipulationControlsItems }) {\n  const childrenArray = React.Children.toArray(children);\n  if (!multiPageManipulationControlsItems) {\n    return childrenArray;\n  }\n  return multiPageManipulationControlsItems.map((item, index) => {\n    const { dataElement, type } = item;\n    let component = childrenArray.find((child) => child.props.dataElement === dataElement);\n    const key = dataElement || `${type}-${index}`;\n\n    if (!component) {\n      if (type === 'divider') {\n        component = <div className=\"divider\" />;\n      }\n\n      if (type === 'customPageOperation') {\n        component = <CustomLeftPanelOperations key={dataElement} pageNumbers={pageNumbers} {...item} />;\n      }\n    }\n    return component\n      ? React.cloneElement(component, {\n        key,\n      })\n      : null;\n  });\n}\n\n\nfunction LeftPanelPageTabsSmall(props) {\n  const { pageNumbers, multiPageManipulationControlsItemsSmall, onRotateClockwise, onRotateCounterClockwise } = props;\n  return (\n    <div className={'PageControlContainer root small'}>\n      <InitialLeftPanelPageTabsSmall pageNumbers={pageNumbers} multiPageManipulationControlsItems={multiPageManipulationControlsItemsSmall}>\n        <LeftPanelPageTabsRotate onRotateClockwise={onRotateClockwise}\n          onRotateCounterClockwise={onRotateCounterClockwise}\n          dataElement=\"leftPanelPageTabsRotate\"/>\n        <LeftPanelPageTabsInsertSmall dataElement=\"leftPanelPageTabsInsertSmall\" />\n        <LeftPanelPageTabsMoreSmall dataElement=\"leftPanelPageTabsMoreSmall\" />\n      </InitialLeftPanelPageTabsSmall>\n    </div>\n  );\n}\n\nexport default LeftPanelPageTabsSmall;\n","import React from 'react';\nimport ToggleElementButton from 'components/ToggleElementButton';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\nimport DataElements from 'constants/dataElement';\n\nfunction LeftPanelPageTabsMore() {\n  return (\n    <div className={'dropdown-menu button-hover'}>\n      <ToggleElementButton\n        title=\"action.more\"\n        className={'dropdown-menu'}\n        element={DataElements.THUMBNAILS_CONTROL_MANIPULATE_POPUP}\n        dataElement={DataElements.THUMBNAILS_CONTROL_MANIPULATE_POPUP_TRIGGER}\n        img=\"icon-tool-more\"\n      />\n      <div className={'indicator'} />\n    </div>\n  );\n}\n\nexport default LeftPanelPageTabsMore;\n","import React from 'react';\nimport Button from 'components/Button';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\n\nfunction LeftPanelPageTabsMove({ moveToTop, moveToBottom }) {\n  return (\n    <>\n      <Button\n        className={'button-hover'}\n        dataElement=\"moveToTop\"\n        img=\"icon-page-move-up\"\n        onClick={moveToTop}\n        title=\"action.moveToTop\"\n      />\n      <Button\n        className={'button-hover'}\n        dataElement=\"moveToBottom\"\n        img=\"icon-page-move-down\"\n        onClick={moveToBottom}\n        title=\"action.moveToBottom\"\n      />\n    </>\n  );\n}\n\nexport default LeftPanelPageTabsMove;\n","import React from 'react';\n\nimport LeftPanelPageTabsMore from '../LeftPanelPageTabsMore/LeftPanelPageTabsMore';\nimport LeftPanelPageTabsRotate from '../LeftPanelPageTabsRotate/LeftPanelPageTabsRotate';\nimport CustomLeftPanelOperations from '../CustomLeftPanelOperations/CustomLeftPanelOperations';\nimport LeftPanelPageTabsMove from 'components/LeftPanelPageTabs/LeftPanelPageTabsMove/LeftPanelPageTabsMove';\n\n\nfunction InitialLeftPanelPageTabs({ children, pageNumbers, multiPageManipulationControlsItems }) {\n  const childrenArray = React.Children.toArray(children);\n  if (!multiPageManipulationControlsItems) {\n    return childrenArray;\n  }\n  return multiPageManipulationControlsItems.map((item, index) => {\n    const { dataElement, type } = item;\n    let component = childrenArray.find((child) => child.props.dataElement === dataElement);\n    const key = dataElement || `${type}-${index}`;\n\n    if (!component) {\n      if (type === 'divider') {\n        component = <div className=\"divider\" />;\n      }\n\n      if (type === 'customPageOperation') {\n        component = <CustomLeftPanelOperations key={dataElement} pageNumbers={pageNumbers} {...item} />;\n      }\n    }\n    return component\n      ? React.cloneElement(component, {\n        key,\n      })\n      : null;\n  });\n}\n\n\nfunction LeftPanelPageTabs(props) {\n  const {\n    pageNumbers,\n    onRotateClockwise,\n    onRotateCounterClockwise,\n    multiPageManipulationControlsItems,\n    moveToTop,\n    moveToBottom\n  } = props;\n  return (\n    <div className={'PageControlContainer root'}>\n      <InitialLeftPanelPageTabs pageNumbers={pageNumbers} multiPageManipulationControlsItems={multiPageManipulationControlsItems} >\n        <LeftPanelPageTabsRotate onRotateClockwise={onRotateClockwise} onRotateCounterClockwise={onRotateCounterClockwise} dataElement=\"leftPanelPageTabsRotate\" />\n        <LeftPanelPageTabsMove moveToTop={moveToTop} moveToBottom={moveToBottom} dataElement=\"leftPanelPageTabsMove\"/>\n        <LeftPanelPageTabsMore dataElement=\"leftPanelPageTabsMore\" />\n      </InitialLeftPanelPageTabs>\n    </div>\n  );\n}\n\n\nexport default LeftPanelPageTabs;\n","import React from 'react';\nimport Button from 'components/Button';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\n\nfunction LeftPanelPageTabsInsert({ onInsert }) {\n  return (\n    <>\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlInsert\"\n        img=\"icon-page-insertion-insert\"\n        onClick={onInsert}\n        title=\"action.insert\"\n      />\n    </>\n  );\n}\n\nexport default LeftPanelPageTabsInsert;\n","import React from 'react';\nimport Button from 'components/Button';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\n\nfunction LeftPanelPageTabsOperations({ onInsert, onReplace, onExtractPages, onDeletePages }) {\n  return (\n    <>\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlInsert\"\n        img=\"icon-page-insertion-insert\"\n        onClick={onInsert}\n        title=\"action.insert\"\n      />\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlReplace\"\n        img=\"icon-page-replacement\"\n        onClick={onReplace}\n        title=\"action.replace\"\n      />\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlExtract\"\n        img=\"icon-page-manipulation-extract\"\n        onClick={onExtractPages}\n        title=\"action.extract\"\n      />\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlDelete\"\n        img=\"icon-delete-line\"\n        onClick={onDeletePages}\n        title=\"action.delete\"\n      />\n    </>\n  );\n}\n\nexport default LeftPanelPageTabsOperations;\n","import React from 'react';\n\nimport LeftPanelPageTabsInsert from '../LeftPanelPageTabsInsert/LeftPanelPageTabsInsert';\nimport LeftPanelPageTabsRotate from '../LeftPanelPageTabsRotate/LeftPanelPageTabsRotate';\nimport LeftPanelPageTabsOperations from '../LeftPanelPageTabsOperations/LeftPanelPageTabsOperations';\nimport CustomLeftPanelOperations from '../CustomLeftPanelOperations/CustomLeftPanelOperations';\nimport LeftPanelPageTabsMove from '../LeftPanelPageTabsMove/LeftPanelPageTabsMove';\n\n\nfunction InitialLeftPanelPageTabs({ children, pageNumbers, multiPageManipulationControlsItems }) {\n  const childrenArray = React.Children.toArray(children);\n  if (!multiPageManipulationControlsItems) {\n    return childrenArray;\n  }\n  return multiPageManipulationControlsItems.map((item, index) => {\n    const { dataElement, type } = item;\n    let component = childrenArray.find((child) => child.props.dataElement === dataElement);\n    const key = dataElement || `${type}-${index}`;\n\n    if (!component) {\n      if (type === 'divider') {\n        component = <div className=\"divider\" />;\n      }\n\n      if (type === 'customPageOperation') {\n        component = <CustomLeftPanelOperations key={dataElement} pageNumbers={pageNumbers} {...item} />;\n      }\n    }\n    return component\n      ? React.cloneElement(component, {\n        key,\n      })\n      : null;\n  });\n}\n\n\nfunction LeftPanelPageTabsLarge(props) {\n  const { pageNumbers, onRotateClockwise, onRotateCounterClockwise, onInsert, onReplace, onExtractPages, onDeletePages, moveToTop, moveToBottom, multiPageManipulationControlsItems } = props;\n  return (\n    <div className={'PageControlContainer root'}>\n      <InitialLeftPanelPageTabs pageNumbers={pageNumbers} multiPageManipulationControlsItems={multiPageManipulationControlsItems} >\n        <LeftPanelPageTabsRotate onRotateClockwise={onRotateClockwise} onRotateCounterClockwise={onRotateCounterClockwise} dataElement=\"leftPanelPageTabsRotate\" />\n        <LeftPanelPageTabsInsert onInsert={onInsert} dataElement=\"leftPanelPageTabsInsert\" />\n        <LeftPanelPageTabsOperations onReplace={onReplace} onExtractPages={onExtractPages} onDeletePages={onDeletePages} dataElement=\"leftPanelPageTabsOperations\" />\n        <LeftPanelPageTabsMove moveToTop={moveToTop} moveToBottom={moveToBottom} dataElement=\"leftPanelPageTabsMove\" />\n      </InitialLeftPanelPageTabs>\n    </div>\n  );\n}\n\n\nexport default LeftPanelPageTabsLarge;\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport {\n  deletePages,\n  extractPages,\n  noPagesSelectedWarning,\n  replace,\n  rotateClockwise,\n  rotateCounterClockwise,\n  movePagesToBottom,\n  movePagesToTop\n} from 'helpers/pageManipulationFunctions';\nimport LeftPanelPageTabsSmall from 'src/components/LeftPanelPageTabs/LeftPanelPageTabsSmall/LeftPanelPageTabsSmall';\nimport LeftPanelPageTabs from 'components/LeftPanelPageTabs/LeftPanelPageTabs/LeftPanelPageTabs';\nimport { workerTypes } from 'constants/types';\nimport core from 'src/core';\nimport LeftPanelPageTabsRotate from 'components/LeftPanelPageTabs/LeftPanelPageTabsRotate/LeftPanelPageTabsRotate';\nimport LeftPanelPageTabsLarge from './LeftPanelPageTabsLarge/LeftPanelPageTabsLarge';\nimport DataElements from 'constants/dataElement';\nimport { panelMinWidth } from 'constants/panel';\nimport { isMobile as isInMobile } from 'helpers/device';\nimport getRootNode from 'helpers/getRootNode';\n\n// Values come from the CSS\nconst WIDTH_MARGINS = 16 + 8 + 16 + 16 + 16 + 16;\n\nfunction LeftPanelPageTabsContainer({ parentElement }) {\n  const dispatch = useDispatch();\n  const isMobile = isInMobile();\n  const [\n    selectedPageIndexes,\n    panelWidth,\n    deleteModalEnabled,\n    multiPageManipulationControlsItems,\n    multiPageManipulationControlsSmall,\n    multiPageManipulationControlsLarge,\n    isDesktopOnlyMode,\n  ] = useSelector((state) => [\n    selectors.getSelectedThumbnailPageIndexes(state),\n    !parentElement || parentElement === 'leftPanel' ? selectors.getLeftPanelWidth(state) : selectors.getPanelWidth(state, parentElement),\n    selectors.pageDeletionConfirmationModalEnabled(state),\n    selectors.getMultiPageManipulationControlsItems(state),\n    selectors.getMultiPageManipulationControlsItemsSmall(state),\n    selectors.getMultiPageManipulationControlsItemsLarge(state),\n    selectors.isInDesktopOnlyMode(state),\n  ]);\n\n  const pageNumbers = selectedPageIndexes.map((index) => index + 1);\n\n  const openInsertPageModal = () => {\n    dispatch(actions.closeElement(DataElements.PAGE_MANIPULATION_OVERLAY));\n    dispatch(actions.openElement('insertPageModal'));\n  };\n\n  const onReplace = () => !noPagesSelectedWarning(pageNumbers, dispatch) && replace(dispatch);\n  const onExtractPages = () => !noPagesSelectedWarning(pageNumbers, dispatch) && extractPages(pageNumbers, dispatch);\n  const onDeletePages = () => !noPagesSelectedWarning(pageNumbers, dispatch) && deletePages(pageNumbers, dispatch, deleteModalEnabled);\n  const onRotateClockwise = () => !noPagesSelectedWarning(pageNumbers, dispatch) && rotateClockwise(pageNumbers);\n  const onRotateCounterClockwise = () => !noPagesSelectedWarning(pageNumbers, dispatch) && rotateCounterClockwise(pageNumbers);\n  const onInsert = () => !noPagesSelectedWarning(pageNumbers, dispatch) && openInsertPageModal();\n  const moveToTop = () => !noPagesSelectedWarning(pageNumbers, dispatch) && movePagesToTop(pageNumbers);\n  const moveToBottom = () => !noPagesSelectedWarning(pageNumbers, dispatch) && movePagesToBottom(pageNumbers);\n\n  const document = core.getDocument();\n  const documentType = document?.type;\n  const isXod = documentType === workerTypes.XOD;\n  const isOffice = documentType === workerTypes.OFFICE || documentType === workerTypes.LEGACY_OFFICE;\n\n  if (isXod || isOffice || document?.isWebViewerServerDocument()) {\n    return (\n      <div className={'PageControlContainer root small'}>\n        <LeftPanelPageTabsRotate onRotateClockwise={onRotateClockwise} onRotateCounterClockwise={onRotateCounterClockwise} />\n      </div>\n    );\n  }\n\n  const smallBreakPoint = 190;\n  const largeBreakPoint = 290;\n  let widthMinusMargins;\n  if (!isDesktopOnlyMode && isMobile) {\n    try {\n      const appRect = getRootNode().querySelector('.App').getBoundingClientRect();\n      widthMinusMargins = appRect.width - WIDTH_MARGINS;\n    } catch (e) {\n      widthMinusMargins = (panelWidth || panelMinWidth) - WIDTH_MARGINS;\n    }\n  } else {\n    widthMinusMargins = (panelWidth || panelMinWidth) - WIDTH_MARGINS;\n  }\n  const isPanelSmall = widthMinusMargins < smallBreakPoint;\n  const isPanelLarge = widthMinusMargins > largeBreakPoint;\n\n  const childProps = {\n    onReplace,\n    onExtractPages,\n    onDeletePages,\n    onRotateCounterClockwise,\n    onRotateClockwise,\n    onInsert,\n    moveToTop,\n    moveToBottom,\n    pageNumbers,\n  };\n\n  if (isPanelSmall) {\n    return <LeftPanelPageTabsSmall\n      {...childProps}\n      multiPageManipulationControlsItemsSmall={multiPageManipulationControlsSmall}\n    />;\n  }\n\n  if (isPanelLarge) {\n    return <LeftPanelPageTabsLarge\n      {...childProps}\n      multiPageManipulationControlsItems={multiPageManipulationControlsLarge}\n    />;\n  }\n\n\n  return (\n    <LeftPanelPageTabs\n      {...childProps}\n      multiPageManipulationControlsItems={multiPageManipulationControlsItems}\n    />\n  );\n}\n\nexport default LeftPanelPageTabsContainer;\n","import LeftPanelPageTabsContainer from './LeftPanelPageTabsContainer';\n\nexport default LeftPanelPageTabsContainer;","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Button from 'components/Button';\nimport getPageArrayFromString from 'helpers/getPageArrayFromString';\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport pageNumberPlaceholder from 'constants/pageNumberPlaceholder';\nimport core from 'src/core';\nimport { useTranslation } from 'react-i18next';\nimport LeftPanelPageTabs from 'components/LeftPanelPageTabs';\nimport './DocumentControls.scss';\n\nfunction getPageString(selectedPageArray, pageLabels) {\n  let pagesToPrint = '';\n  const sortedPages = selectedPageArray.sort((a, b) => a - b);\n  let prevIndex = null;\n\n  for (let i = 0; sortedPages.length > i; i++) {\n    if (sortedPages[i + 1] === sortedPages[i] + 1) {\n      prevIndex = prevIndex !== null ? prevIndex : sortedPages[i];\n    } else if (prevIndex !== null) {\n      pagesToPrint = `${pagesToPrint}${pageLabels[prevIndex]}-${pageLabels[sortedPages[i]]}, `;\n      prevIndex = null;\n    } else {\n      pagesToPrint = `${pagesToPrint}${pageLabels[sortedPages[i]]}, `;\n    }\n  }\n\n  return pagesToPrint.slice(0, -2);\n}\n\nconst DocumentControls = ({ shouldShowControls, parentElement }) => {\n  const [t] = useTranslation();\n  const dispatch = useDispatch();\n\n  const [\n    selectedPageIndexes,\n    isDisabled,\n    pageLabels,\n    isThumbnailSelectingPages,\n  ] = useSelector((state) => [\n    selectors.getSelectedThumbnailPageIndexes(state),\n    selectors.isElementDisabled(state, 'documentControl'),\n    selectors.getPageLabels(state),\n    selectors.isThumbnailSelectingPages(state),\n  ]);\n\n  const initialPagesString = getPageString(selectedPageIndexes, pageLabels);\n\n  const [pageString, setPageString] = useState(initialPagesString);\n  const [previousPageString, setPreviousPageString] = useState(initialPagesString);\n\n  useEffect(() => {\n    setPageString(getPageString(selectedPageIndexes, pageLabels));\n  }, [setPageString, selectedPageIndexes, shouldShowControls, pageLabels]);\n\n  const onBlur = (e) => {\n    const selectedPagesString = e.target.value.replace(/ /g, '');\n    const pages = !selectedPagesString ? [] : getPageArrayFromString(selectedPagesString, pageLabels);\n    const pageIndexes = pages.map((page) => page - 1);\n\n    if (pages.length || !selectedPagesString) {\n      dispatch(actions.setSelectedPageThumbnails(pageIndexes));\n\n      const updatedString = getPageString(selectedPageIndexes, pageLabels);\n\n      setPageString(updatedString);\n      setPreviousPageString(updatedString);\n    } else {\n      setPageString(previousPageString);\n    }\n\n    if (selectedPageIndexes.length > 0 && !isThumbnailSelectingPages) {\n      // set a short timeout due to race condition caused by onBlur and\n      // changing the documentControlsButton based on isThumbnailSelectingPages\n      setTimeout(() => {\n        enableThumbnailSelectingPages();\n      }, 100);\n    }\n  };\n\n  const pageStringUpdate = (e) => {\n    setPageString(e.target.value);\n  };\n\n  const disableThumbnailSelectingPages = () => {\n    dispatch(actions.setSelectedPageThumbnails([core.getCurrentPage() - 1]));\n    dispatch(actions.setThumbnailSelectingPages(false));\n  };\n\n  const enableThumbnailSelectingPages = () => {\n    dispatch(actions.setThumbnailSelectingPages(true));\n  };\n\n  return isDisabled ? null : (\n    <div className={'documentControlsContainer'} data-element={'documentControl'}>\n      {shouldShowControls ? (\n        <div className={'documentControls'}>\n          <div className={'divider'}></div>\n          {isThumbnailSelectingPages && <LeftPanelPageTabs parentElement={parentElement}/>}\n          <div className={'documentControlsInput'}>\n            <input\n              onBlur={onBlur}\n              onChange={pageStringUpdate}\n              value={pageString}\n              placeholder={pageNumberPlaceholder}\n              aria-label={t('option.thumbnailPanel.enterPageNumbers')}\n              className=\"pagesInput\"\n              type=\"text\"\n            />\n            <div className={'documentControlsButton'}>\n              {!isThumbnailSelectingPages ? (\n                <Button\n                  img={'icon-tool-select-pages'}\n                  title={'option.documentControls.selectTooltip'}\n                  onClick={enableThumbnailSelectingPages}\n                  dataElement={'thumbMultiSelect'}\n                />\n              ) : (\n                <Button\n                  img={'icon-close'}\n                  title={'option.documentControls.closeTooltip'}\n                  onClick={disableThumbnailSelectingPages}\n                  dataElement={'thumbCloseMultiSelect'}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nDocumentControls.propTypes = {\n  isDisabled: PropTypes.bool,\n  pageLabels: PropTypes.arrayOf(PropTypes.string),\n  toggleDocumentControl: PropTypes.func,\n  shouldShowControls: PropTypes.bool,\n};\n\nexport default DocumentControls;\n","import DocumentControls from './DocumentControls';\n\nexport default DocumentControls;","import core from 'core';\nimport actions from 'actions';\nimport extractPagesWithAnnotations from './extractPagesWithAnnotations';\nimport fireEvent from './fireEvent';\nimport Events from 'constants/events';\nimport DataElements from 'src/constants/dataElement';\n\nexport const extractPagesToMerge = (pageNumbers) => {\n  // extract pages and put the data on the iFrame window element for another instance of WebViewer to access\n  window.extractedDataPromise = extractPagesWithAnnotations(pageNumbers);\n  window.pagesExtracted = pageNumbers;\n};\n\nexport const mergeDocument = (srcToMerge, mergeToPage, shouldFireEvent = true) => (dispatch) => {\n  dispatch(actions.openElement(DataElements.LOADING_MODAL));\n\n  return new Promise((resolve, reject) => {\n    core.mergeDocument(srcToMerge, mergeToPage).then((mergeResults) => {\n      dispatch(actions.closeElement(DataElements.LOADING_MODAL));\n      core.setCurrentPage(mergeToPage);\n\n      if (shouldFireEvent) {\n        fireEvent(Events.DOCUMENT_MERGED, mergeResults);\n      }\n\n      resolve(mergeResults);\n    }).catch((err) => {\n      reject(err);\n      dispatch(actions.closeElement(DataElements.LOADING_MODAL));\n    });\n  });\n};\n\nexport const mergeExternalWebViewerDocument = (viewerID, mergeToPage) => (dispatch) => {\n  return new Promise((resolve, reject) => {\n    const otherWebViewerIframe = window.parent.document.querySelector(`#${viewerID}`);\n    if (!otherWebViewerIframe) {\n      console.warn('Could not find other instance of WebViewer');\n      reject();\n    }\n\n    const extractedDataPromise = otherWebViewerIframe.contentWindow.extractedDataPromise;\n    if (!extractedDataPromise) {\n      console.warn('Could not retrieve data from other instance of WebViewer');\n      reject();\n    }\n\n    dispatch(actions.openElement(DataElements.LOADING_MODAL));\n    extractedDataPromise.then((docToMerge) => {\n      dispatch(mergeDocument(docToMerge, mergeToPage, false)).then(({ filename, pages }) => {\n        fireEvent(Events.DOCUMENT_MERGED, { filename, pages: otherWebViewerIframe.contentWindow.pagesExtracted });\n        dispatch(actions.closeElement(DataElements.LOADING_MODAL));\n        resolve({ filename, pages });\n      });\n    }).catch((err) => {\n      dispatch(actions.closeElement(DataElements.LOADING_MODAL));\n      reject(err);\n    });\n  });\n};","import debounce from 'lodash/debounce';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { List } from 'react-virtualized';\nimport Measure from 'react-measure';\nimport classNames from 'classnames';\nimport { isIE11 } from 'helpers/device';\n\nimport Thumbnail from 'components/Thumbnail';\nimport DocumentControls from 'components/DocumentControls';\nimport Button from 'components/Button';\n\nimport core from 'core';\nimport { extractPagesToMerge, mergeDocument, mergeExternalWebViewerDocument } from 'helpers/pageManipulation';\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport Events from 'constants/events';\nimport DataElements from 'constants/dataElement';\nimport fireEvent from 'helpers/fireEvent';\n\nimport './ThumbnailsPanel.scss';\nimport getRootNode from 'helpers/getRootNode';\nimport { useTranslation } from 'react-i18next';\n\nconst dataTransferWebViewerFrameKey = 'dataTransferWebViewerFrame';\n\nconst ZOOM_RANGE_MIN = '100';\nconst ZOOM_RANGE_MAX = '1000';\nconst ZOOM_RANGE_STEP = '50';\nconst MAX_COLUMNS = 16;\n\nconst hoverAreaHeight = 25;\n\nconst ThumbnailsPanel = ({ panelSelector }) => {\n  const [\n    isLeftPanelOpen,\n    isDisabled,\n    totalPages,\n    currentPage,\n    selectedPageIndexes,\n    isThumbnailMergingEnabled,\n    isThumbnailReorderingEnabled,\n    isMultipleViewerMerging,\n    isThumbnailControlDisabled,\n    isThumbnailSliderDisabled,\n    isReaderMode,\n    isDocumentReadOnly,\n    totalPagesFromSecondaryDocumentViewer,\n    activeDocumentViewerKey,\n    isRightClickEnabled,\n  ] = useSelector(\n    (state) => [\n      selectors.isElementOpen(state, 'leftPanel'),\n      selectors.isElementDisabled(state, 'thumbnailsPanel'),\n      selectors.getTotalPages(state),\n      selectors.getCurrentPage(state),\n      selectors.getSelectedThumbnailPageIndexes(state),\n      selectors.getIsThumbnailMergingEnabled(state),\n      selectors.getIsThumbnailReorderingEnabled(state),\n      selectors.getIsMultipleViewerMerging(state),\n      selectors.isElementDisabled(state, 'thumbnailControl'),\n      selectors.isElementDisabled(state, 'thumbnailsSizeSlider'),\n      selectors.isReaderMode(state),\n      selectors.isDocumentReadOnly(state),\n      selectors.getTotalPages(state, 2),\n      selectors.getActiveDocumentViewerKey(state),\n      selectors.openingPageManipulationOverlayByRightClickEnabled(state),\n    ],\n    shallowEqual,\n  );\n\n  const [t] = useTranslation();\n\n  const listRef = useRef();\n  const pendingThumbs = useRef([]);\n  const thumbs = useRef([]);\n  const afterMovePageNumber = useRef(null);\n\n  const [isOfficeEditor, setIsOfficeEditor] = useState(false);\n  const [canLoad, setCanLoad] = useState(true);\n  const [height, setHeight] = useState(0);\n  const [width, setWidth] = useState(0);\n  const [draggingOverPageIndex, setDraggingOverPageIndex] = useState(null);\n  const [isDraggingToPreviousPage, setDraggingToPreviousPage] = useState(false);\n  const [numberOfColumns, setNumberOfColumns] = useState(1);\n  const [isDragging, setIsDragging] = useState(false);\n\n  const [thumbnailSize, setThumbnailSize] = useState(150);\n  const [lastTimeTriggered, setLastTimeTriggered] = useState(0);\n  const [globalIndex, setGlobalIndex] = useState(0);\n  const pageCount = activeDocumentViewerKey === 2 ? totalPagesFromSecondaryDocumentViewer : totalPages;\n\n  const dispatch = useDispatch();\n\n  // If memory becomes an issue, change this to use pageNumbers.\n  // Instead of a debounced drawAnnotations function, perhaps use\n  // a function that first checks for the pageNumber in this map\n  // before calling drawAnnotations on a page.\n  let activeThumbRenders = {};\n\n  const getThumbnailSize = (pageWidth, pageHeight) => {\n    let width;\n    let height;\n    let ratio;\n\n    if (pageWidth > pageHeight) {\n      ratio = pageWidth / thumbnailSize;\n      width = thumbnailSize;\n      height = Math.round(pageHeight / ratio);\n    } else {\n      ratio = pageHeight / thumbnailSize;\n      width = Math.round(pageWidth / ratio); // Chrome has trouble displaying borders of non integer width canvases.\n      height = thumbnailSize;\n    }\n\n    return {\n      width,\n      height,\n    };\n  };\n\n  const updateAnnotations = (pageIndex) => {\n    const thumbContainer = thumbs.current && thumbs.current[pageIndex] && thumbs.current[pageIndex].element;\n    if (!thumbContainer) {\n      return;\n    }\n\n    const pageNumber = pageIndex + 1;\n    const pageWidth = core.getPageWidth(pageNumber);\n    const pageHeight = core.getPageHeight(pageNumber);\n\n    const { width, height } = getThumbnailSize(pageWidth, pageHeight);\n\n    const annotCanvas = thumbContainer.querySelector('.annotation-image') || document.createElement('canvas');\n    annotCanvas.className = 'annotation-image';\n    annotCanvas.style.maxWidth = `${thumbnailSize}px`;\n    annotCanvas.style.maxHeight = `${thumbnailSize}px`;\n    const ctx = annotCanvas.getContext('2d');\n\n    let zoom = 1;\n    let rotation = core.getCompleteRotation(pageNumber);\n    if (rotation < 0) {\n      rotation += 4;\n    }\n    const multiplier = window.Core.getCanvasMultiplier();\n\n    if (rotation % 2 === 0) {\n      annotCanvas.width = width;\n      annotCanvas.height = height;\n      zoom = annotCanvas.width / pageWidth;\n      zoom /= multiplier;\n    } else {\n      annotCanvas.width = height;\n      annotCanvas.height = width;\n\n      zoom = annotCanvas.height / pageWidth;\n      zoom /= multiplier;\n    }\n\n    thumbContainer.appendChild(annotCanvas);\n    core.setAnnotationCanvasTransform(ctx, zoom, rotation);\n\n    let options = {\n      pageNumber,\n      overrideCanvas: annotCanvas,\n    };\n\n    const thumb = thumbContainer.querySelector('.page-image');\n\n    if (thumb) {\n      options = {\n        ...options,\n        overridePageRotation: rotation,\n        overridePageCanvas: thumb,\n      };\n    } else {\n      return;\n    }\n\n    if (!activeThumbRenders[pageNumber]) {\n      activeThumbRenders[pageNumber] = debounce(core.drawAnnotations, 112);\n    }\n    const debouncedDraw = activeThumbRenders[pageNumber];\n    debouncedDraw(options);\n  };\n\n  useEffect(() => {\n    const onBeginRendering = () => {\n      setCanLoad(false);\n    };\n\n    const onFinishedRendering = (needsMoreRendering) => {\n      if (!needsMoreRendering) {\n        setCanLoad(true);\n      }\n    };\n\n    const onDocumentLoaded = () => {\n      if (core.getDocument()?.getType() === 'officeEditor') {\n        setIsOfficeEditor(true);\n      } else {\n        setIsOfficeEditor(false);\n      }\n      activeThumbRenders = {};\n      dispatch(actions.setSelectedPageThumbnails([]));\n    };\n\n    const onPageComplete = () => {\n      if (afterMovePageNumber.current) {\n        core.setCurrentPage(afterMovePageNumber.current);\n        afterMovePageNumber.current = null;\n      }\n    };\n\n    core.addEventListener('beginRendering', onBeginRendering);\n    core.addEventListener('finishedRendering', onFinishedRendering);\n    core.addEventListener('documentLoaded', onDocumentLoaded);\n    core.addEventListener('pageComplete', onPageComplete);\n\n\n    // The document might have already been loaded before this component is mounted.\n    // If document is already loaded, call 'onDocumentLoaded()' manually to update the state properly.\n    if (core.getDocument()) {\n      onDocumentLoaded();\n    }\n\n    return () => {\n      core.removeEventListener('beginRendering', onBeginRendering);\n      core.removeEventListener('finishedRendering', onFinishedRendering);\n      core.removeEventListener('documentLoaded', onDocumentLoaded);\n      core.removeEventListener('pageComplete', onPageComplete);\n    };\n  }, []);\n\n  useEffect(() => {\n    const onPagesUpdated = (changes) => {\n      if (!changes) {\n        return;\n      }\n      let updatedPagesIndexes = Array.from(selectedPageIndexes);\n\n      if (changes.removed) {\n        updatedPagesIndexes = updatedPagesIndexes.filter((pageIndex) => changes.removed.indexOf(pageIndex + 1) === -1);\n      }\n\n      if (changes.moved) {\n        updatedPagesIndexes = updatedPagesIndexes.map((pageIndex) => (changes.moved[pageIndex + 1] ? changes.moved[pageIndex + 1] - 1 : pageIndex),\n        );\n      }\n\n      dispatch(actions.setSelectedPageThumbnails(updatedPagesIndexes));\n    };\n\n    core.addEventListener('pagesUpdated', onPagesUpdated);\n\n    return () => core.removeEventListener('pagesUpdated', onPagesUpdated);\n  }, [selectedPageIndexes]);\n\n  useEffect(() => {\n    listRef.current?.scrollToRow(Math.floor((currentPage - 1) / numberOfColumns));\n    const onAnnotationChanged = (annots) => {\n      const indices = [];\n\n      annots.forEach((annot) => {\n        const pageIndex = annot.PageNumber - 1;\n        if (!annot.Listable || indices.indexOf(pageIndex) > -1) {\n          return;\n        }\n        indices.push(pageIndex);\n\n        updateAnnotations(pageIndex);\n      });\n    };\n\n    const onPageNumberUpdated = (pageNumber) => {\n      const pageIndex = pageNumber - 1;\n      listRef.current?.scrollToRow(Math.floor(pageIndex / numberOfColumns));\n    };\n\n    core.addEventListener('pageNumberUpdated', onPageNumberUpdated);\n    core.addEventListener('annotationChanged', onAnnotationChanged);\n    core.addEventListener('annotationHidden', onAnnotationChanged);\n\n    return () => {\n      core.removeEventListener('pageNumberUpdated', onPageNumberUpdated);\n      core.removeEventListener('annotationChanged', onAnnotationChanged);\n      core.removeEventListener('annotationHidden', onAnnotationChanged);\n    };\n  }, [thumbnailSize, numberOfColumns]);\n\n  useEffect(() => {\n    if (isReaderMode || isDocumentReadOnly) {\n      dispatch(actions.setSelectedPageThumbnails([]));\n      dispatch(actions.setThumbnailSelectingPages(false));\n    }\n  }, [isReaderMode, isDocumentReadOnly]);\n\n  // if disabled, or is office editor or left panel is not open when we are not in customize mode, return\n  if (isDisabled || isOfficeEditor || (!isLeftPanelOpen && !panelSelector)) {\n    return null;\n  }\n  const onDragEnd = () => {\n    setIsDragging(false);\n    setDraggingOverPageIndex(null);\n  };\n\n  const scrollToRowHelper = (index, change, time) => {\n    const now = new Date().getTime();\n    if (index < pageCount - 1 && index > 0 && now - lastTimeTriggered >= time) {\n      listRef.current?.scrollToRow(Math.floor((index + change) / numberOfColumns));\n      setLastTimeTriggered(now);\n      return index + change;\n    }\n    return index;\n  };\n\n  const onDragOver = (e, index) => {\n    // 'preventDefault' to prevent opening pdf dropped in and 'stopPropagation' to keep parent from opening pdf\n    e.preventDefault();\n    e.stopPropagation();\n    if (!isThumbnailReorderingEnabled && !isThumbnailMergingEnabled) {\n      return;\n    }\n\n    const thumbnail = e.target.getBoundingClientRect();\n    if (numberOfColumns > 1) {\n      // row with more than 1 thumbnail so user are dragging to the left and right\n      setDraggingToPreviousPage(!(e.pageX > thumbnail.x + thumbnail.width / 2));\n    } else {\n      setDraggingToPreviousPage(!(e.pageY > thumbnail.y + thumbnail.height / 2));\n    }\n\n    setDraggingOverPageIndex(index);\n    const virtualizedThumbnailContainerElement = getRootNode().querySelector('#virtualized-thumbnails-container');\n    const { y, bottom } = virtualizedThumbnailContainerElement.getBoundingClientRect();\n\n    if (e.pageY < y + hoverAreaHeight * 4) {\n      setGlobalIndex(scrollToRowHelper(index, -1, 400));\n    } else if (e.pageY > bottom - hoverAreaHeight * 4) {\n      setGlobalIndex(scrollToRowHelper(index, 1, 400));\n    }\n  };\n\n  const scrollDown = () => {\n    setGlobalIndex(scrollToRowHelper(globalIndex, 1, 200));\n  };\n  const scrollUp = () => {\n    setGlobalIndex(scrollToRowHelper(globalIndex, -1, 200));\n  };\n\n  const onDragStart = (e, index) => {\n    setGlobalIndex(index);\n    setIsDragging(true);\n    const draggingSelectedPage = selectedPageIndexes.some((i) => i === index);\n    const pagesToMove = draggingSelectedPage ? selectedPageIndexes.map((index) => index + 1) : [index + 1];\n    fireEvent(Events.THUMBNAIL_DRAGGED);\n    // need to set 'text' to empty for drag to work in FireFox and mobile\n    e.dataTransfer.setData('text', '');\n\n    if (pagesToMove.length > 1) {\n      // can't set to null so set to new instance of an image\n      e.dataTransfer.setDragImage(new Image(), 0, 0);\n    }\n\n    if (isThumbnailMergingEnabled && isMultipleViewerMerging) {\n      e.dataTransfer.dropEffect = 'move';\n      e.dataTransfer.effectAllowed = 'all';\n      e.dataTransfer.setData(dataTransferWebViewerFrameKey, window.frameElement.id);\n      extractPagesToMerge(pagesToMove);\n    }\n\n    if (!draggingSelectedPage) {\n      dispatch(actions.setSelectedPageThumbnails([index]));\n    }\n\n    core.setCurrentPage(index + 1);\n  };\n\n  const onDrop = (e) => {\n    e.preventDefault();\n    const { files } = e.dataTransfer;\n    const insertTo = isDraggingToPreviousPage ? draggingOverPageIndex + 1 : draggingOverPageIndex + 2;\n    let externalPageWebViewerFrameId;\n    if (!isIE11) {\n      // at this time of writing, IE11 does not really have support for getData\n      externalPageWebViewerFrameId = e.dataTransfer.getData(dataTransferWebViewerFrameKey);\n    }\n    const mergingDocument =\n      (externalPageWebViewerFrameId && window.frameElement.id !== externalPageWebViewerFrameId) || files.length;\n    const currentPageIndex = currentPage - 1;\n\n    if (isThumbnailMergingEnabled && mergingDocument) {\n      if (externalPageWebViewerFrameId && window.frameElement.id !== externalPageWebViewerFrameId) {\n        dispatch(mergeExternalWebViewerDocument(externalPageWebViewerFrameId, insertTo));\n      } else if (files.length) {\n        Array.from(files).forEach((file) => {\n          dispatch(mergeDocument(file, insertTo));\n        });\n      }\n    } else if (isThumbnailReorderingEnabled && !mergingDocument) {\n      if (draggingOverPageIndex !== null) {\n        const targetPageNumber = isDraggingToPreviousPage ? draggingOverPageIndex + 1 : draggingOverPageIndex + 2;\n        const draggingSelectedPage = selectedPageIndexes.some((i) => i === currentPageIndex);\n        const pageNumbersToMove = draggingSelectedPage ? selectedPageIndexes.map((i) => i + 1) : [currentPage];\n        afterMovePageNumber.current = targetPageNumber - pageNumbersToMove.filter((p) => p < targetPageNumber).length;\n        core.movePages(pageNumbersToMove, targetPageNumber);\n        const updatedPagesNumbers = [];\n        for (let offset = 0; offset < pageNumbersToMove.length; offset++) {\n          updatedPagesNumbers.push(afterMovePageNumber.current + offset);\n        }\n        fireEvent(Events.THUMBNAIL_DROPPED, { pageNumbersBeforeMove: pageNumbersToMove, pagesNumbersAfterMove: updatedPagesNumbers, numberOfPagesMoved: updatedPagesNumbers.length });\n      }\n    }\n    setDraggingOverPageIndex(null);\n    setIsDragging(false);\n  };\n\n  const onLoad = (pageIndex, element, id) => {\n    if (!thumbIsLoaded(pageIndex) && !thumbIsPending(pageIndex)) {\n      thumbs.current[pageIndex] = {\n        element,\n        loaded: false,\n      };\n\n      pendingThumbs.current.push({\n        pageIndex,\n        id,\n      });\n    }\n  };\n\n  const removeFromPendingThumbs = (pageIndex) => {\n    const index = getPendingThumbIndex(pageIndex);\n    if (index !== -1) {\n      pendingThumbs.current.splice(index, 1);\n    }\n  };\n\n  const thumbIsLoaded = (pageIndex) => thumbs.current[pageIndex]?.loaded;\n\n  const thumbIsPending = (pageIndex) => getPendingThumbIndex(pageIndex) !== -1;\n\n  const onCancel = (pageIndex) => {\n    const index = getPendingThumbIndex(pageIndex);\n    if (index !== -1) {\n      core.cancelLoadThumbnail(pendingThumbs.current[index].id);\n      pendingThumbs.current.splice(index, 1);\n    }\n  };\n\n  const onRightClick = (event, pageIndex) => {\n    event.preventDefault();\n    core.setCurrentPage(pageIndex + 1);\n    if (!selectedPageIndexes.includes(pageIndex)) {\n      dispatch(actions.setSelectedPageThumbnails([pageIndex]));\n    }\n\n    if (isReaderMode || isDocumentReadOnly) {\n      return;\n    }\n\n    dispatch(actions.setPageManipulationOverlayAlternativePosition({ left: event.pageX, right: 'auto', top: event.pageY }));\n    dispatch(actions.openElements([DataElements.PAGE_MANIPULATION_OVERLAY]));\n  };\n\n  const getPendingThumbIndex = (pageIndex) => pendingThumbs.current.findIndex((thumbStatus) => thumbStatus.pageIndex === pageIndex);\n\n  const onRemove = (pageIndex) => {\n    onCancel(pageIndex);\n    const canvases = thumbs.current[pageIndex]?.element?.querySelectorAll('canvas');\n    if (canvases?.length) {\n      canvases.forEach((c) => {\n        c.height = 0;\n        c.width = 0;\n      });\n    }\n\n    if (activeThumbRenders[pageIndex]) {\n      activeThumbRenders[pageIndex].cancel();\n    }\n    thumbs.current[pageIndex] = null;\n  };\n\n  const renderThumbnails = ({ index, key, style }) => {\n    const className = classNames({\n      columnsOfThumbnails: numberOfColumns > 1,\n      row: true,\n    });\n    const allowPageOperationsUI = !(isReaderMode || isDocumentReadOnly);\n\n    return (\n      <div role=\"row\" aria-label=\"row\" className={className} key={key} style={style}>\n        {new Array(numberOfColumns).fill().map((_, columnIndex) => {\n          const thumbIndex = index * numberOfColumns + columnIndex;\n          const allowDragAndDrop = allowPageOperationsUI && (isThumbnailMergingEnabled || isThumbnailReorderingEnabled);\n          const showPlaceHolder = allowDragAndDrop && draggingOverPageIndex === thumbIndex;\n\n          return thumbIndex < pageCount ? (\n            <React.Fragment key={thumbIndex}>\n              {(numberOfColumns > 1 || thumbIndex === 0) && showPlaceHolder && isDraggingToPreviousPage && <div key={`placeholder1-${thumbIndex}`} className=\"thumbnailPlaceholder\" />}\n              <div key={thumbIndex} role=\"cell\" onDragEnd={onDragEnd} className=\"cellThumbContainer\" onContextMenu={(e) => isRightClickEnabled && onRightClick(e, thumbIndex)}>\n                <Thumbnail\n                  isDraggable={allowDragAndDrop}\n                  isSelected={selectedPageIndexes.includes(thumbIndex)}\n                  index={thumbIndex}\n                  canLoad={canLoad}\n                  onLoad={onLoad}\n                  onCancel={onCancel}\n                  onRemove={onRemove}\n                  onDragStart={onDragStart}\n                  onDragOver={onDragOver}\n                  onFinishLoading={removeFromPendingThumbs}\n                  updateAnnotations={updateAnnotations}\n                  shouldShowControls={allowPageOperationsUI}\n                  thumbnailSize={thumbnailSize}\n                  panelSelector={panelSelector}\n                />\n              </div>\n              {showPlaceHolder && !isDraggingToPreviousPage && <div key={`placeholder2-${thumbIndex}`} className=\"thumbnailPlaceholder\" />}\n            </React.Fragment>\n          ) : null;\n        })}\n      </div>\n    );\n  };\n\n  const onPanelResize = ({ bounds }) => {\n    setHeight(bounds.height);\n    setWidth(bounds.width);\n    setNumberOfColumns(Math.min(MAX_COLUMNS, Math.max(1, Math.floor(bounds.width / thumbnailSize))));\n  };\n\n  const updateNumberOfColumns = () => {\n    setNumberOfColumns(Math.min(MAX_COLUMNS, Math.max(1, Math.floor(width / thumbnailSize))));\n  };\n\n  const thumbnailHeight = isThumbnailControlDisabled ? Number(thumbnailSize) + 50 : Number(thumbnailSize) + 80;\n  const shouldShowControls = !(isReaderMode || isDocumentReadOnly);\n  const thumbnailAutoScrollAreaStyle = {\n    'height': `${hoverAreaHeight}px`,\n  };\n\n  return (\n    <React.Fragment>\n      {!isThumbnailSliderDisabled && <div data-element=\"thumbnailsSizeSlider\" className=\"thumbnail-slider-container\">\n        <Button\n          img=\"icon-zoom-thumb-out\"\n          title=\"action.zoomOut\"\n          hideTooltipShortcut\n          onClick={() => {\n            if (thumbnailSize - Number(ZOOM_RANGE_STEP) > Number(ZOOM_RANGE_STEP)) {\n              setThumbnailSize(thumbnailSize - Number(ZOOM_RANGE_STEP));\n              updateNumberOfColumns();\n            }\n          }}\n          dataElement=\"zoomThumbOutButton\"\n        />\n        <input\n          role='slider'\n          type=\"range\"\n          aria-label='thumbnail size slider'\n          min={ZOOM_RANGE_MIN}\n          max={ZOOM_RANGE_MAX}\n          value={thumbnailSize}\n          aria-valuemin={ZOOM_RANGE_MIN}\n          aria-valuemax={ZOOM_RANGE_MAX}\n          aria-valuenow={thumbnailSize}\n          onChange={(e) => {\n            setThumbnailSize(Number(e.target.value));\n            updateNumberOfColumns();\n          }}\n          step={ZOOM_RANGE_STEP}\n          className=\"thumbnail-slider\"\n          id=\"thumbnailSize\"\n        />\n        <Button\n          img=\"icon-zoom-thumb-in\"\n          title=\"action.zoomIn\"\n          hideTooltipShortcut\n          onClick={() => {\n            if (thumbnailSize + Number(ZOOM_RANGE_STEP) < 1001) {\n              setThumbnailSize(thumbnailSize + Number(ZOOM_RANGE_STEP));\n              updateNumberOfColumns();\n            }\n          }}\n          dataElement=\"zoomThumbInButton\"\n        />\n      </div>}\n      <Measure bounds onResize={onPanelResize} key={thumbnailSize}>\n        {({ measureRef }) => (\n          <div className={`Panel ThumbnailsPanel ${panelSelector}`} id=\"virtualized-thumbnails-container\" data-element=\"thumbnailsPanel\" onDrop={onDrop} ref={measureRef}>\n            <div className=\"virtualized-thumbnails-container\">\n              {isDragging ?\n                <div className=\"thumbnailAutoScrollArea\" onDragOver={scrollUp} style={thumbnailAutoScrollAreaStyle}></div> : ''\n              }\n              <List\n                ref={listRef}\n                height={height}\n                width={width}\n                rowHeight={thumbnailHeight}\n                // Round it to a whole number because React-Virtualized list library doesn't round it for us and throws errors when rendering non whole number rows\n                // use ceiling rather than floor so that an extra row can be created in case the items can't be evenly distributed between rows\n                rowCount={Math.ceil(pageCount / numberOfColumns)}\n                rowRenderer={renderThumbnails}\n                overscanRowCount={3}\n                className={'thumbnailsList'}\n                style={{ outline: 'none' }}\n                // Ensure we show the current page in the thumbnails when we open the panel\n                scrollToIndex={Math.floor((currentPage - 1) / numberOfColumns)}\n                role='grid'\n                aria-label={t('component.thumbnailsPanel')}\n              />\n              {isDragging ?\n                <div className=\"thumbnailAutoScrollArea\" onDragOver={scrollDown} style={{ ...thumbnailAutoScrollAreaStyle, 'bottom': '70px' }}></div> : ''\n              }\n            </div>\n          </div>\n        )}\n      </Measure>\n      <DocumentControls shouldShowControls={shouldShowControls} parentElement={panelSelector}/>\n    </React.Fragment>\n  );\n};\n\nexport default ThumbnailsPanel;\n","import ThumbnailsPanel from './ThumbnailsPanel';\n\nexport default ThumbnailsPanel;\n","import React, { useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport classNames from 'classnames';\nimport core from 'core';\nimport PropTypes from 'prop-types';\n\nimport Button from '../Button';\nimport DataElementWrapper from '../DataElementWrapper';\nimport MoreOptionsContextMenuPopup from '../MoreOptionsContextMenuPopup';\nimport Choice from 'components/Choice';\n\nconst propTypes = {\n  text: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  defaultLabel: PropTypes.string,\n  pageIndex: PropTypes.number.isRequired,\n  isAdding: PropTypes.bool,\n  isMultiSelectionMode: PropTypes.bool,\n  setSelected: PropTypes.func,\n  onSave: PropTypes.func.isRequired,\n  onRemove: PropTypes.func,\n  onCancel: PropTypes.func,\n  panelSelector: PropTypes.string,\n};\n\nconst Bookmark = ({\n  text,\n  label,\n  defaultLabel,\n  pageIndex,\n  isAdding,\n  isMultiSelectionMode,\n  setSelected,\n  onSave,\n  onRemove,\n  onCancel,\n  panelSelector,\n}) => {\n  const [t] = useTranslation();\n\n  const [isEditing, setIsEditing] = useState(false);\n  const [isDefault, setIsDefault] = useState(false);\n  const [bookmarkText, setBookmarkText] = useState(text);\n  const [isContextMenuOpen, setContextMenuOpen] = useState(false);\n  const [clearSingleClick, setClearSingleClick] = useState(undefined);\n  const inputRef = useRef();\n\n  const isRenameButtonDisabled = () => {\n    return !bookmarkText || text === bookmarkText;\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      e.stopPropagation();\n      if (isAdding || (isEditing && !isRenameButtonDisabled())) {\n        onSaveBookmark();\n      }\n    }\n    if (e.key === 'Escape') {\n      onCancelBookmark();\n    }\n  };\n\n  const onSaveBookmark = () => {\n    setIsEditing(false);\n    onSave(bookmarkText.trim() === '' ? t('message.untitled') : bookmarkText);\n  };\n\n  const onCancelBookmark = () => {\n    setIsEditing(false);\n    // on cancel reset local bookmark text\n    isEditing && setBookmarkText(text);\n    isAdding && onCancel();\n  };\n\n  const setCurrentPage = (pageIndex) => {\n    core.setCurrentPage(pageIndex + 1);\n  };\n\n  useEffect(() => {\n    if (bookmarkText !== text) {\n      setBookmarkText(text);\n    }\n  }, [text]);\n\n  useEffect(() => {\n    if (isAdding || isEditing) {\n      inputRef.current.focus();\n      inputRef.current.select();\n    }\n\n    if (!isAdding && !isEditing) {\n      setIsDefault(true);\n    } else {\n      setIsDefault(false);\n    }\n  }, [isEditing]);\n\n  return (\n    <DataElementWrapper\n      className={classNames({\n        'bookmark-outline-single-container': true,\n        'editing': isAdding || isEditing,\n        'default': isDefault,\n        'hover': isContextMenuOpen,\n      })}\n      tabIndex={0}\n      onKeyDown={(e) => {\n        if (e.key === 'Enter') {\n          setCurrentPage(pageIndex);\n        }\n      }}\n      onClick={(e) => {\n        if (isDefault && e.detail === 1) {\n          setClearSingleClick(setTimeout(() => {\n            setCurrentPage(pageIndex);\n          }, 300));\n        }\n      }}\n      onDoubleClick={() => {\n        if (isDefault) {\n          clearTimeout(clearSingleClick);\n        }\n      }}\n    >\n      {isMultiSelectionMode &&\n        <Choice\n          type=\"checkbox\"\n          className=\"bookmark-outline-checkbox\"\n          id={`bookmark-checkbox-${pageIndex + 1}`}\n          onClick={(e) => e.stopPropagation()}\n          onChange={(e) => setSelected(pageIndex, e.target.checked)}\n        />\n      }\n\n      <div className=\"bookmark-outline-label-row\">\n        <div className=\"bookmark-outline-label\">{(isAdding || isEditing) ? label : defaultLabel}</div>\n\n        {isDefault &&\n          <>\n            {isMultiSelectionMode &&\n              <Button\n                className=\"bookmark-outline-more-button\"\n                dataElement={`bookmark-more-button-${pageIndex}`}\n                img=\"icon-pencil-line\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  setIsEditing(true);\n                }}\n                tabIndex={-1}\n              />\n            }\n            {!isMultiSelectionMode &&\n              <Button\n                className=\"bookmark-outline-more-button\"\n                dataElement={`bookmark-more-button-${panelSelector}-${pageIndex}`}\n                img=\"icon-tool-more\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  setContextMenuOpen(true);\n                }}\n                tabIndex={-1}\n              />\n            }\n            {isContextMenuOpen && (\n              <MoreOptionsContextMenuPopup\n                type={'bookmark'}\n                anchorButton={`bookmark-more-button-${panelSelector}-${pageIndex}`}\n                shouldDisplayDeleteButton={true}\n                onClosePopup={() => setContextMenuOpen(false)}\n                onRenameClick={() => {\n                  setContextMenuOpen(false);\n                  setIsEditing(true);\n                }}\n                onDeleteClick={() => {\n                  setContextMenuOpen(false);\n                  onRemove(pageIndex);\n                }}\n              />\n            )}\n\n            <div\n              className=\"bookmark-outline-text bookmark-text-input\"\n              onDoubleClick={() => setIsEditing(true)}\n            >\n              {text}\n            </div>\n          </>\n        }\n\n        {(isAdding || isEditing) &&\n          <>\n            <input\n              type=\"text\"\n              name=\"bookmark\"\n              ref={inputRef}\n              className=\"bookmark-outline-input bookmark-text-input\"\n              placeholder={t('component.bookmarkTitle')}\n              aria-label={t('action.name')}\n              value={bookmarkText}\n              onKeyDown={handleKeyDown}\n              onChange={(e) => setBookmarkText(e.target.value)}\n            />\n\n            <div className=\"bookmark-outline-editing-controls\">\n              <Button\n                className=\"bookmark-outline-cancel-button\"\n                label={t('action.cancel')}\n                onClick={onCancelBookmark}\n              />\n              {isAdding &&\n                <Button\n                  className=\"bookmark-outline-save-button\"\n                  label={t('action.add')}\n                  isSubmitType\n                  onClick={onSaveBookmark}\n                />\n              }\n              {isEditing &&\n                <Button\n                  className=\"bookmark-outline-save-button\"\n                  label={t('action.save')}\n                  isSubmitType\n                  disabled={isRenameButtonDisabled()}\n                  onClick={onSaveBookmark}\n                />\n              }\n            </div>\n          </>\n        }\n      </div>\n    </DataElementWrapper>\n  );\n};\n\nBookmark.propTypes = propTypes;\n\nexport default Bookmark;\n","import Bookmark from './Bookmark';\n\nexport default Bookmark;\n","import React, { useEffect, useState } from 'react';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport Bookmark from 'components/Bookmark';\nimport Button from 'components/Button';\nimport DataElementWrapper from 'components/DataElementWrapper';\nimport DataElements from 'constants/dataElement';\nimport Choice from 'components/Choice';\n\nimport core from 'core';\nimport actions from 'actions';\nimport selectors from 'selectors';\n\nimport '../../constants/bookmarksOutlinesShared.scss';\nimport './BookmarksPanel.scss';\n\nconst BookmarksPanel = ({ panelSelector }) => {\n  const [\n    isDisabled,\n    bookmarks,\n    currentPageIndex,\n    pageLabels,\n    isBookmarkIconShortcutVisible\n  ] = useSelector(\n    (state) => [\n      selectors.isElementDisabled(state, DataElements.BOOKMARK_PANEL),\n      selectors.getBookmarks(state),\n      selectors.getCurrentPage(state) - 1,\n      selectors.getPageLabels(state),\n      selectors.isBookmarkIconShortcutVisible(state),\n    ],\n    shallowEqual,\n  );\n\n  const [isAddingNewBookmark, setAddingNewBookmark] = useState(false);\n  const [isMultiSelectionMode, setMultiSelectionMode] = useState(false);\n  const [selectingBookmarks, setSelectingBookmarks] = useState([]);\n\n  const [t] = useTranslation();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (isBookmarkIconShortcutVisible && !isDisabled) {\n      core.setBookmarkIconShortcutVisibility(true);\n    } else {\n      core.setBookmarkIconShortcutVisibility(false);\n    }\n  }, [isDisabled, isBookmarkIconShortcutVisible]);\n\n  const pageIndexes = Object.keys(bookmarks).map((pageIndex) => parseInt(pageIndex, 10));\n\n  useEffect(() => {\n    // if bookmark is deleted from the shortcut, should also remove from selectingBookmarks\n    selectingBookmarks.forEach((index) => {\n      if (!pageIndexes.includes(index)) {\n        setSelectingBookmarks(selectingBookmarks.filter((bm) => bm !== index));\n      }\n    });\n\n    const shouldResetMultiSelectMode = pageIndexes.length === 0;\n    if (shouldResetMultiSelectMode) {\n      setMultiSelectionMode(false);\n    }\n  }, [bookmarks]);\n\n  const onRemoveBookmarks = (pageIndexes) => {\n    const title = t('warning.deleteBookmark.title');\n    const message = t('warning.deleteBookmark.message');\n    const confirmationWarning = {\n      message,\n      title,\n      onConfirm: () => {\n        pageIndexes.forEach((pageIndex) => dispatch(actions.removeBookmark(pageIndex)));\n        setSelectingBookmarks([]);\n      },\n      confirmBtnText: t('action.delete'),\n    };\n    dispatch(actions.showWarningMessage(confirmationWarning));\n  };\n\n  if (isDisabled) {\n    return null;\n  }\n\n  return (\n    <div\n      className={`Panel BookmarksPanel bookmark-outline-panel ${panelSelector}`}\n      data-element={DataElements.BOOKMARK_PANEL}\n    >\n      <div className=\"bookmark-outline-panel-header\">\n        <div className=\"header-title\">\n          {t('component.bookmarksPanel')}\n        </div>\n        {!isMultiSelectionMode &&\n          <Button\n            className=\"bookmark-outline-control-button\"\n            dataElement={DataElements.BOOKMARK_MULTI_SELECT}\n            label={t('action.edit')}\n            disabled={isAddingNewBookmark || pageIndexes.length === 0}\n            onClick={() => setMultiSelectionMode(true)}\n          />\n        }\n        {isMultiSelectionMode &&\n          <Button\n            className=\"bookmark-outline-control-button\"\n            dataElement={DataElements.BOOKMARK_MULTI_SELECT}\n            label={t('option.bookmarkOutlineControls.done')}\n            disabled={isAddingNewBookmark}\n            onClick={() => {\n              setMultiSelectionMode(false);\n              setSelectingBookmarks([]);\n            }}\n          />\n        }\n      </div>\n\n      <Choice\n        dataElement={DataElements.BOOKMARK_SHORTCUT_OPTION}\n        type=\"checkbox\"\n        isSwitch\n        id=\"bookmark-view-option\"\n        className=\"bookmark-switch\"\n        label={t('message.viewBookmark')}\n        checked={isBookmarkIconShortcutVisible}\n        onChange={(e) => dispatch(actions.setBookmarkIconShortcutVisibility(e.target.checked))}\n      />\n\n      {!isAddingNewBookmark && pageIndexes.length === 0 && (\n        <div className=\"msg msg-no-bookmark-outline\">{t('message.noBookmarks')}</div>\n      )}\n\n      <div className=\"bookmark-outline-row\">\n        {isAddingNewBookmark &&\n          <Bookmark\n            isAdding\n            label={`${t('component.bookmarkPage')} ${pageLabels[currentPageIndex]} - ${t('component.bookmarkTitle')}`}\n            text={bookmarks[currentPageIndex] ?? ''}\n            pageIndex={currentPageIndex}\n            onSave={(newText) => {\n              dispatch(actions.addBookmark(currentPageIndex, newText));\n              setAddingNewBookmark(false);\n            }}\n            onCancel={() => setAddingNewBookmark(false)}\n            panelSelector={panelSelector}\n          />\n        }\n\n        {pageIndexes.map((pageIndex) => (\n          <Bookmark\n            key={pageIndex}\n            panelSelector={panelSelector}\n            isMultiSelectionMode={isMultiSelectionMode}\n            label={`${t('component.bookmarkPage')} ${pageLabels[pageIndex]} - ${t('component.bookmarkTitle')}`}\n            defaultLabel={`${t('component.bookmarkPage')} ${pageLabels[pageIndex]}`}\n            text={bookmarks[pageIndex]}\n            pageIndex={pageIndex}\n            onSave={(newText) => dispatch(actions.editBookmark(pageIndex, newText))}\n            onRemove={(index) => onRemoveBookmarks([index])}\n            setSelected={(index, val) => {\n              if (selectingBookmarks.find((bm) => bm === index)) {\n                if (!val) {\n                  setSelectingBookmarks(selectingBookmarks.filter((bm) => bm !== index));\n                }\n              } else {\n                if (val) {\n                  setSelectingBookmarks([...selectingBookmarks, index]);\n                }\n              }\n            }}\n          />\n        ))}\n      </div>\n\n      <DataElementWrapper\n        className=\"bookmark-outline-footer\"\n        dataElement={DataElements.BOOKMARK_ADD_NEW_BUTTON_CONTAINER}\n      >\n        {isMultiSelectionMode ?\n          <>\n            <Button\n              className=\"multi-selection-button\"\n              img=\"icon-menu-add\"\n              disabled={selectingBookmarks.length > 0 || !!bookmarks[currentPageIndex] || isAddingNewBookmark}\n              onClick={() => setAddingNewBookmark(true)}\n            />\n            <Button\n              className=\"multi-selection-button\"\n              img=\"icon-delete-line\"\n              disabled={selectingBookmarks.length === 0}\n              onClick={() => onRemoveBookmarks(selectingBookmarks)}\n            />\n          </>\n          :\n          <Button\n            className=\"bookmark-outline-control-button add-new-button\"\n            img=\"icon-menu-add\"\n            dataElement={DataElements.BOOKMARK_ADD_NEW_BUTTON}\n            label={`${t('action.add')} ${t('component.bookmarkPanel')}`}\n            disabled={isAddingNewBookmark || !!bookmarks[currentPageIndex]}\n            onClick={() => setAddingNewBookmark(true)}\n          />\n        }\n      </DataElementWrapper>\n    </div>\n  );\n};\n\nexport default BookmarksPanel;\n","import BookmarksPanel from './BookmarksPanel';\n\nexport default BookmarksPanel;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport ColorPicker from 'components/StylePicker/ColorPicker';\nimport core from 'core';\nimport actions from 'actions';\nimport selectors from 'selectors';\nimport './RichTextStyleEditor.scss';\nimport DataElements from 'constants/dataElement';\nimport TextStylePicker from 'components/TextStylePicker';\n\nconst propTypes = {\n  annotation: PropTypes.object,\n  editor: PropTypes.object,\n  style: PropTypes.shape({\n    TextColor: PropTypes.string,\n    RichTextStyle: PropTypes.any,\n  }),\n  isFreeTextAutoSize: PropTypes.bool,\n  onFreeTextSizeToggle: PropTypes.func,\n  onPropertyChange: PropTypes.func,\n  onRichTextStyleChange: PropTypes.func,\n};\n\nconst RichTextStyleEditor = ({\n  annotation, editor,\n  style,\n  isFreeTextAutoSize,\n  onFreeTextSizeToggle,\n  onPropertyChange,\n  onRichTextStyleChange,\n}) => {\n  const [\n    fonts,\n  ] = useSelector(\n    (state) => [\n      selectors.getFonts(state),\n    ],\n    shallowEqual,\n  );\n\n  const [isRichTextEditMode, setIsRichTextEditMode] = useState(false);\n  const [format, setFormat] = useState({});\n  const editorRef = useRef(null);\n  const annotationRef = useRef(null);\n  const propertiesRef = useRef({});\n  const dispatch = useDispatch();\n  const oldSelectionRef = useRef();\n\n  useEffect(() => {\n    const handleSelectionChange = (range, oldRange) => {\n      const shouldRestoreLostSelection = !range && oldRange && editorRef.current;\n      if (shouldRestoreLostSelection) {\n        editorRef.current.setSelection(oldRange.index, oldRange.length);\n      }\n      if (range && editorRef.current) {\n        setFormat(getFormat(range));\n      }\n    };\n    const handleTextChange = () => {\n      setFormat(getFormat(editorRef.current?.getSelection()));\n    };\n    core.addEventListener('editorSelectionChanged', handleSelectionChange);\n    core.addEventListener('editorTextChanged', handleTextChange);\n    // Have to disable instead of closing because annotation popup will reopen itself\n    dispatch(actions.disableElements([DataElements.ANNOTATION_STYLE_POPUP]));\n    return () => {\n      core.removeEventListener('editorSelectionChanged', handleSelectionChange);\n      core.removeEventListener('editorTextChanged', handleTextChange);\n      dispatch(actions.enableElements([DataElements.ANNOTATION_STYLE_POPUP]));\n    };\n  }, []);\n\n  useEffect(() => {\n    editorRef.current = editor;\n    annotationRef.current = annotation;\n    if (isRichTextEditMode && annotation) {\n      let StrokeStyle = 'solid';\n      try {\n        StrokeStyle = (annotation['Style'] === 'dash')\n          ? `${annotation['Style']},${annotation['Dashes']}`\n          : annotation['Style'];\n      } catch (err) {\n        console.error(err);\n      }\n      const richTextStyles = annotation.getRichTextStyle();\n      const stylesTemp = richTextStyles[0];\n\n      propertiesRef.current = {\n        Font: annotation.Font,\n        FontSize: annotation.FontSize,\n        TextAlign: annotation.TextAlign,\n        TextVerticalAlign: annotation.TextVerticalAlign,\n        bold: stylesTemp?.['font-weight'] === 'bold' ?? false,\n        italic: stylesTemp?.['font-style'] === 'italic' ?? false,\n        underline: stylesTemp?.['text-decoration']?.includes('underline')\n          || stylesTemp?.['text-decoration']?.includes('word'),\n        strikeout: stylesTemp?.['text-decoration']?.includes('line-through') ?? false,\n        StrokeStyle,\n        calculatedFontSize: annotation.getCalculatedFontSize()\n      };\n    }\n\n    setFormat(getFormat(editorRef.current?.getSelection()));\n\n    if (oldSelectionRef.current) {\n      editorRef.current.setSelection(oldSelectionRef.current);\n      oldSelectionRef.current = null;\n    }\n  }, [annotation, editor, isRichTextEditMode]);\n\n  useEffect(() => {\n    const handleEditorBlur = () => {\n      editorRef.current = null;\n      annotationRef.current = null;\n      setIsRichTextEditMode(false);\n    };\n    const handleEditorFocus = () => {\n      setIsRichTextEditMode(true);\n    };\n\n    core.addEventListener('editorBlur', handleEditorBlur);\n    core.addEventListener('editorFocus', handleEditorFocus);\n    return () => {\n      core.removeEventListener('editorBlur', handleEditorBlur);\n      core.removeEventListener('editorFocus', handleEditorFocus);\n    };\n  }, [dispatch]);\n\n\n  const getFormat = (range) => {\n    if (!range) {\n      return {};\n    }\n\n    const format = editorRef.current.getFormat(range.index, range.length);\n\n    if (typeof format.color === 'string') {\n      format.color = new window.Core.Annotations.Color(format.color);\n    } else if (Array.isArray(format.color)) {\n      // the selection contains multiple color, so we set the current color to the last selected color\n      const lastSelectedColor = new window.Core.Annotations.Color(format.color[format.color.length - 1]);\n      format.color = lastSelectedColor;\n    } else if (!format.color) {\n      format.color = annotationRef.current.TextColor;\n    }\n\n    return format;\n  };\n\n  const handleTextFormatChange = (format) => () => {\n    let { index, length } = editorRef.current.getSelection();\n    if (length === 0) {\n      oldSelectionRef.current = { index, length };\n      const newSelection = editorRef.current.getSelection();\n      index = newSelection.index;\n      length = newSelection.length;\n    }\n    const currentFormat = editorRef.current.getFormat(index, length);\n\n    applyFormat(format, !currentFormat[format]);\n  };\n\n  const handleColorChange = (name, color) => {\n    if (!isRichTextEditMode) {\n      onPropertyChange(name, color);\n      return;\n    }\n    applyFormat('color', color.toHexString());\n  };\n\n  const applyFormat = (formatKey, value) => {\n    editorRef.current?.format(formatKey, value);\n\n    if (formatKey === 'color') {\n      value = new window.Core.Annotations.Color(value);\n    }\n\n    // format the entire editor doesn't trigger the editorTextChanged event, so we set the format state here\n    setFormat({\n      ...format,\n      [formatKey]: value\n    });\n  };\n\n  const adjustFreeTextBoundingBox = (annotation) => {\n    const { FreeTextAnnotation } = window.Core.Annotations;\n    if (annotation instanceof FreeTextAnnotation && annotation.getAutoSizeType() !== FreeTextAnnotation.AutoSizeTypes.NONE) {\n      const doc = core.getDocument();\n      const pageNumber = annotation['PageNumber'];\n      const pageInfo = doc.getPageInfo(pageNumber);\n      const pageMatrix = doc.getPageMatrix(pageNumber);\n      const pageRotation = doc.getPageRotation(pageNumber);\n      annotation.fitText(pageInfo, pageMatrix, pageRotation);\n    }\n  };\n\n  // onPropertyChange\n  const handlePropertyChange = (property, value) => {\n    if (!isRichTextEditMode) {\n      onPropertyChange(property, value);\n      return;\n    }\n\n    const { index, length } = editorRef.current.getSelection();\n    const annotation = annotationRef.current;\n    annotation[property] = value;\n    editorRef.current.blur();\n    if (property === 'FontSize' || property === 'Font') {\n      adjustFreeTextBoundingBox(annotation);\n    }\n    setTimeout(() => {\n      oldSelectionRef.current = { index, length };\n      const editBoxManager = core.getAnnotationManager().getEditBoxManager();\n      editBoxManager.focusBox(annotation);\n    }, 0);\n  };\n\n\n  // onRichTextStyleChange\n  const handleRichTextStyleChange = (property, value) => {\n    if (!isRichTextEditMode) {\n      onRichTextStyleChange(property, value);\n      return;\n    }\n\n    const propertyTranslation = {\n      'font-weight': 'bold',\n      'font-style': 'italic',\n      'underline': 'underline',\n      'line-through': 'strike',\n    };\n    handleTextFormatChange(propertyTranslation[property])();\n  };\n\n\n  let properties = {};\n\n  const { RichTextStyle } = style;\n  const defulats = {\n    bold: RichTextStyle?.[0]?.['font-weight'] === 'bold' ?? false,\n    italic: RichTextStyle?.[0]?.['font-style'] === 'italic' ?? false,\n    underline: RichTextStyle?.[0]?.['text-decoration']?.includes('underline') || RichTextStyle?.[0]?.['text-decoration']?.includes('word'),\n    strikeout: RichTextStyle?.[0]?.['text-decoration']?.includes('line-through') ?? false,\n    StrokeStyle: 'solid',\n  };\n\n  properties = {\n    ...style,\n    ...defulats,\n  };\n\n  if (isRichTextEditMode && annotation) {\n    propertiesRef.current.bold = format.bold;\n    propertiesRef.current.italic = format.italic;\n    propertiesRef.current.underline = format.underline;\n    propertiesRef.current.strikeout = format.strike;\n  }\n\n  return (\n    <div className=\"RichTextStyleEditor\"\n      onMouseDown={(e) => {\n        if (e.type !== 'touchstart') {\n          e.preventDefault();\n        }\n      }}\n    >\n      <div className=\"menu-items\">\n        <TextStylePicker\n          fonts={fonts}\n          onPropertyChange={handlePropertyChange}\n          onRichTextStyleChange={handleRichTextStyleChange}\n          properties={isRichTextEditMode ? propertiesRef.current : properties}\n          stateless={true}\n          isFreeText={true}\n          onFreeTextSizeToggle={onFreeTextSizeToggle}\n          isFreeTextAutoSize={isFreeTextAutoSize}\n        />\n      </div>\n      <ColorPicker\n        onColorChange={(color) => {\n          handleColorChange('TextColor', new window.Core.Annotations.Color(color));\n        }}\n        color={isRichTextEditMode ? format.color : style['TextColor']}\n      />\n    </div>\n  );\n};\nRichTextStyleEditor.propTypes = propTypes;\n\nexport default React.memo(RichTextStyleEditor);\n","import RichTextStyleEditor from './RichTextStyleEditor';\n\nexport default RichTextStyleEditor;","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./StylePicker.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".StylePicker{padding-top:16px;display:flex;flex-direction:column}.StylePicker .slider-property{font-size:14px;font-weight:700;margin-bottom:8px}.StylePicker .StyleOption{margin-top:16px}.StylePicker .StyleOption .styles-container .styles-title{margin:0 0 8px;font-size:14px;font-weight:700}.StylePicker .StyleOption .styles-container [data-element=borderStylePicker]{margin-top:8px}.StylePicker .StyleOption .slider .slider-element-container{margin-left:-3px}.StylePicker .PanelSection .collapsible-menu{width:100%;display:flex;cursor:pointer;position:relative;align-items:center;margin-bottom:8px}.StylePicker .PanelSection .collapsible-menu .menu-title{padding-top:6px;padding-bottom:6px;font-weight:700;font-size:14px}.StylePicker .PanelSection .collapsible-menu .icon-container{position:absolute;right:0;display:flex;align-items:center;justify-content:center;text-align:center;min-width:28px;min-height:28px;border-radius:4px}.StylePicker .PanelSection .collapsible-menu .icon-container .Icon{height:18px;width:18px;color:var(--icon-color)}.StylePicker .PanelSection .collapsible-menu .icon-container:hover{background:var(--view-header-button-hover)}.StylePicker .PanelSection .divider{background-color:var(--divider);width:100%;height:1px;margin:16px 0}.StylePicker .PanelSection .menu-items .ColorPalette{margin-bottom:8px}.StylePicker .PanelSection .palette-controls .button-container{grid-gap:5px;gap:5px}.StylePicker .spacer{width:100%;margin-top:16px}.StylePicker .lineStyleContainer{margin-bottom:0}.StylePicker .lineStyleContainer .StylePicker-LineStyle{display:flex;flex-direction:row;grid-column-gap:8px;-moz-column-gap:8px;column-gap:8px;justify-content:space-between}.StylePicker .lineStyleContainer .StylePicker-LineStyle button.Dropdown{width:100%!important}.StylePicker .lineStyleContainer .StylePicker-LineStyle .Dropdown__items,.StylePicker .lineStyleContainer .StylePicker-LineStyle .Dropdown__wrapper{width:100%}.StylePicker .lineStyleContainer .StylePicker-LineStyle .linestyle-image svg{width:35px;margin-top:11px}.StylePicker .lineStyleContainer .StylePicker-LineStyle .linestyle-image.shift-alignment svg{margin-top:8px}.StylePicker .lineStyleContainer .StylePicker-LineStyle .Dropdown__items .linestyle-image svg{width:45px}.StylePicker .lineStyleContainer .StylePicker-LineStyle [data-element=middleLineStyleDropdown] .linestyle-image.shift-alignment{padding-top:0}.StylePicker .lineStyleContainer .StylePicker-LineStyle [data-element=middleLineStyleDropdown] .linestyle-image.shift-alignment svg{margin-top:11px}.StylePicker .lineStyleContainer .StylePicker-LineStyle [data-element=middleLineStyleDropdown] .Dropdown__items{top:-197px}.StylePicker .lineStyleContainer .StylePicker-LineStyle .StyleOptions{max-width:80px}.StylePicker .lineStyleContainer .StylePicker-LineStyle>*{flex-grow:1;flex-basis:0}.StylePicker .TextStyle>.collapsible-menu{margin-bottom:16px}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./OutlinesPanel.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".OutlinesPanel .bookmark-outline-single-container{margin-top:6px;margin-bottom:6px}.OutlinesPanel .bookmark-outline-row{padding-top:6px}.OutlinesPanel .msg-no-bookmark-outline{margin-top:6px}\", \"\"]);\n\n// exports\n","import SnapModeToggle from './SnapModeToggle';\n\nexport default SnapModeToggle;","import React from 'react';\nimport { workerTypes } from 'constants/types';\nimport core from 'core';\nimport i18next from 'i18next';\nimport Choice from 'components/Choice/Choice';\nimport getMeasurementTools from 'helpers/getMeasurementTools';\nimport actions from 'actions';\nimport { useDispatch } from 'react-redux';\n\nconst SnapModeToggle = ({\n  Scale,\n  Precision,\n  isSnapModeEnabled,\n}) => {\n  const dispatch = useDispatch();\n\n  const wasDocumentSwappedToClientSide =\n    core.getDocument()?.getType() === workerTypes.WEBVIEWER_SERVER && core.getDocument().isWebViewerServerDocument();\n  const isEligibleDocumentForSnapping = core.getDocument()?.getType().toLowerCase() === workerTypes.PDF || wasDocumentSwappedToClientSide;\n  const showMeasurementSnappingOption = Scale && Precision && isEligibleDocumentForSnapping && core.isFullPDFEnabled();\n\n  const onSnappingChange = (event) => {\n    if (!core.isFullPDFEnabled()) {\n      return;\n    }\n\n    const enableSnapping = event.target.checked;\n    const mode = enableSnapping\n      ? core.getDocumentViewer().SnapMode.e_DefaultSnapMode | core.getDocumentViewer().SnapMode.POINT_ON_LINE\n      : null;\n    const measurementTools = getMeasurementTools();\n\n    measurementTools.forEach((tool) => {\n      tool.setSnapMode?.(mode);\n    });\n\n    dispatch(actions.setEnableSnapMode(enableSnapping));\n  };\n\n  return (\n    <>\n      {showMeasurementSnappingOption && (\n        <div className=\"snapping-option\">\n          <Choice\n            dataElement=\"measurementSnappingOption\"\n            id=\"measurement-snapping\"\n            type=\"checkbox\"\n            label={i18next.t('option.shared.enableSnapping')}\n            checked={isSnapModeEnabled}\n            onChange={onSnappingChange}\n          />\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default SnapModeToggle;","\nimport core from 'core';\n\nconst Tools = window.Core.Tools;\n\nexport const shouldHideStylePanelOptions = (toolName) => {\n  const toolsNoStylePanelOptions = [\n    Tools.SignatureFormFieldCreateTool,\n    Tools.CheckBoxFormFieldCreateTool,\n    Tools.RadioButtonFormFieldCreateTool,\n  ];\n\n  return toolsNoStylePanelOptions.some((tool) => core.getTool(toolName) instanceof tool);\n};\n\nexport const hasFillColorAndCollapsablePanelSections = (toolName) => {\n  const toolsWithCollapsedStylePanels = [\n    Tools.RectangleCreateTool,\n    Tools.EllipseCreateTool,\n    Tools.PolygonCreateTool,\n    Tools.PolygonCloudCreateTool,\n    Tools.EllipseMeasurementCreateTool,\n    Tools.AreaMeasurementCreateTool,\n    Tools.FreeTextCreateTool,\n    Tools.CalloutCreateTool,\n  ];\n\n  return toolsWithCollapsedStylePanels.some((tool) => core.getTool(toolName) instanceof tool);\n};\n\nexport const shouldHideStrokeSlider = (toolName) => {\n  const toolsWithHiddenStrokeSlider = [\n    Tools.TextUnderlineCreateTool,\n    Tools.TextHighlightCreateTool,\n    Tools.TextSquigglyCreateTool,\n    Tools.TextStrikeoutCreateTool,\n    Tools.CountMeasurementCreateTool,\n    Tools.RubberStampCreateTool,\n  ];\n  return toolsWithHiddenStrokeSlider.some((tool) => core.getTool(toolName) instanceof tool);\n};\n\nexport const shouldTextStyle = (toolName) => {\n  const toolsWithHiddenStrokeSlider = [\n    Tools.FreeTextCreateTool,\n    Tools.CalloutCreateTool,\n  ];\n  return toolsWithHiddenStrokeSlider.some((tool) => core.getTool(toolName) instanceof tool);\n};\n\nexport const shouldHideOpacitySlider = (toolName) => {\n  const toolsWithHiddenOpacitySlider = [\n    Tools.TextFormFieldCreateTool,\n  ];\n  return toolsWithHiddenOpacitySlider.some((tool) => core.getTool(toolName) instanceof tool);\n};\n\nexport const hasSnapModeCheckbox = (toolName) => {\n  const toolsWithSnapModeCheckbox = [\n    Tools.DistanceMeasurementCreateTool,\n    Tools.ArcMeasurementCreateTool,\n    Tools.PerimeterMeasurementCreateTool,\n    Tools.AreaMeasurementCreateTool,\n    Tools.RectangularAreaMeasurementCreateTool,\n    Tools.CloudyRectangularAreaMeasurementCreateTool,\n  ];\n  return toolsWithSnapModeCheckbox.some((tool) => core.getTool(toolName) instanceof tool);\n};","import React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useDispatch, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport './StylePicker.scss';\nimport ColorPicker from './ColorPicker';\nimport Slider from 'components/Slider';\nimport DataElements from 'constants/dataElement';\nimport { circleRadius } from 'constants/slider';\nimport Dropdown from '../Dropdown';\nimport { defaultStartLineStyles, defaultStrokeStyles, defaultEndLineStyles, cloudyStrokeStyle } from 'constants/strokeStyleIcons';\nimport Icon from 'components/Icon';\nimport SnapModeToggle from './SnapModeToggle';\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport { hasFillColorAndCollapsablePanelSections, shouldHideStrokeSlider, shouldHideOpacitySlider, hasSnapModeCheckbox, shouldTextStyle } from 'helpers/stylePanelHelper';\nimport useOnFreeTextEdit from 'hooks/useOnFreeTextEdit';\nimport RichTextStyleEditor from '../RichTextStyleEditor';\n\n\nconst withCloudyStyle = defaultStrokeStyles.concat(cloudyStrokeStyle);\n\nconst propTypes = {\n  onStyleChange: PropTypes.func.isRequired,\n  style: PropTypes.object.isRequired,\n  sliderProperties: PropTypes.arrayOf(PropTypes.string),\n  isFreeText: PropTypes.bool,\n  isEllipse: PropTypes.bool,\n  isRedaction: PropTypes.bool,\n  isFreeHand: PropTypes.bool,\n  showLineStyleOptions: PropTypes.bool,\n  isArc: PropTypes.bool,\n  isInFormFieldCreationMode: PropTypes.bool,\n  startLineStyle: PropTypes.string,\n  endLineStyle: PropTypes.string,\n  strokeStyle: PropTypes.string,\n  onLineStyleChange: PropTypes.func,\n  toolName: PropTypes.string,\n  onFreeTextSizeToggle: PropTypes.func,\n  isFreeTextAutoSize: PropTypes.bool,\n  handleRichTextStyleChange: PropTypes.func,\n};\n\nconst MAX_STROKE_THICKNESS = 20;\n\nconst StylePicker = ({\n  onStyleChange,\n  style,\n  isFreeText,\n  isEllipse,\n  isRedaction,\n  isFreeHand,\n  showLineStyleOptions,\n  isArc,\n  isInFormFieldCreationMode,\n  startLineStyle,\n  endLineStyle,\n  strokeStyle,\n  onLineStyleChange,\n  toolName,\n  onFreeTextSizeToggle,\n  isFreeTextAutoSize,\n  handleRichTextStyleChange,\n}) => {\n  const [t] = useTranslation();\n  const dispatch = useDispatch();\n  const [strokeColor, setStrokeColor] = useState(style.StrokeColor);\n  const [startingLineStyle, setStartingLineStyle] = useState(startLineStyle);\n  const [endingLineStyle, setEndingLineStyle] = useState(endLineStyle);\n  const [strokeLineStyle, setStrokeLineStyle] = useState(strokeStyle);\n  const [fillColor, setFillColor] = useState(style.FillColor);\n\n  const showStrokeStyle = true;\n  const showFillColorAndCollapsablePanelSections = hasFillColorAndCollapsablePanelSections(toolName);\n  const hideStrokeSlider = shouldHideStrokeSlider(toolName);\n  const showSnapModeCheckbox = hasSnapModeCheckbox(toolName);\n  const showTextStyle = shouldTextStyle(toolName);\n\n  useEffect(() => {\n    if (showFillColorAndCollapsablePanelSections) {\n      if (showTextStyle) {\n        dispatch(actions.openElement(DataElements.RICH_TEXT_STYLE_CONTAINER));\n      } else {\n        dispatch(actions.openElement(DataElements.STROKE_STYLE_CONTAINER));\n      }\n    }\n  }, [toolName]);\n\n  useEffect(() => {\n    setStrokeColor(style.StrokeColor);\n    setFillColor(style.FillColor);\n  }, [strokeColor, fillColor, style]);\n\n  useEffect(() => {\n    setStrokeColor(style.StrokeColor);\n    setStartingLineStyle(startLineStyle);\n    setStrokeLineStyle(strokeStyle);\n    setEndingLineStyle(endLineStyle);\n  }, [startLineStyle, endLineStyle, strokeStyle]);\n\n  const onStrokeColorChange = (color) => {\n    onStyleChange?.('StrokeColor', color);\n    setStrokeColor(color);\n  };\n\n  const onStartLineStyleChange = (style) => {\n    onLineStyleChange?.('start', style);\n    setStartingLineStyle(style);\n  };\n\n  const onStrokeStyleChange = (style, value) => {\n    if (value) {\n      onLineStyleChange?.(style, value);\n      setStrokeLineStyle(value);\n    } else {\n      onLineStyleChange?.('middle', style);\n      setStrokeLineStyle(style);\n    }\n  };\n\n  const onEndLineStyleChange = (style) => {\n    onLineStyleChange?.('end', style);\n    setEndingLineStyle(style);\n  };\n\n  const onFillColorChange = (color) => {\n    onStyleChange?.('FillColor', color);\n    setFillColor(color);\n  };\n\n  const onSliderChange = (property, value) => {\n    onStyleChange?.(property, value);\n  };\n\n  // We do not have sliders to show up for redaction annots\n  if (isRedaction) {\n    style.Opacity = null;\n    style.StrokeThickness = null;\n  }\n\n  const [\n    isSnapModeEnabled,\n    isStyleOptionDisabled,\n    isStrokeStyleContainerActive,\n    isFillColorContainerActive,\n    isOpacityContainerActive,\n    isTextStyleContainerActive,\n  ] = useSelector((state) => [\n    selectors.isSnapModeEnabled(state),\n    selectors.isElementDisabled(state, DataElements.STYLE_OPTION),\n    selectors.isElementOpen(state, DataElements.STROKE_STYLE_CONTAINER),\n    selectors.isElementOpen(state, DataElements.FILL_COLOR_CONTAINER),\n    selectors.isElementOpen(state, DataElements.OPACITY_CONTAINER),\n    selectors.isElementOpen(state, DataElements.RICH_TEXT_STYLE_CONTAINER),\n  ]);\n\n  const panelItems = {\n    [DataElements.STROKE_STYLE_CONTAINER]: isStrokeStyleContainerActive,\n    [DataElements.FILL_COLOR_CONTAINER]: isFillColorContainerActive,\n    [DataElements.OPACITY_CONTAINER]: isOpacityContainerActive,\n    [DataElements.RICH_TEXT_STYLE_CONTAINER]: isTextStyleContainerActive,\n  };\n\n  const togglePanelItem = (dataElement) => {\n    if (!panelItems[dataElement]) {\n      dispatch(actions.openElement(dataElement));\n    } else {\n      dispatch(actions.closeElement(dataElement));\n    }\n  };\n  const openTextStyleContainer = () => {\n    dispatch(actions.openElements(DataElements.RICH_TEXT_EDITOR));\n    togglePanelItem(DataElements.RICH_TEXT_STYLE_CONTAINER);\n  };\n  const openStrokeStyleContainer = () => togglePanelItem(DataElements.STROKE_STYLE_CONTAINER);\n  const openFillColorContainer = () => togglePanelItem(DataElements.FILL_COLOR_CONTAINER);\n  const openOpacityContainer = () => togglePanelItem(DataElements.OPACITY_CONTAINER);\n\n  const getSliderProps = (type) => {\n    const { Opacity, StrokeThickness } = style;\n\n    const lineStart = circleRadius;\n    switch (type.toLowerCase()) {\n      case 'opacity':\n        if (Opacity === null) {\n          return null;\n        }\n        return {\n          property: 'Opacity',\n          displayProperty: 'opacity',\n          value: Opacity,\n          getDisplayValue: (Opacity) => `${Math.round(Opacity * 100)}%`,\n          dataElement: DataElements.OPACITY_SLIDER,\n          getCirclePosition: (lineLength, Opacity) => Opacity * lineLength + lineStart,\n          convertRelativeCirclePositionToValue: (circlePosition) => circlePosition,\n          withInputField: true,\n          inputFieldType: 'number',\n          min: 0,\n          max: 100,\n          step: 1,\n          getLocalValue: (opacity) => parseInt(opacity) / 100,\n        };\n      case 'strokethickness':\n        if (StrokeThickness === null) {\n          return null;\n        }\n        return {\n          property: 'StrokeThickness',\n          displayProperty: 'thickness',\n          value: StrokeThickness,\n          getDisplayValue: (strokeThickness) => {\n            const placeOfDecimal =\n              Math.floor(strokeThickness) !== strokeThickness\n                ? strokeThickness?.toString().split('.')[1].length || 0\n                : 0;\n            if (StrokeThickness === 0 || (StrokeThickness >= 1 && (placeOfDecimal > 2 || placeOfDecimal === 0))) {\n              return `${Math.round(strokeThickness)}pt`;\n            }\n            return `${parseFloat(strokeThickness).toFixed(2)}pt`;\n          },\n          dataElement: DataElements.STROKE_THICKNESS_SLIDER,\n          getCirclePosition: (lineLength, strokeThickness) => (strokeThickness / MAX_STROKE_THICKNESS) * lineLength + lineStart,\n          convertRelativeCirclePositionToValue: (circlePosition) => {\n            if (circlePosition >= 1 / MAX_STROKE_THICKNESS) {\n              return Math.round(circlePosition * MAX_STROKE_THICKNESS);\n            }\n            if (circlePosition >= 0.75 / MAX_STROKE_THICKNESS && circlePosition < 1 / MAX_STROKE_THICKNESS) {\n              return 0.75;\n            }\n            if (circlePosition >= 0.5 / MAX_STROKE_THICKNESS && circlePosition < 0.75 / MAX_STROKE_THICKNESS) {\n              return 0.5;\n            }\n            if (circlePosition >= 0.25 / MAX_STROKE_THICKNESS && circlePosition < 0.5 / MAX_STROKE_THICKNESS) {\n              return 0.25;\n            }\n            if (circlePosition >= 0.08 / MAX_STROKE_THICKNESS && circlePosition < 0.25 / MAX_STROKE_THICKNESS) {\n              return 0.1;\n            }\n            return isFreeText ? 0 : 0.1;\n          },\n          withInputField: true,\n          inputFieldType: 'number',\n          min: isFreeText ? 0 : 0.1,\n          max: MAX_STROKE_THICKNESS,\n          step: 1,\n          getLocalValue: (strokeThickness) => parseFloat(strokeThickness).toFixed(2),\n        };\n    }\n  };\n\n  const renderSlider = (property, shouldHideSliderTitle) => {\n    const sliderProps = getSliderProps(property);\n    if (!sliderProps) {\n      return null;\n    }\n    return (\n      <Slider\n        key={property}\n        {...sliderProps}\n        onStyleChange={onSliderChange}\n        onSliderChange={onSliderChange}\n        shouldHideSliderTitle={shouldHideSliderTitle}\n      />\n    );\n  };\n\n  const renderDivider = () => {\n    if (showFillColorAndCollapsablePanelSections) {\n      return <div className=\"divider\" />;\n    }\n  };\n\n  const onOpenProps = useOnFreeTextEdit();\n\n  return (\n    <div className=\"StylePicker\"\n      onMouseDown={(e) => {\n        if (e.type !== 'touchstart') {\n          e.preventDefault();\n        }\n      }}\n    >\n      {showTextStyle && (\n        <div className=\"PanelSection TextStyle\">\n          <div className=\"collapsible-menu\"\n            onClick={openTextStyleContainer}\n            onTouchStart={openTextStyleContainer}\n            tabIndex={0}\n            onKeyDown={(e) => e.key === 'Enter' && openTextStyleContainer()} role={'toolbar'}\n          >\n            <div className=\"menu-title\">\n              {t('option.stylePopup.textStyle')}\n            </div>\n            <div className=\"icon-container\">\n              <Icon glyph={`icon-chevron-${isTextStyleContainerActive ? 'up' : 'down'}`} />\n            </div>\n          </div>\n          {(isTextStyleContainerActive) && (\n            <RichTextStyleEditor\n              style={style}\n              {...onOpenProps}\n              property={'TextColor'}\n              colorMapKey={'freeText'}\n              isFreeTextAutoSize={isFreeTextAutoSize}\n              onFreeTextSizeToggle={onFreeTextSizeToggle}\n              onPropertyChange={onStyleChange}\n              onRichTextStyleChange={handleRichTextStyleChange}\n            />\n          )}\n          {renderDivider()}\n        </div>\n      )}\n\n      {showStrokeStyle && (\n        <div className=\"PanelSection\">\n          {showFillColorAndCollapsablePanelSections && (\n            <div\n              className=\"collapsible-menu StrokeColorPicker\"\n              onClick={openStrokeStyleContainer}\n              onTouchStart={openStrokeStyleContainer}\n              tabIndex={0}\n              onKeyDown={(e) => e.key === 'Enter' && openStrokeStyleContainer()}\n              role={'toolbar'}\n            >\n              <div className=\"menu-title\">{t('option.annotationColor.StrokeColor')}</div>\n              <div className=\"icon-container\">\n                <Icon glyph={`icon-chevron-${isStrokeStyleContainerActive ? 'up' : 'down'}`} />\n              </div>\n            </div>\n          )}\n          {(isStrokeStyleContainerActive || !showFillColorAndCollapsablePanelSections) && (\n            <>\n              <div className=\"menu-items\">\n                <ColorPicker onColorChange={onStrokeColorChange} onStyleChange={onStyleChange} color={strokeColor} />\n              </div>\n              {!hideStrokeSlider && <div className=\"StyleOption\">{renderSlider('strokethickness')}</div>}\n              {/*\n                When showLineStyleOptions is true, we want to show the opacity slider together with the stroke slider\n              */}\n              {showLineStyleOptions && <div className=\"StyleOption\">{renderSlider('opacity')}</div>}\n              {!!strokeStyle && !(isInFormFieldCreationMode && !isFreeText) && !isFreeHand && !isArc && (\n                <div className=\"StyleOption\">\n                  <div className=\"styles-container lineStyleContainer\">\n                    <div className=\"styles-title\">Style</div>\n                    <div className=\"StylePicker-LineStyle\">\n                      {showLineStyleOptions && (\n                        <Dropdown\n                          className=\"StylePicker-StartLineStyleDropdown\"\n                          dataElement=\"startLineStyleDropdown\"\n                          images={defaultStartLineStyles}\n                          onClickItem={onStartLineStyleChange}\n                          currentSelectionKey={startingLineStyle}\n                        />\n                      )}\n                      {!isStyleOptionDisabled && (\n                        <Dropdown\n                          className={`StylePicker-StrokeLineStyleDropdown${\n                            !!strokeStyle && !showLineStyleOptions ? ' StyleOptions' : ''\n                          }`}\n                          dataElement=\"middleLineStyleDropdown\"\n                          images={isEllipse || showLineStyleOptions ? defaultStrokeStyles : withCloudyStyle}\n                          onClickItem={onStrokeStyleChange}\n                          currentSelectionKey={strokeLineStyle}\n                        />\n                      )}\n                      {showLineStyleOptions && (\n                        <Dropdown\n                          className=\"StylePicker-EndLineStyleDropdown\"\n                          dataElement=\"endLineStyleDropdown\"\n                          images={defaultEndLineStyles}\n                          onClickItem={onEndLineStyleChange}\n                          currentSelectionKey={endingLineStyle}\n                        />\n                      )}\n                    </div>\n                  </div>\n                </div>\n              )}\n            </>\n          )}\n          {renderDivider()}\n        </div>\n      )}\n      {showFillColorAndCollapsablePanelSections && (\n        <div className=\"PanelSection\">\n          <div\n            className=\"collapsible-menu FillColorPicker\"\n            onClick={openFillColorContainer}\n            onTouchStart={openFillColorContainer}\n            tabIndex={0}\n            onKeyDown={(e) => e.key === 'Enter' && openFillColorContainer()}\n            role={'toolbar'}\n          >\n            <div className=\"menu-title\">{t('option.annotationColor.FillColor')}</div>\n            <div className=\"icon-container\">\n              <Icon glyph={`icon-chevron-${isFillColorContainerActive ? 'up' : 'down'}`} />\n            </div>\n          </div>\n          {isFillColorContainerActive && (\n            <div className=\"menu-items\">\n              <ColorPicker\n                onColorChange={onFillColorChange}\n                onStyleChange={onStyleChange}\n                color={fillColor}\n                hasTransparentColor={true}\n              />\n            </div>\n          )}\n          {!shouldHideOpacitySlider(toolName) && renderDivider()}\n        </div>\n      )}\n\n      <div className=\"PanelSection\">\n        {showFillColorAndCollapsablePanelSections && !shouldHideOpacitySlider(toolName) && (\n          <div\n            className=\"collapsible-menu StrokeColorPicker\"\n            onClick={openOpacityContainer}\n            onTouchStart={openOpacityContainer}\n            tabIndex={0}\n            onKeyDown={(e) => e.key === 'Enter' && openOpacityContainer()}\n            role={'toolbar'}\n          >\n            <div className=\"menu-title\">{t('option.slider.opacity')}</div>\n            <div className=\"icon-container\">\n              <Icon glyph={`icon-chevron-${isOpacityContainerActive ? 'up' : 'down'}`} />\n            </div>\n          </div>\n        )}\n        {/*\n          If showLineStyleOptions is true, then we don't want to show the opacity slider\n          in the bottom because it is already shown before together with the stroke slider\n        */}\n        {!showLineStyleOptions && (isOpacityContainerActive || !showFillColorAndCollapsablePanelSections) && (\n          <div className=\"StyleOption\">{renderSlider('opacity', showFillColorAndCollapsablePanelSections)}</div>\n        )}\n        {showSnapModeCheckbox && renderDivider()}\n      </div>\n      {showSnapModeCheckbox && (\n        <>\n          {/* to avoid inline styling when there's no divider */}\n          {!showFillColorAndCollapsablePanelSections && <div className=\"spacer\" />}\n          <div className=\"PanelSection\">\n            <SnapModeToggle Scale={style.Scale} Precision={style.Precision} isSnapModeEnabled={isSnapModeEnabled} />\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nStylePicker.propTypes = propTypes;\n\nexport default StylePicker;","import StylePicker from './StylePicker';\n\nexport default StylePicker;","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport selectors from 'selectors';\nimport Icon from 'components/Icon';\nimport StylePicker from 'components/StylePicker';\nimport getAnnotationCreateToolNames from 'helpers/getAnnotationCreateToolNames';\nimport { hexToRGBA } from 'helpers/color';\nimport getToolStyles from 'helpers/getToolStyles';\nimport setToolStyles from 'helpers/setToolStyles';\nimport core from 'core';\nimport { getDataWithKey, mapToolNameToKey } from 'constants/map';\nimport handleFreeTextAutoSizeToggle from 'helpers/handleFreeTextAutoSizeToggle';\nimport getTextDecoration from 'helpers/getTextDecoration';\nimport { shouldHideStylePanelOptions } from 'helpers/stylePanelHelper';\n\nconst StylePanel = () => {\n  const [t] = useTranslation();\n\n  const [\n    isPanelOpen,\n    toolButtonObject,\n    isAnnotationToolStyleSyncingEnabled,\n    activeDocumentViewerKey,\n  ] = useSelector((state) => [\n    selectors.isElementOpen(state, 'stylePanel'),\n    selectors.getToolButtonObjects(state),\n    selectors.isAnnotationToolStyleSyncingEnabled(state),\n    selectors.getActiveDocumentViewerKey(state),\n  ]);\n\n  const colorProperties = ['StrokeColor', 'FillColor'];\n  const [showPanel, setShowPanel] = useState(false);\n  const [noToolStyle, setNoToolStyle] = useState(false);\n  const [selectedAnnotation, setSelectedAnnotation] = useState(null);\n  const [isEllipse, setIsEllipse] = useState(false);\n  const [isFreeText, setIsFreeText] = useState(false);\n  const [isRedaction, setIsRedaction] = useState(false);\n  const [isFreeHand, setIsFreeHand] = useState(false);\n  const [isArc, setIsArc] = useState(false);\n  const [isInFormFieldCreationMode, setIsInFormFieldCreationMode] = useState(false);\n  const [style, setStyle] = useState({});\n  const [startLineStyle, setStartLineStyle] = useState();\n  const [endLineStyle, setEndLineStyle] = useState();\n  const [strokeStyle, setStrokeStyle] = useState();\n  const [panelTitle, setPanelTitle] = useState(t('stylePanel.headings.styles'));\n  const annotationCreateToolNames = getAnnotationCreateToolNames();\n  const [showLineStyleOptions, setShowLineStyleOptions] = useState(false);\n  const [isAutoSizeFont, setIsAutoSizeFont] = useState(style.isAutoSizeFont);\n\n  const getStrokeStyle = (annot) => {\n    const style = annot['Style'];\n    const dashes = annot['Dashes'];\n    if (style !== 'dash') {\n      return style;\n    }\n    return `${style},${dashes}`;\n  };\n\n  useEffect(() => {\n    if (!selectedAnnotation && showPanel) {\n      const title = toolButtonObject[core.getToolMode().name].title;\n      setPanelTitle(`${t(title)} ${t('stylePanel.headings.tool')}`);\n    }\n  });\n\n  useEffect(() => {\n    const onAnnotationSelected = (annotations, action) => {\n      if (action === 'selected') {\n        // We only consider the styles for the style panel if only one annotation is selected\n        if (annotations.length === 1) {\n          setSelectedAnnotation(annotations[0]);\n          setPanelTitle(`${t(toolButtonObject[annotations[0].ToolName].title)} ${t('stylePanel.headings.annotation')}`);\n          if (shouldHideStylePanelOptions(annotations[0].ToolName)) {\n            setNoToolStyle(true);\n            return;\n          }\n          setNoToolStyle(false);\n\n          setIsEllipse(annotations[0] instanceof window.Core.Annotations.EllipseAnnotation);\n          setIsFreeText(annotations[0] instanceof window.Core.Annotations.FreeTextAnnotation);\n          setIsRedaction(annotations[0] instanceof window.Core.Annotations.RedactionAnnotation);\n          setIsFreeHand(annotations[0] instanceof window.Core.Annotations.FreeHandAnnotation);\n          setIsArc(annotations[0] instanceof window.Core.Annotations.ArcAnnotation);\n          setIsInFormFieldCreationMode(core.getFormFieldCreationManager().isInFormFieldCreationMode());\n          setShowLineStyleOptions(getDataWithKey(mapToolNameToKey(annotations[0].ToolName)).hasLineEndings);\n        } else {\n          setPanelTitle(`${t('stylePanel.headings.annotations')} (${annotations.length})`);\n        }\n        setShowPanel(true);\n      } else if (action === 'deselected') {\n        const currentTool = core.getToolMode();\n        if (currentTool instanceof window.Core.Tools.AnnotationEditTool) {\n          setShowPanel(false);\n        }\n        // reset tool mode to change the tool name in the header\n        core.setToolMode(currentTool.name);\n        setSelectedAnnotation(null);\n      }\n    };\n\n    const handleToolModeChange = (newTool) => {\n      if (annotationCreateToolNames.includes(newTool?.name)) {\n        if (!panelTitle) {\n          setShowPanel(false);\n        } else {\n          if (shouldHideStylePanelOptions(newTool?.name)) {\n            setNoToolStyle(true);\n            setShowPanel(true);\n            return;\n          }\n          setNoToolStyle(false);\n\n          setShowLineStyleOptions(getDataWithKey(mapToolNameToKey(newTool.name)).hasLineEndings);\n\n          setIsEllipse(newTool.name === window.Core.Tools.ToolNames.ELLIPSE);\n          setIsFreeText(newTool.name === window.Core.Tools.ToolNames.FREE_TEXT);\n          setIsRedaction(newTool.name === window.Core.Tools.ToolNames.REDACTION);\n          setIsFreeHand(\n            newTool.name === window.Core.Tools.ToolNames.FREEHAND ||\n              newTool.name === window.Core.Tools.ToolNames.FREEHAND_HIGHLIGHT,\n          );\n          setIsArc(newTool.name === window.Core.Tools.ToolNames.ARC);\n          setIsInFormFieldCreationMode(core.getFormFieldCreationManager().isInFormFieldCreationMode());\n          const toolStyles = getToolStyles(newTool.name);\n\n          if (newTool.name.includes('FreeText') || newTool.name.includes('Callout')) {\n            toolStyles['isAutoSizeFont'] = newTool['defaults']['isAutoSizeFont'];\n            setIsAutoSizeFont(newTool['defaults']['isAutoSizeFont']);\n          }\n\n          setStyle(toolStyles);\n          setStartLineStyle(toolStyles.StartLineStyle);\n          setStrokeStyle(toolStyles.StrokeStyle);\n          setEndLineStyle(toolStyles.EndLineStyle);\n          setShowPanel(true);\n        }\n      } else {\n        setShowPanel(false);\n      }\n    };\n\n    core.addEventListener('annotationSelected', onAnnotationSelected);\n    core.addEventListener('toolModeUpdated', handleToolModeChange);\n    return () => {\n      core.removeEventListener('annotationSelected', onAnnotationSelected);\n      core.removeEventListener('toolModeUpdated', handleToolModeChange);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isPanelOpen) {\n      if (selectedAnnotation) {\n        const annot = selectedAnnotation;\n        const extraStyles = {};\n\n        if (annot instanceof window.Core.Annotations.FreeTextAnnotation) {\n          let StrokeStyle = 'solid';\n          try {\n            StrokeStyle = (annot['Style'] === 'dash')\n              ? `${annot['Style']},${annot['Dashes']}`\n              : annot['Style'];\n          } catch (err) {\n            console.error(err);\n          }\n          extraStyles['TextColor'] = annot.TextColor;\n          extraStyles['RichTextStyle'] = annot.getRichTextStyle();\n          extraStyles['Font'] = annot.Font;\n          extraStyles['FontSize'] = annot.FontSize;\n          extraStyles['TextAlign'] = annot.TextAlign;\n          extraStyles['TextVerticalAlign'] = annot.TextVerticalAlign;\n          extraStyles['calculatedFontSize'] = annot.getCalculatedFontSize();\n          extraStyles['StrokeStyle'] = StrokeStyle;\n          extraStyles['isAutoSizeFont'] = annot.isAutoSizeFont();\n          setIsAutoSizeFont(annot.isAutoSizeFont());\n        }\n\n        setStyle({\n          ...style,\n          StrokeColor: annot.StrokeColor,\n          StrokeThickness: annot.StrokeThickness,\n          Opacity: annot.Opacity,\n          FillColor: annot.FillColor,\n          ...extraStyles,\n        });\n        setStartLineStyle(annot.getStartStyle ? annot.getStartStyle() : 'None');\n        setEndLineStyle(annot.getEndStyle ? annot.getEndStyle() : 'None');\n        setStrokeStyle(getStrokeStyle(annot));\n      } else {\n        const currentTool = core.getToolMode();\n        if (currentTool) {\n          const toolStyles = getToolStyles(currentTool.name);\n          if (toolStyles) {\n            setStyle(toolStyles);\n            setStartLineStyle(toolStyles.StartLineStyle);\n            setEndLineStyle(toolStyles.EndLineStyle);\n            setStrokeStyle(toolStyles.StrokeStyle);\n          }\n        }\n      }\n    }\n  }, [isPanelOpen, selectedAnnotation]);\n\n  const onStyleChange = (property, value) => {\n    const newStyle = { ...style };\n    newStyle[property] = value;\n    setStyle(newStyle);\n\n    const annotationsToUpdate = core.getSelectedAnnotations();\n    if (annotationsToUpdate.length > 0) {\n      annotationsToUpdate.forEach((annot) => {\n        if (colorProperties.includes(property)) {\n          const colorRGB = hexToRGBA(value);\n          const color = new window.Core.Annotations.Color(colorRGB.r, colorRGB.g, colorRGB.b, colorRGB.a);\n          annot[property] = color;\n          if (isAnnotationToolStyleSyncingEnabled) {\n            setToolStyles(annot.ToolName, property, color);\n          }\n        } else {\n          annot[property] = value;\n          if (isAnnotationToolStyleSyncingEnabled) {\n            setToolStyles(annot.ToolName, property, value);\n          }\n        }\n        core.getAnnotationManager().redrawAnnotation(annot);\n      });\n    } else {\n      const currentTool = core.getToolMode();\n      if (currentTool) {\n        if (colorProperties.includes(property)) {\n          const colorRGB = hexToRGBA(value);\n          const color = new window.Core.Annotations.Color(colorRGB.r, colorRGB.g, colorRGB.b, colorRGB.a);\n          setToolStyles(currentTool.name, property, color);\n        } else if (property === 'Opacity') {\n          setToolStyles(currentTool.name, 'Opacity', value);\n        } else if (property === 'StrokeThickness') {\n          setToolStyles(currentTool.name, 'StrokeThickness', value);\n        } else {\n          setToolStyles(currentTool.name, property, value);\n        }\n      }\n    }\n\n    if (property === 'FillColor' && selectedAnnotation instanceof window.Core.Annotations.FreeTextAnnotation) {\n      const editor = selectedAnnotation.getEditor();\n      if (editor?.hasFocus()) {\n        editor.setStyle({ background: value });\n      }\n    }\n  };\n\n  const onLineStyleChange = (section, value) => {\n    const sectionPropertyMap = {\n      start: 'StartLineStyle',\n      middle: 'StrokeStyle',\n      end: 'EndLineStyle',\n    };\n    if (section === 'start') {\n      setStartLineStyle(value);\n    } else if (section === 'middle') {\n      setStrokeStyle(value);\n    } else if (section === 'end') {\n      setEndLineStyle(value);\n    }\n    const annotationsToUpdate = core.getSelectedAnnotations();\n    if (annotationsToUpdate.length > 0) {\n      annotationsToUpdate.forEach((annot) => {\n        if (section === 'start') {\n          annot.setStartStyle(value);\n        } else if (section === 'middle') {\n          const dashes = value.split(',');\n          const lineStyle = dashes.shift();\n          annot.Style = lineStyle;\n          annot.Dashes = dashes;\n        } else if (section === 'end') {\n          annot.setEndStyle(value);\n        }\n        core.getAnnotationManager().redrawAnnotation(annot);\n        if (isAnnotationToolStyleSyncingEnabled) {\n          setToolStyles(annot.ToolName, sectionPropertyMap[section], value);\n        }\n      });\n    } else {\n      const currentTool = core.getToolMode();\n      if (currentTool) {\n        setToolStyles(currentTool.name, sectionPropertyMap[section], value);\n      }\n    }\n  };\n  const handleAutoSize = () => {\n    if (selectedAnnotation) {\n      handleFreeTextAutoSizeToggle(selectedAnnotation, setIsAutoSizeFont, isAutoSizeFont);\n    } else {\n      const currentTool = core.getToolMode();\n      if (currentTool) {\n        setToolStyles(currentTool.name, 'isAutoSizeFont', !style.isAutoSizeFont);\n        setIsAutoSizeFont(!isAutoSizeFont);\n      }\n    }\n  };\n\n  const noToolSelected = (\n    <>\n      <div className='style-panel-header'>\n        {t('stylePanel.headings.styles')}\n      </div>\n      <div className=\"no-tool-selected\">\n        <div>\n          <Icon className=\"empty-icon\" glyph=\"style-panel-no-tool-selected\" />\n        </div>\n        <div className=\"msg\">{t('stylePanel.noToolSelected')}</div>\n      </div>\n    </>\n  );\n\n  const handleRichTextStyleChange = (property, value) => {\n    const originalProperty = property;\n    const originalValue = value;\n    const activeToolRichTextStyle = style['RichTextStyle'][0];\n    if (property === 'underline' || property === 'line-through') {\n      value = getTextDecoration({ [property]: value }, activeToolRichTextStyle);\n      property = 'text-decoration';\n    }\n    const richTextStyle = {\n      0: {\n        ...activeToolRichTextStyle,\n        [property]: value,\n      }\n    };\n\n    const annotationsToUpdate = core.getSelectedAnnotations();\n    if (annotationsToUpdate.length > 0) {\n      annotationsToUpdate.forEach((annotation) => {\n        core.updateAnnotationRichTextStyle(annotation, { [originalProperty]: originalValue }, activeDocumentViewerKey);\n      });\n      setStyle({ ...style, 'RichTextStyle': richTextStyle });\n    } else {\n      const currentTool = core.getToolMode();\n      if (currentTool) {\n        if (typeof currentTool.complete === 'function') {\n          currentTool.complete();\n        }\n        setToolStyles(currentTool.name, 'RichTextStyle', richTextStyle);\n      }\n    }\n  };\n\n  return !showPanel ? (\n    noToolSelected\n  ) : (\n    <>\n      <div className=\"style-panel-header\">{panelTitle}</div>\n      {noToolStyle ? (\n        <div className=\"no-tool-selected\">\n          <div>\n            <Icon className=\"empty-icon\" glyph=\"style-panel-no-tool-selected\" />\n          </div>\n          <div className=\"msg\">{t('stylePanel.noToolStyle')}</div>\n        </div>\n      ) : (\n        <StylePicker\n          sliderProperties={['Opacity', 'StrokeThickness']}\n          style={style}\n          onStyleChange={onStyleChange}\n          isFreeText={isFreeText}\n          isEllipse={isEllipse}\n          isRedaction={isRedaction}\n          isFreeHand={isFreeHand}\n          isArc={isArc}\n          isInFormFieldCreationMode={isInFormFieldCreationMode}\n          showLineStyleOptions={showLineStyleOptions}\n          startLineStyle={startLineStyle}\n          endLineStyle={endLineStyle}\n          strokeStyle={strokeStyle}\n          onLineStyleChange={onLineStyleChange}\n          toolName={selectedAnnotation?.ToolName || core.getToolMode()?.name}\n          onFreeTextSizeToggle={handleAutoSize}\n          isFreeTextAutoSize={isAutoSizeFont}\n          handleRichTextStyleChange={handleRichTextStyleChange}\n        />\n      )}\n    </>\n  );\n};\n\nexport default StylePanel;","import React from 'react';\nimport { useDragLayer } from 'react-dnd';\nimport { ItemTypes } from 'constants/dnd';\n\nconst layerStyles = {\n  position: 'fixed',\n  pointerEvents: 'none',\n  zIndex: 99999,\n  left: 0,\n  top: 0,\n  width: '100%',\n  height: '100%'\n};\n\nconst getItemStyles = (initialOffset, currentOffset) => {\n  if (!initialOffset || !currentOffset) {\n    return {\n      display: 'none'\n    };\n  }\n  const { x, y } = currentOffset;\n  const transform = `translate(calc(${x}px - 50%), calc(${y}px - 100%))`;\n  return {\n    transform,\n    WebkitTransform: transform,\n  };\n};\n\nexport const OutlinesDragLayer = () => {\n  const {\n    itemType,\n    item,\n    isDragging,\n    initialOffset,\n    currentOffset\n  } = useDragLayer((dragLayerState) => ({\n    itemType: dragLayerState.getItemType(),\n    item: dragLayerState.getItem(),\n    isDragging: dragLayerState.isDragging(),\n    initialOffset: dragLayerState.getInitialSourceClientOffset(),\n    currentOffset: dragLayerState.getClientOffset(),\n  }));\n\n  const renderDragItem = () => {\n    if (!item) {\n      return null;\n    }\n\n    const { dragOutline } = item;\n\n    switch (itemType) {\n      case ItemTypes.OUTLINE:\n        return (\n          <>\n            {dragOutline.getName()}\n          </>\n        );\n      default:\n        return null;\n    }\n  };\n\n  if (!isDragging) {\n    return null;\n  }\n\n  return (\n    <div style={layerStyles}>\n      <div\n        className=\"bookmark-outline-single-container preview\"\n        style={getItemStyles(initialOffset, currentOffset)}\n      >\n        {renderDragItem()}\n      </div>\n    </div>\n  );\n};\n","import React, { useState, useLayoutEffect, useRef, useEffect } from 'react';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { DndProvider } from 'react-dnd';\nimport { isMobileDevice } from 'helpers/device';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport TouchBackEnd from 'react-dnd-touch-backend';\nimport OutlineControls from '../OutlineControls';\nimport Outline from 'components/Outline';\nimport OutlineContext from 'components/Outline/Context';\nimport Button from 'components/Button';\nimport OutlineContent from 'components/OutlineContent';\nimport DataElementWrapper from 'components/DataElementWrapper';\n\nimport core from 'core';\nimport outlineUtils from 'helpers/OutlineUtils';\nimport DataElements from 'constants/dataElement';\nimport defaultTool from 'constants/defaultTool';\nimport actions from 'actions';\nimport selectors from 'selectors';\n\nimport '../../constants/bookmarksOutlinesShared.scss';\nimport './OutlinesPanel.scss';\nimport { OutlinesDragLayer } from './OutlinesDragLayer';\n\nconst OutlinesPanel = () => {\n  const [\n    isDisabled,\n    outlines,\n    outlineControlVisibility,\n    outlineEditingEnabled,\n    shouldAutoExpandOutlines,\n    currentPage,\n    pageLabels,\n  ] = useSelector(\n    (state) => [\n      selectors.isElementDisabled(state, DataElements.OUTLINE_PANEL),\n      selectors.getOutlines(state),\n      selectors.isOutlineControlVisible(state),\n      selectors.getOutlineEditingEnabled(state),\n      selectors.shouldAutoExpandOutlines(state),\n      selectors.getCurrentPage(state),\n      selectors.getPageLabels(state),\n    ],\n    shallowEqual,\n  );\n\n  const defaultDestText = 'Full Page';\n  const areaDestinationText = 'Area Selection';\n  const defaultDestCoord = { x: 0, y: 0 };\n\n  const [currentDestText, setCurrentDestText] = useState(defaultDestText);\n  const [currentDestCoord, setCurrentDestCoord] = useState(defaultDestCoord);\n  const [currentDestPage, setCurrentDestPage] = useState(currentPage);\n  const [isOutlineEditable, setOutlineEditable] = useState(false);\n  const [activeOutlinePath, setActiveOutlinePath] = useState(null);\n  const [isAddingNewOutline, setAddingNewOutline] = useState(false);\n  const [editingOutlines, setEditingOutlines] = useState({});\n  const [isAnyOutlineRenaming, setAnyOutlineRenaming] = useState(false);\n  const [isMultiSelectMode, setMultiSelectMode] = useState(false);\n  const [selectedOutlines, setSelectedOutlines] = useState([]);\n\n  const [t] = useTranslation();\n  const dispatch = useDispatch();\n  const nextPathRef = useRef(null);\n  const TOOL_NAME = 'OutlineDestinationCreateTool';\n  const tool = core.getTool(TOOL_NAME);\n\n  useLayoutEffect(() => {\n    setAddingNewOutline(false);\n\n    if (nextPathRef.current !== null) {\n      setActiveOutlinePath(nextPathRef.current);\n      nextPathRef.current = null;\n    }\n\n    const shouldResetMultiSelectedMode = outlines.length === 0;\n    if (shouldResetMultiSelectedMode) {\n      setMultiSelectMode(false);\n    }\n  }, [outlines]);\n\n  useEffect(() => {\n    setOutlineEditable(core.isFullPDFEnabled() && outlineEditingEnabled);\n  }, [outlineEditingEnabled]);\n\n  useEffect(() => {\n    const isAnyEditing = Object.values(editingOutlines).some((value) => value);\n    setAnyOutlineRenaming(isAnyEditing);\n  }, [editingOutlines, outlines]);\n\n  useEffect(() => {\n    const onSetDestination = (annotation) => {\n      setCurrentDestText(annotation['IsText'] ? annotation.getCustomData('trn-annot-preview') : areaDestinationText);\n      setCurrentDestCoord({ x: annotation['X'], y: annotation['Y'] });\n      setCurrentDestPage(annotation['PageNumber']);\n    };\n\n    const onOutlinesBookmarksChanged = () => {\n      core.getOutlines((outlines) => {\n        dispatch(actions.setOutlines(outlines));\n      });\n    };\n\n    const onDocumentLoaded = () => {\n      setActiveOutlinePath(null);\n    };\n\n    core.addEventListener('outlineSetDestination', onSetDestination);\n    window.addEventListener('outlineBookmarksChanged', onOutlinesBookmarksChanged);\n    core.addEventListener('documentLoaded', onDocumentLoaded);\n    return () => {\n      core.removeEventListener('outlineSetDestination', onSetDestination);\n      window.removeEventListener('outlineBookmarksChanged', onOutlinesBookmarksChanged);\n      core.removeEventListener('documentLoaded', onDocumentLoaded);\n    };\n  }, []);\n\n  const getCurrentDestViewerCoord = (pageNum, { x, y }) => {\n    const doc = core.getDocumentViewer().getDocument();\n    // convert annotation coordinates to viewerCoordinates because PDFNet used PDF coordinates\n    return doc.getViewerCoordinates(pageNum, x, y);\n  };\n\n  const addNewOutline = async (name) => {\n    let { x, y } = getCurrentDestViewerCoord(currentDestPage, currentDestCoord);\n    let nextPath;\n    let outlineName = name;\n    if (![defaultDestText, areaDestinationText].includes(currentDestText) && !name) {\n      outlineName = currentDestText.slice(0, 40);\n    } else if (!name) {\n      outlineName = t('message.untitled');\n    }\n\n    const doc = core.getDocumentViewer().getDocument();\n\n    const pageRotation = doc.getPageRotation(currentDestPage) / 90;\n    if (pageRotation === window.Core.PageRotation.E_90 || pageRotation === window.Core.PageRotation.E_270) {\n      const tmp = x;\n      x = y;\n      y = tmp;\n    }\n    if (outlines.length === 0) {\n      nextPath = await outlineUtils.addRootOutline(outlineName, currentDestPage, x, y, 0);\n    } else {\n      nextPath = await outlineUtils.addNewOutline(outlineName, activeOutlinePath, currentDestPage, x, y, 0);\n    }\n\n    nextPathRef.current = nextPath;\n    updateOutlines();\n  };\n\n  const updateOutlines = () => {\n    core.getOutlines((outlines) => {\n      dispatch(actions.setOutlines(outlines));\n    });\n    clearOutlineDestination();\n    setEditingOutlines({});\n  };\n\n  const getPath = (outline) => {\n    return outlineUtils.getPath(outline);\n  };\n\n  const clearOutlineDestination = () => {\n    core.setToolMode(defaultTool);\n    setCurrentDestText(defaultDestText);\n    setCurrentDestCoord(defaultDestCoord);\n    setCurrentDestPage(currentPage);\n    tool.clearOutlineDestination();\n  };\n\n  const updateOutlineDest = async (outlinePath) => {\n    const { x, y } = getCurrentDestViewerCoord(currentDestPage, currentDestCoord);\n    await outlineUtils.setOutlineDestination(outlinePath, currentDestPage, x, y, 0);\n    nextPathRef.current = outlinePath;\n    updateOutlines();\n  };\n\n  useEffect(() => {\n    if (currentDestText === defaultDestText) {\n      setCurrentDestPage(currentPage);\n    }\n  }, [currentDestText, currentPage]);\n\n  useEffect(() => {\n    if (isAddingNewOutline) {\n      core.setToolMode(TOOL_NAME);\n    } else {\n      clearOutlineDestination();\n    }\n  }, [isAddingNewOutline]);\n\n  const generalMoveOutlineAction = (dragOutline, dropOutline, moveDirection) => {\n    const dragPath = getPath(dragOutline);\n    const dropPath = getPath(dropOutline);\n    setSelectedOutlines([]);\n\n    moveDirection.call(outlineUtils, dragPath, dropPath).then((path) => {\n      updateOutlines();\n      nextPathRef.current = path;\n    });\n    core.goToOutline(dragOutline);\n  };\n\n  const moveOutlineAfterTarget = (dragOutline, dropOutline) => {\n    generalMoveOutlineAction(dragOutline, dropOutline, outlineUtils.moveOutlineAfterTarget);\n  };\n\n  const moveOutlineBeforeTarget = (dragOutline, dropOutline) => {\n    generalMoveOutlineAction(dragOutline, dropOutline, outlineUtils.moveOutlineBeforeTarget);\n  };\n\n  const moveOutlineInward = (dragOutline, dropOutline) => {\n    generalMoveOutlineAction(dragOutline, dropOutline, outlineUtils.moveOutlineInTarget);\n  };\n\n  const renameOutline = async (outlinePath, newName) => {\n    await outlineUtils.setOutlineName(outlinePath, newName);\n    updateOutlines();\n  };\n\n  const removeOutlines = async (outlinesToRemove) => {\n    outlinesToRemove.sort().reverse();\n    const confirmationWarning = {\n      message: t('warning.deleteOutline.message'),\n      title: t('warning.deleteOutline.title'),\n      confirmBtnText: t('action.delete'),\n      onConfirm: async () => {\n        for (let i = 0; i < outlinesToRemove.length; i++) {\n          const fullIndex = outlinesToRemove[i];\n          await outlineUtils.deleteOutline(fullIndex);\n        }\n        updateOutlines();\n        setActiveOutlinePath(null);\n        setSelectedOutlines([]);\n      },\n    };\n    dispatch(actions.showWarningMessage(confirmationWarning));\n  };\n\n  if (isDisabled) {\n    return null;\n  }\n\n  return (\n    <div\n      className=\"Panel OutlinesPanel bookmark-outline-panel\"\n      data-element={DataElements.OUTLINE_PANEL}\n    >\n      <div className=\"bookmark-outline-panel-header\">\n        <div className=\"header-title\">\n          {t('component.outlinesPanel')}\n        </div>\n        {isOutlineEditable &&\n          (isMultiSelectMode ?\n            <Button\n              className=\"bookmark-outline-control-button\"\n              dataElement={DataElements.OUTLINE_MULTI_SELECT}\n              label={t('option.bookmarkOutlineControls.done')}\n              disabled={isAddingNewOutline}\n              onClick={() => setMultiSelectMode(false)}\n            />\n            :\n            <Button\n              className=\"bookmark-outline-control-button\"\n              dataElement={DataElements.OUTLINE_MULTI_SELECT}\n              label={t('option.bookmarkOutlineControls.edit')}\n              disabled={isAddingNewOutline || outlines.length === 0}\n              onClick={() => {\n                setMultiSelectMode(true);\n                setSelectedOutlines([]);\n              }}\n            />\n          )\n        }\n      </div>\n      <OutlineContext.Provider\n        value={{\n          currentDestPage: pageLabels[currentDestPage - 1],\n          currentDestText,\n          setActiveOutlinePath,\n          activeOutlinePath,\n          isOutlineActive: (outline) => getPath(outline) === activeOutlinePath,\n          setAddingNewOutline,\n          isAddingNewOutline,\n          setEditingOutlines,\n          editingOutlines,\n          selectedOutlines,\n          isAnyOutlineRenaming,\n          isMultiSelectMode,\n          shouldAutoExpandOutlines,\n          isOutlineEditable,\n          addNewOutline,\n          updateOutlines,\n          renameOutline,\n          updateOutlineDest,\n          removeOutlines,\n        }}\n      >\n        {outlineControlVisibility && <OutlineControls />}\n        <DndProvider backend={isMobileDevice ? TouchBackEnd : HTML5Backend}>\n          <OutlinesDragLayer />\n\n          <div className=\"bookmark-outline-row\">\n            {!isAddingNewOutline && outlines.length === 0 &&\n              <div className=\"msg msg-no-bookmark-outline\">{t('message.noOutlines')}</div>\n            }\n            {outlines.map((outline) => (\n              <Outline\n                key={outlineUtils.getOutlineId(outline)}\n                outline={outline}\n                setMultiSelected={(path, value) => {\n                  if (selectedOutlines.find((outline) => outline === path)) {\n                    if (!value) {\n                      setSelectedOutlines(selectedOutlines.filter((outline) => outline !== path));\n                    }\n                  } else {\n                    if (value) {\n                      setSelectedOutlines([...selectedOutlines, path]);\n                    }\n                  }\n                }}\n                moveOutlineInward={moveOutlineInward}\n                moveOutlineBeforeTarget={moveOutlineBeforeTarget}\n                moveOutlineAfterTarget={moveOutlineAfterTarget}\n              />\n            ))}\n            {isAddingNewOutline && activeOutlinePath === null && (\n              <DataElementWrapper className=\"bookmark-outline-single-container editing\">\n                <OutlineContent\n                  isAdding={true}\n                  text={''}\n                  onCancel={() => setAddingNewOutline(false)}\n                />\n              </DataElementWrapper>\n            )}\n          </div>\n        </DndProvider>\n\n        {isOutlineEditable &&\n          <DataElementWrapper\n            className=\"bookmark-outline-footer\"\n            dataElement={DataElements.OUTLINE_ADD_NEW_BUTTON_CONTAINER}\n          >\n            {isMultiSelectMode ?\n              <>\n                <Button\n                  className=\"multi-selection-button\"\n                  img=\"icon-menu-add\"\n                  disabled={selectedOutlines.length > 0 || isAddingNewOutline}\n                  onClick={() => setAddingNewOutline(true)}\n                />\n                <Button\n                  className=\"multi-selection-button\"\n                  img=\"icon-delete-line\"\n                  disabled={selectedOutlines.length === 0}\n                  onClick={() => removeOutlines(selectedOutlines)}\n                />\n              </>\n              :\n              <Button\n                className=\"bookmark-outline-control-button add-new-button\"\n                img=\"icon-menu-add\"\n                dataElement={DataElements.OUTLINE_ADD_NEW_BUTTON}\n                disabled={isAddingNewOutline}\n                label={`${t('action.add')} ${t('component.outlinePanel')}`}\n                onClick={() => setAddingNewOutline(true)}\n              />\n            }\n          </DataElementWrapper>\n        }\n      </OutlineContext.Provider>\n    </div>\n  );\n};\n\nexport default React.memo(OutlinesPanel);\n","import OutlinesPanel from './OutlinesPanel';\n\nexport default OutlinesPanel;\n","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../../node_modules/sass-loader/dist/cjs.js!./TabPanel.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.TabPanelHeader{margin:16px 0}.TabPanelHeader .TabPanelHeaderElements{display:flex;flex:1;border-radius:4px;border:1px solid var(--border)}.TabPanelHeader .Button{flex-grow:1;height:26px;min-width:-webkit-min-content;min-width:-moz-min-content;min-width:min-content;margin:0;border-radius:0;padding:0 6px;grid-gap:4px;gap:4px}.TabPanelHeader .Button:not(:first-child){border-left:1px solid var(--divider)}.TabPanelHeader .Button:first-child{border-bottom-left-radius:4px;border-top-left-radius:4px}.TabPanelHeader .Button:last-child{border-bottom-right-radius:4px;border-top-right-radius:4px}.TabPanelHeader .Button:hover{background:var(--popup-button-hover)}.TabPanelHeader .Button.active{background:var(--popup-button-active)}.TabPanelHeader .Button .Icon{width:19px;height:19px}.TabPanelHeader .Button span{white-space:nowrap}.TabPanelHeader .moreButton{padding:0;max-width:-webkit-min-content;max-width:-moz-min-content;max-width:min-content}.TabPanelHeader .moreButton.hidden{display:none}.TabPanelHeader .moreButton .ToggleElementButton{display:flex;width:100%}.TabPanelHeader .moreButton .ToggleElementButton .Button{border-bottom-left-radius:0;border-top-left-radius:0}.Panel.OutlinesPanel{overflow:auto;-webkit-overflow-scrolling:touch;flex:1;flex-direction:column}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","import React, { useEffect, useRef, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Measure from 'react-measure';\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport './TabPanel.scss';\nimport Button from 'components/Button';\nimport Element from 'components/Element';\nimport ThumbnailsPanel from 'components/ThumbnailsPanel';\nimport OutlinesPanel from 'components/OutlinesPanel';\nimport BookmarksPanel from 'components/BookmarksPanel';\nimport LayersPanel from 'components/LayersPanel';\nimport CustomElement from 'components/CustomElement';\nimport ToggleElementButton from 'components/ModularComponents/ToggleElementButton';\nimport { panelNames, panelData } from 'constants/panel';\nimport StylePanel from 'components/StylePanel/StylePanel';\n\nconst TabPanel = ({ dataElement: tabPanelDataElement }) => {\n  const dispatch = useDispatch();\n  const tabPanelHeaderRef = useRef();\n  const moreButtonRef = useRef();\n  const FLYOUT_NAME = `${tabPanelDataElement}-flyout`;\n  const [panelsObject, setPanelsObject] = useState({});\n  const [visiblePanelTabs, setVisiblePanelTabs] = useState([]);\n  const [overflowItems, setOverflowItems] = useState([]);\n  const [headerContainerPrevWidth, setHeaderContainerPrevWidth] = useState({ width: 0 });\n  const [headerContainerWidth, setHeaderContainerWidth] = useState({ width: 0 });\n\n  const [\n    customFlxPanels,\n    activeCustomPanel,\n    flyoutMap\n  ] = useSelector(\n    (state) => [\n      selectors.getCustomFlxPanels(state),\n      selectors.getActiveCustomPanel(state, tabPanelDataElement),\n      selectors.getFlyoutMap(state),\n    ],\n  );\n\n  const panelsList = customFlxPanels.find((panel) => panel.dataElement === tabPanelDataElement).panelsList;\n\n  const renderPanel = (panel) => {\n    switch (panel) {\n      case panelNames.THUMBNAIL:\n        return <ThumbnailsPanel panelSelector={`${activeCustomPanel}-tab-panel`} />;\n      case panelNames.OUTLINE:\n        return <OutlinesPanel />;\n      case panelNames.BOOKMARKS:\n        return <BookmarksPanel />;\n      case panelNames.LAYERS:\n        return <LayersPanel />;\n      case panelNames.STYLE:\n        return <StylePanel />;\n      case panelNames.SIGNATURE:\n        // to be added once we have the new panel for signature\n        return <div></div>;\n      case panelNames.TEXT_EDITING:\n        // to be added once we have the new panel for text editing\n        return <div></div>;\n      default:\n        return <div></div>;\n    }\n  };\n\n  const createCustomElement = (item) => {\n    return <CustomElement\n      key={item.dataElement}\n      className={`Panel ${item.dataElement}`}\n      display={item.dataElement}\n      dataElement={item.dataElement}\n      render={item.render}\n    />;\n  };\n\n  const getPanelsObjectToRender = () => {\n    const panelsToRender = {};\n\n    panelsList?.forEach((panel) => {\n      const presetPanels = Object.values(panelNames);\n      // Case it is a preset panel\n      if (typeof panel.render === 'string') {\n        if (presetPanels.includes(panel.render)) {\n          const panelInfo = panelData[panel.render];\n          panelsToRender[panel.render] = {\n            title: panelInfo.title,\n            label: panel.label ?? panelInfo.label,\n            icon: panel.icon ?? panelInfo.icon,\n            render: renderPanel(panel.render)\n          };\n        } else {\n          // When the user wants to render a custom panel previously defined\n          const customPanel = customFlxPanels.find((customPanel) => customPanel.dataElement === panel.render);\n          if (!customPanel) {\n            console.warn(`Panel ${panel.render} is not a valid custom panel`);\n            return;\n          }\n          panelsToRender[panel.render] = {\n            ...customPanel,\n            render: createCustomElement(customPanel)\n          };\n        }\n      } else if (typeof panel.render === 'function') {\n        dispatch(actions.addPanel(panel));\n        panelsToRender[panel.dataElement] = {\n          title: panel.title,\n          label: panel.label,\n          icon: panel.icon,\n          render: createCustomElement(panel)\n        };\n      }\n    });\n    return panelsToRender;\n  };\n\n  const handleActiveTabPanel = () => {\n    if (activeCustomPanel && !visiblePanelTabs.includes(activeCustomPanel)) {\n      setVisiblePanelTabs([...visiblePanelTabs, activeCustomPanel]);\n      const overflowItemsToKeep = overflowItems.filter((item) => item !== activeCustomPanel);\n      setOverflowItems(overflowItemsToKeep);\n    }\n  };\n\n  const setOverflowFlyout = () => {\n    const flyout = {\n      dataElement: FLYOUT_NAME,\n      className: 'tabPanelOverflowFlyout',\n      items: [],\n    };\n    if (overflowItems.length > 0) {\n      for (const item of overflowItems) {\n        const flyoutItem = {\n          ...panelsObject[item],\n          onClick: () => {\n            dispatch(actions.setActiveCustomPanel(item, tabPanelDataElement));\n            dispatch(actions.closeElements([FLYOUT_NAME]));\n          }\n        };\n        flyout.items.push(flyoutItem);\n      }\n    }\n\n    if (flyoutMap[FLYOUT_NAME]) {\n      dispatch(actions.updateFlyout(FLYOUT_NAME, flyout));\n    } else {\n      dispatch(actions.addFlyout(flyout, FLYOUT_NAME));\n    }\n  };\n\n  const moveItemsToOverflow = (items) => {\n    setOverflowItems([...overflowItems, ...items]);\n    const itemsToKeepVisible = visiblePanelTabs.filter((item) => !(items.includes(item)));\n    setVisiblePanelTabs(itemsToKeepVisible);\n  };\n\n  const moveItemsToContainer = (items) => {\n    setVisiblePanelTabs([...visiblePanelTabs, ...items]);\n    const itemsToKeepInOverflow = overflowItems.filter((item) => !(items.includes(item)));\n    setOverflowItems(itemsToKeepInOverflow);\n  };\n\n  const getItemsToHide = (items, itemsDom, missingSpace) => {\n    let spaceToFree = missingSpace;\n    const allItems = [...items];\n    const itemsToHide = [];\n    while (spaceToFree <= 0 && allItems.length > 1) {\n      const activeIndex = allItems.findIndex((item) => item === activeCustomPanel);\n      const lastIndex = allItems.length - 1;\n      const lastIndexToHide = activeIndex === lastIndex ? lastIndex - 1 : lastIndex;\n\n      const lastItem = allItems[lastIndexToHide];\n      itemsToHide.push(lastItem);\n      allItems.splice(lastIndexToHide, 1);\n      const lastItemDom = Array.from(itemsDom).find((item) => item.getAttribute('data-element') === `${lastItem}-${tabPanelDataElement}`);\n      const lastItemSpace = lastItemDom.getBoundingClientRect().width;\n      spaceToFree += (lastItemSpace);\n    }\n    return itemsToHide;\n  };\n\n  const getAvailableSpace = (itemsShown, headerRect) => {\n    const lastItemRect = itemsShown[itemsShown.length - 1]?.getBoundingClientRect();\n    const lastItemEnd = lastItemRect?.right;\n    const parentRectEnd = headerRect?.right;\n\n    return parentRectEnd - lastItemEnd;\n  };\n\n  const handleTabPanelElements = () => {\n    dispatch(actions.closeElements([FLYOUT_NAME]));\n    const itemsShown = tabPanelHeaderRef?.current?.querySelectorAll('.tabPanelButton');\n    const headerRect = tabPanelHeaderRef.current.getBoundingClientRect();\n    const availableSpace = getAvailableSpace(itemsShown, headerRect);\n    const moreButtonRect = moreButtonRef.current.getBoundingClientRect();\n    const sizeNeededForButton = moreButtonRect.width;\n\n    if (availableSpace < sizeNeededForButton && visiblePanelTabs.length > 1) {\n      const minAvailableSpaceRequired = availableSpace - sizeNeededForButton;\n      const itemsToHide = getItemsToHide(visiblePanelTabs, itemsShown, minAvailableSpaceRequired);\n      moveItemsToOverflow(itemsToHide);\n    } else if (overflowItems.length > 0) {\n      const shownItems = [].slice.call(itemsShown);\n      const largestItem = shownItems.reduce((largestItem, item) => {\n        return largestItem.getBoundingClientRect().width > item.getBoundingClientRect().width ? largestItem : item;\n      });\n\n      const spaceForLargestItem = largestItem.getBoundingClientRect().width;\n      if (availableSpace > spaceForLargestItem + sizeNeededForButton) {\n        moveItemsToContainer([overflowItems[0]]);\n      }\n    }\n  };\n\n  useEffect(() => {\n    setPanelsObject(getPanelsObjectToRender());\n  }, []);\n\n  useEffect(() => {\n    handleActiveTabPanel();\n    setOverflowFlyout();\n  }, [activeCustomPanel]);\n\n  useEffect(() => {\n    if (!activeCustomPanel) {\n      const firstPanel = Object.keys(panelsObject)[0];\n      dispatch(actions.setActiveCustomPanel(firstPanel, tabPanelDataElement));\n    }\n\n    setVisiblePanelTabs(Object.keys(panelsObject));\n  }, [panelsObject]);\n\n  useEffect(() => {\n    handleTabPanelElements();\n    setOverflowFlyout();\n  }, [\n    visiblePanelTabs,\n    overflowItems,\n    headerContainerWidth\n  ]);\n\n  useEffect(() => {\n    if (headerContainerPrevWidth !== headerContainerWidth) {\n      if (headerContainerWidth > headerContainerPrevWidth) {\n        if (overflowItems.length) {\n          const itemsToMove = overflowItems.slice(0, 1);\n          moveItemsToContainer(itemsToMove);\n        }\n      }\n      setHeaderContainerPrevWidth(headerContainerWidth);\n    }\n  }, [headerContainerWidth]);\n\n  const renderTabs = () => {\n    if (visiblePanelTabs?.length) {\n      return visiblePanelTabs.map((tab) => {\n        const panelInfo = panelsObject[tab];\n        return (\n          <Button\n            className={'tabPanelButton'}\n            key={`${tab}-${tabPanelDataElement}`}\n            isActive={tab === activeCustomPanel}\n            dataElement={`${tab}-${tabPanelDataElement}`}\n            img={panelInfo.icon}\n            onClick={() => dispatch(actions.setActiveCustomPanel(tab, tabPanelDataElement))}\n            title={panelInfo.title}\n            label={panelInfo.label}\n          />\n        );\n      });\n    }\n  };\n\n  const getActivePanelRender = () => {\n    const activePanel = panelsObject[activeCustomPanel];\n    return activePanel?.render;\n  };\n\n  return (\n    <>\n      <Measure\n        bounds\n        innerRef={tabPanelHeaderRef}\n        onResize={({ bounds }) => {\n          setHeaderContainerWidth(bounds.width);\n        }}>\n        {({ measureRef }) => (\n          <div ref={measureRef} className='TabPanelHeader'>\n            <Element className='TabPanelHeaderElements' dataElement='TabPanelHeaderElements'>\n              {renderTabs()}\n              <div\n                ref={moreButtonRef}\n                className={classNames({\n                  'moreButton': true,\n                  'Button': true,\n                  'hidden': overflowItems.length === 0,\n                })}\n              >\n                <ToggleElementButton\n                  dataElement={`${tabPanelDataElement}-moreButton`}\n                  toggleElement={FLYOUT_NAME}\n                  title=\"action.more\"\n                  img={'icon-tools-more'}\n                />\n              </div>\n            </Element>\n          </div>\n        )}\n      </Measure>\n      {getActivePanelRender()}\n    </>\n  );\n};\n\nTabPanel.propTypes = {\n  dataElement: PropTypes.string.isRequired,\n};\n\nexport default TabPanel;","import TabPanel from './TabPanel';\n\nexport default TabPanel;"],"sourceRoot":""}